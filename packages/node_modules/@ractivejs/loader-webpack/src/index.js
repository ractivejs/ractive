import { toParts, toModule, replaceExtension } from '@ractivejs/utils-component'

export default function (content) {
  const source = this.resourcePath
  const file = replaceExtension(this.resourcePath, '.js')
  const parts = toParts(content)
  const { code, map } = toModule({ source, file, parts })
  this.callback(null, code, map)
}
