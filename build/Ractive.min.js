!function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub="0.3.7",vb=a.document||null,wb={},xb={},yb={},zb={},Ab={}.hasOwnProperty,Bb=function(){},Cb=a.console||{log:Bb,warn:Bb},Db=/^\s+/,Eb=/\s+$/,Fb="Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",Gb=1,Hb=2,Ib=3,Jb=4,Kb=5,Lb=6,Mb=7,Nb=8,Ob=9,Pb=10,Qb=11,Rb=12,Sb=15,Tb=20,Ub=21,Vb=22,Wb=23,Xb=24,Yb=26,Zb=27,$b=30,_b=31,ac=32,bc=33,cc=34,dc=35,ec=36,fc=40,gc=vb?vb.createElement("div"):null,hc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};try{try{Object.defineProperty({},"test",{value:0}),Object.defineProperties({},{test:{value:0}})}catch(ic){throw tb=!0,ic}vb&&(Object.defineProperty(gc,"test",{value:0}),Object.defineProperties(gc,{test:{value:0}})),E=Object.defineProperty,F=Object.defineProperties}catch(ic){E=function(a,b,c){a[b]=c.value},F=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&E(a,c,b[c])}}try{Object.create(null),G=Object.create,H=function(){return Object.create(null)}}catch(ic){G=function(){var a=function(){};return function(b,c){var d;return a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d}}(),H=function(){return{}}}var jc,kc,lc,mc=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})};!function(){vb&&(void 0!==gc.style.transition?(kc="transition",lc="transitionend",jc=!0):void 0!==gc.style.webkitTransition?(kc="webkitTransition",lc="webkitTransitionEnd",jc=!0):jc=!1)}(),a.Node&&!a.Node.prototype.contains&&a.HTMLElement&&a.HTMLElement.prototype.contains&&(a.Node.prototype.contains=a.HTMLElement.prototype.contains),function(){var a,b,c,d,e,f,g,h,i,j,k,l;P=function(){var b,d,e,f=this.parentNode;return this.fragment?(b=a(this))?(this.interpolator=b,this.keypath=b.keypath||b.descriptor.r,(d=c(this))?(f._ractive.binding=d,this.twoway=!0,e=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),e[e.length]=d,!0):!1):!1:!1},b=function(){this._ractive.binding.update()},a=function(a){var b;return 1!==a.fragment.items.length?null:(b=a.fragment.items[0],b.type!==Hb?null:b.keypath||b.ref?b:null)},c=function(a){var b=a.parentNode;if("SELECT"===b.tagName)return b.multiple?new e(a,b):new f(a,b);if("checkbox"===b.type||"radio"===b.type){if("name"===a.propertyName){if("checkbox"===b.type)return new h(a,b);if("radio"===b.type)return new g(a,b)}return"checked"===a.propertyName?new i(a,b):null}return"value"!==a.propertyName&&Cb.warn("This is... odd"),"file"===a.parentNode.type?new j(a,b):b.getAttribute("contenteditable")?new k(a,b):new l(a,b)},e=function(a,c){var e;d(this,a,c),c.addEventListener("change",b,!1),e=this.root.get(this.keypath),void 0===e&&this.update()},e.prototype={value:function(){var a,b,c,d;for(a=[],b=this.node.options,d=b.length,c=0;d>c;c+=1)b[c].selected&&(a[a.length]=b[c]._ractive.value);return a},update:function(){var a,b,c;a=this.attr,b=a.value,c=this.value(),void 0!==b&&Ac(c,b)||(a.receiving=!0,a.value=c,this.root.set(this.keypath,c),a.receiving=!1)},teardown:function(){this.node.removeEventListener("change",b,!1)}},f=function(a,c){var e;d(this,a,c),c.addEventListener("change",b,!1),e=this.root.get(this.keypath),void 0===e&&this.update()},f.prototype={value:function(){var a,b,c;for(a=this.node.options,c=a.length,b=0;c>b;b+=1)if(a[b].selected)return a[b]._ractive.value},update:function(){var a=this.value();this.attr.receiving=!0,this.attr.value=a,this.root.set(this.keypath,a),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",b,!1)}},g=function(a,c){var e;this.radioName=!0,d(this,a,c),c.name="{{"+a.keypath+"}}",c.addEventListener("change",b,!1),c.attachEvent&&c.addEventListener("click",b,!1),e=this.root.get(this.keypath),void 0!==e?c.checked=e===c._ractive.value:this.root._defRadios[this.root._defRadios.length]=this},g.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var a=this.node;a.checked&&(this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1)},teardown:function(){this.node.removeEventListener("change",b,!1),this.node.removeEventListener("click",b,!1)}},h=function(a,c){var e,f;this.checkboxName=!0,d(this,a,c),c.name="{{"+this.keypath+"}}",c.addEventListener("change",b,!1),c.attachEvent&&c.addEventListener("click",b,!1),e=this.root.get(this.keypath),void 0!==e?(f=-1!==e.indexOf(c._ractive.value),c.checked=f):-1===this.root._defCheckboxes.indexOf(this.keypath)&&(this.root._defCheckboxes[this.root._defCheckboxes.length]=this.keypath)},h.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,this.attr.receiving=!0,this.root.set(this.keypath,vc(this.root,this.keypath)),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",b,!1),this.node.removeEventListener("click",b,!1)}},i=function(a,c){d(this,a,c),c.addEventListener("change",b,!1),c.attachEvent&&c.addEventListener("click",b,!1)},i.prototype={value:function(){return this.node.checked},update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",b,!1),this.node.removeEventListener("click",b,!1)}},j=function(a,c){d(this,a,c),c.addEventListener("change",b,!1)},j.prototype={value:function(){return this.attr.parentNode.files},update:function(){this.attr.root.set(this.attr.keypath,this.value())},teardown:function(){this.node.removeEventListener("change",b,!1)}},k=function(a,c){d(this,a,c),c.addEventListener("change",b,!1),this.root.lazy||(c.addEventListener("input",b,!1),c.attachEvent&&c.addEventListener("keyup",b,!1))},k.prototype={update:function(){this.node&&this.node.childNodes[0]?this.root.set(this.keypath,this.node.childNodes[0].nodeValue):this.root.set(this.keypath,"")},teardown:function(){this.node.removeEventListener("change",b,!1),this.node.removeEventListener("input",b,!1),this.node.removeEventListener("keyup",b,!1)}},l=function(a,c){d(this,a,c),c.addEventListener("change",b,!1),this.root.lazy||(c.addEventListener("input",b,!1),c.attachEvent&&c.addEventListener("keyup",b,!1))},l.prototype={value:function(){var a=this.attr.parentNode.value;return+a+""===a&&-1===a.indexOf("e")&&(a=+a),a},update:function(){var a=this.attr,b=this.value();a.receiving=!0,a.root.set(a.keypath,b),a.receiving=!1},teardown:function(){this.node.removeEventListener("change",b,!1),this.node.removeEventListener("input",b,!1),this.node.removeEventListener("keyup",b,!1)}},d=function(a,b,c){a.attr=b,a.node=c,a.root=b.root,a.keypath=b.keypath}}(),function(){var a,b,c,d,e,f,g,h,i;O=function(){var d;if(!this.ready)return this;if(d=this.parentNode,"SELECT"===d.tagName&&"value"===this.name)return this.update=b,this.deferredUpdate=c,this.update();if(this.isFileInputValue)return this.update=a,this;if(this.twoway&&"name"===this.name){if("radio"===d.type)return this.update=f,this.update();if("checkbox"===d.type)return this.update=g,this.update()}return d.getAttribute("contenteditable")?(this.update=i,this.update()):(this.update=h,this.update())},a=function(){return this},c=function(){this.deferredUpdate=this.parentNode.multiple?e:d,this.deferredUpdate()},b=function(){return this.root._defSelectValues.push(this),this},d=function(){var a,b,c,d=this.fragment.getValue();for(this.value=d,a=this.parentNode.options,c=a.length;c--;)if(b=a[c],b._ractive.value===d)return b.selected=!0,this;return this},e=function(){var a,b,c=this.fragment.getValue();for(r(c)||(c=[c]),a=this.parentNode.options,b=a.length;b--;)a[b].selected=-1!==c.indexOf(a[b]._ractive.value);return this.value=c,this},f=function(){var a,b;return a=this.parentNode,b=this.fragment.getValue(),a.checked=b===a._ractive.value,this},g=function(){var a,b;return a=this.parentNode,b=this.fragment.getValue(),r(b)?(a.checked=-1!==b.indexOf(a._ractive.value),this):(a.checked=b===a._ractive.value,this)},i=function(){var a,b;return a=this.parentNode,b=this.fragment.getValue(),b!==this.value&&(this.isValueAttribute&&(this.value=b),this.useProperty&&(this.receiving||(a[this.propertyName]=b),this.value=b),this.receiving&&a.getAttribute("contenteditable")&&a.innerHTML!==b&&(a.innerHTML=b),a.setAttribute(this.name,b)),this},h=function(){var a,b;if(a=this.parentNode,b=this.fragment.getValue(),this.isValueAttribute&&(a._ractive.value=b),void 0===b&&(b=""),b!==this.value){if(this.useProperty)return this.receiving||(a[this.propertyName]=b),this.value=b,this;if(this.namespace)return a.setAttributeNS(this.namespace,this.name,b),this.value=b,this;"id"===this.name&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[b]=a),a.setAttribute(this.name,b),this.value=b}return this}}(),I=function(a,b){var c,d,e;for(d in b)if(Ab.call(b,d))for(e=d.split("-"),c=e.length;c--;)J(a,e[c],b[d],a.parentFragment.contextStack)},function(){var a,c,d,e,f,g,h,i;J=function(b,c,d,e,f){var g,h;g=b.ractify().events,h=g[c]||(g[c]=new a(b,c,e,f)),h.add(d)},a=function(a,c,d){var e;this.element=a,this.root=a.root,this.node=a.node,this.name=c,this.contextStack=d,this.proxies=[],(e=this.root.eventDefinitions[c]||b.eventDefinitions[c])?this.custom=e(this.node,i(c)):this.node.addEventListener(c,h,!1)},a.prototype={add:function(a){this.proxies[this.proxies.length]=new c(this.element,this.root,a,this.contextStack)},teardown:function(){var a;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,h,!1),a=this.proxies.length;a--;)this.proxies[a].teardown()},fire:function(a){for(var b=this.proxies.length;b--;)this.proxies[b].fire(a)}},c=function(a,b,c,g){var h;return this.root=b,h=c.n||c,this.n="string"==typeof h?h:new Z({descriptor:c.n,root:this.root,owner:a,contextStack:g}),c.a?(this.a=c.a,this.fire=e,void 0):c.d?(this.d=new Z({descriptor:c.d,root:this.root,owner:a,contextStack:g}),this.fire=f,void 0):(this.fire=d,void 0)},c.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:Bb},d=function(a){this.root.fire(this.n.toString(),a)},e=function(a){this.root.fire(this.n.toString(),a,this.a)},f=function(a){this.root.fire(this.n.toString(),a,this.d.toJSON())},h=function(a){var b=this._ractive;b.events[a.type].fire({node:this,original:a,index:b.index,keypath:b.keypath,context:b.root.get(b.keypath)})},g={},i=function(a){return g[a]?g[a]:g[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}}}(),K=function(a,b,c,d){"string"!=typeof c.f||b&&b.namespaceURI&&b.namespaceURI!==hc.html?"style"===c.e&&void 0!==b.styleSheet?(a.fragment=new Z({descriptor:c.f,root:a.root,contextStack:a.parentFragment.contextStack,owner:a}),d&&(a.bubble=function(){b.styleSheet.cssText=a.fragment.toString()})):(a.fragment=new Q({descriptor:c.f,root:a.root,parentNode:b,contextStack:a.parentFragment.contextStack,owner:a}),d&&b.appendChild(a.fragment.docFrag)):(a.html=c.f,d&&(b.innerHTML=a.html))},L=function(a,b){if(a.ractify(),a.node.getAttribute("contenteditable"))return b.value&&b.value.bind(),void 0;switch(a.descriptor.e){case"select":case"textarea":return b.value&&b.value.bind(),void 0;case"input":if("radio"===a.node.type||"checkbox"===a.node.type){if(b.name&&b.name.bind())return;if(b.checked&&b.checked.bind())return}if(b.value&&b.value.bind())return}},M=function(a,b){var c,d,e;a.attributes=[];for(c in b)Ab.call(b,c)&&(d=b[c],e=new S({element:a,name:c,value:d,root:a.root,parentNode:a.node,contextStack:a.parentFragment.contextStack}),a.attributes[a.attributes.length]=e,("value"===c||"name"===c||"checked"===c)&&(a.attributes[c]=e),"name"!==c&&e.update());return a.attributes},N=function(a,b){return a.a&&a.a.xmlns?a.a.xmlns:"svg"===a.e.toLowerCase()?hc.svg:b.namespaceURI},y=function(a,c,d,e,f){var g,h,i,j,k;c.transitionsEnabled&&("string"==typeof a?g=a:(g=a.n,a.a?h=a.a:a.d&&(i=new Z({descriptor:a.d,root:c,owner:d,contextStack:d.parentFragment.contextStack}),h=i.toJSON(),i.teardown())),k=c.transitions[g]||b.transitions[g],k&&(j=c._transitionManager,j.push(d.node),k.call(c,d.node,function(){j.pop(d.node)},h,f)))},A=function(a,b){return a.components[b]},function(){var a={};w=function(b,c,d){var e,f=[];for(e=a[c]||(a[c]=vb.createElement(c)),e.innerHTML=b;e.firstChild;)f[f.length]=e.firstChild,d.appendChild(e.firstChild);return f}}(),function(){var a,b,c;x=function(b,c,d,e,f){var g,h,i,j,k,l,m;for(i=c.descriptor.i,g=d;e>g;g+=1)h=c.fragments[g],j=g-f,k=g,l=c.keypath+"."+(g-f),m=c.keypath+"."+g,h.index+=f,a(h,i,j,k,f,l,m);p(b)},a=function(d,e,f,g,h,i,j){var k,l,m;for(d.indexRefs&&void 0!==d.indexRefs[e]&&(d.indexRefs[e]=g),k=d.contextStack.length;k--;)m=d.contextStack[k],m.substr(0,i.length)===i&&(d.contextStack[k]=m.replace(i,j));for(k=d.items.length;k--;)switch(l=d.items[k],l.type){case Mb:b(l,e,f,g,h,i,j);break;case Nb:a(l.fragment,e,f,g,h,i,j);break;case Jb:case Hb:case Ib:c(l,e,f,g,h,i,j)}},b=function(b,c,d,e,f,g,h){var i,j,k,l,m,n;for(i=b.attributes.length;i--;)j=b.attributes[i],j.fragment&&(a(j.fragment,c,d,e,f,g,h),j.twoway&&j.updateBindings());if(k=b.node._ractive){k.keypath.substr(0,g.length)===g&&(k.keypath=k.keypath.replace(g,h)),void 0!==c&&(k.index[c]=e);for(l in k.events)for(m=k.events[l].proxies,i=m.length;i--;)n=m[i],"object"==typeof n.n&&a(n.a,c,d,e,f,g,h),n.d&&a(n.d,c,d,e,f,g,h);k.binding&&k.binding.keypath.substr(0,g.length)===g&&(k.binding.keypath=k.binding.keypath.replace(g,h))}b.fragment&&a(b.fragment,c,d,e,f,g,h)},c=function(b,c,d,e,f,g,h){var i;if(b.descriptor.x&&(b.keypath&&k(b),b.expressionResolver&&b.expressionResolver.teardown(),b.expressionResolver=new bb(b)),b.keypath?b.keypath.substr(0,g.length)===g&&b.resolve(b.keypath.replace(g,h)):b.indexRef===c&&(b.value=e,b.render(e)),b.fragments)for(i=b.fragments.length;i--;)a(b.fragments[i],c,d,e,f,g,h)}}(),function(a){var b,c,d,e,f;cb=function(a,c,e,f,g){var h,i;for(this.root=a,this.keypath=c,this.priority=g,this.dependants=0,this.fn=d(e,f.length),this.values=[],this.refs=[],h=f.length;h--;)(i=f[h])?i[0]?this.values[h]=i[1]:this.refs[this.refs.length]=new b(a,i[1],this,h,g):this.values[h]=void 0;this.selfUpdating=this.refs.length<=1},cb.prototype={wake:function(){this.awake=!0,this.update()},sleep:function(){this.awake=!1},bubble:function(){this.awake&&(this.selfUpdating?this.update():this.deferred||(this.root._defEvals[this.root._defEvals.length]=this,this.deferred=!0))},update:function(){var a;if(this.evaluating)return this;this.evaluating=!0;try{a=this.fn.apply(null,this.values)}catch(b){if(this.root.debug)throw b;a=void 0}return u(a,this.value)||(i(this.root,this.keypath),this.root._cache[this.keypath]=a,l(this.root,this.keypath),this.value=a),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();i(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var a=this.refs.length;a--;)this.refs[a].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(a){var b,d,e;for(this.softRefs||(this.softRefs=[]),b=this.softRefs.length;b--;)e=this.softRefs[b],a[e.keypath]||(this.softRefs.splice(b,1),this.softRefs[e.keypath]=!1,e.teardown());for(b=a.length;b--;)d=a[b],this.softRefs[d]||(e=new c(this.root,d,this),this.softRefs[this.softRefs.length]=e,this.softRefs[d]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},b=function(a,b,c,d,e){var g;this.evaluator=c,this.keypath=b,this.root=a,this.argNum=d,this.type=$b,this.priority=e,g=a.get(b),"function"==typeof g&&(g=g._wrapped||f(g,a,c)),this.value=c.values[d]=g,j(this)},b.prototype={update:function(){var a=this.root.get(this.keypath);"function"!=typeof a||a._nowrap||(a=a["_"+this.root._guid]||f(a,this.root,this.evaluator)),u(a,this.value)||(this.evaluator.values[this.argNum]=a,this.evaluator.bubble(),this.value=a)},teardown:function(){k(this)}},c=function(a,b,c){this.root=a,this.keypath=b,this.priority=c.priority,this.evaluator=c,j(this)},c.prototype={update:function(){var a=this.root.get(this.keypath);u(a,this.value)||(this.evaluator.bubble(),this.value=a)},teardown:function(){k(this)}},d=function(b,c){var d,e;if(b=b.replace(/\$\{([0-9]+)\}/g,"_$1"),a[b])return a[b];for(e=[];c--;)e[c]="_"+c;return d=new Function(e.join(","),"return("+b+")"),a[b]=d,d},e=/this/,f=function(a,b,c){var d;if(!e.test(a.toString()))return E(a,"_nowrap",{value:!0}),a;E(a,"_"+b._guid,{value:function(){var d,e,f;return d=b.get,b.get=function(a){return f||(f=[]),f[a]||(f[f.length]=a,f[a]=!0),d.call(b,a)},e=a.apply(b,arguments),f&&c.updateSoftDependencies(f),b.get=d,e},writable:!0});for(d in a)Ab.call(a,d)&&(a["_"+b._guid][d]=a[d]);return a["_"+b._guid]}}({}),function(){var a,b;bb=function(b){var c,d,e,f,g;if(this.root=b.root,this.mustache=b,this.args=[],this.scouts=[],c=b.descriptor.x,g=b.parentFragment.indexRefs,this.str=c.s,e=this.unresolved=this.args.length=c.r?c.r.length:0,!e)return this.resolved=this.ready=!0,this.bubble(),void 0;for(d=0;e>d;d+=1)f=c.r[d],g&&void 0!==g[f]?this.resolveRef(d,!0,g[f]):this.scouts[this.scouts.length]=new a(this,f,b.contextStack,d);this.ready=!0,this.bubble()},bb.prototype={bubble:function(){this.ready&&(this.keypath=b(this.str,this.args),this.createEvaluator(),this.mustache.resolve(this.keypath))},teardown:function(){for(;this.scouts.length;)this.scouts.pop().teardown()},resolveRef:function(a,b,c){this.args[a]=[b,c],this.bubble(),this.resolved=!--this.unresolved},createEvaluator:function(){this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():this.root._evaluators[this.keypath]=new cb(this.root,this.keypath,this.str,this.args,this.mustache.priority)}},a=function(a,b,c,d){var e,f;f=this.root=a.root,e=o(f,b,c),e?a.resolveRef(d,!1,e):(this.ref=b,this.argNum=d,this.resolver=a,this.contextStack=c,f._pendingResolution[f._pendingResolution.length]=this)},a.prototype={resolve:function(a){this.keypath=a,this.resolver.resolveRef(this.argNum,!1,a)},teardown:function(){this.keypath||h(this)}},b=function(a,b){var c;return c=a.replace(/\$\{([0-9]+)\}/g,function(a,c){return b[c]?b[c][1]:"undefined"}),"("+c.replace(/[\.\[\]]/g,"-")+")"}}(),function(){var a,c;z=function(d,e){var f,g;if(g=a(d,e))return g;if(g=a(b,e))return g;if(vb&&(f=vb.getElementById(e),f&&"SCRIPT"===f.tagName)){if(!b.parse)throw new Error(Fb);b.partials[e]=b.parse(f.innerHTML)}return g=b.partials[e],g?c(g):(d.debug&&Cb&&Cb.warn&&Cb.warn('Could not find descriptor for partial "'+e+'"'),[])},a=function(a,d){var e,f;if(a.partials[d]){if("string"==typeof a.partials[d]){if(!b.parse)throw new Error(Fb);if(e=b.parse(a.partials[d],a.parseOptions),s(e)){a.partials[d]=e.main;for(f in e.partials)e.partials.hasOwnProperty(f)&&(a.partials[f]=e.partials[f])}else a.partials[d]=e}return c(a.partials[d])}},c=function(a){return 1===a.length&&"string"==typeof a[0]?a[0]:a}}(),ib=function(a,b){var c,d,e,f,g;if(a.owner=b.owner,e=a.owner.parentFragment,a.root=b.root,a.parentNode=b.parentNode,a.contextStack=b.contextStack||[],a.owner.type===Jb&&(a.index=b.index),e&&(f=e.indexRefs)){a.indexRefs=H();for(g in f)a.indexRefs[g]=f[g]}for(a.priority=e?e.priority+1:1,b.indexRef&&(a.indexRefs||(a.indexRefs={}),a.indexRefs[b.indexRef]=b.index),a.items=[],c=b.descriptor?b.descriptor.length:0,d=0;c>d;d+=1)a.items[a.items.length]=a.createItem({parentFragment:a,descriptor:b.descriptor[d],index:d})},B=function(a){var b,c,d;for(b=a.items.length;b--;)if(c=a.items[b],c.type!==Gb){if(c.type!==Hb)return!1;if(d)return!1;d=!0}return!0},fb=function(a,b){var c,d,e;e=a.parentFragment=b.parentFragment,a.root=e.root,a.contextStack=e.contextStack,a.descriptor=b.descriptor,a.index=b.index||0,a.priority=e.priority,e.parentNode&&(a.parentNode=e.parentNode),a.type=b.descriptor.t,b.descriptor.r&&(e.indexRefs&&void 0!==e.indexRefs[b.descriptor.r]?(d=e.indexRefs[b.descriptor.r],a.indexRef=b.descriptor.r,a.value=d,a.render(a.value)):(c=o(a.root,b.descriptor.r,a.contextStack),c?a.resolve(c):(a.ref=b.descriptor.r,a.root._pendingResolution[a.root._pendingResolution.length]=a,a.descriptor.n&&a.render(!1)))),b.descriptor.x&&(a.expressionResolver=new bb(a))},gb=function(){var a=this.root.get(this.keypath,!0);u(a,this.value)||(this.render(a),this.value=a)},hb=function(a){this.resolved&&k(this),this.keypath=a,j(this),this.update(),this.expressionResolver&&this.expressionResolver.resolved&&(this.expressionResolver=null),this.resolved=!0},function(){var a,b,c,d;jb=function(e,f){var g;return g={descriptor:e.descriptor.f,root:e.root,parentNode:e.parentNode,owner:e},e.descriptor.n?(d(e,f,!0,g),void 0):(r(f)?a(e,f,g):s(f)?e.descriptor.i?b(e,f,g):c(e,g):d(e,f,!1,g),void 0)},a=function(a,b,c){var d,e,f;if(e=b.length,e<a.length)for(f=a.fragments.splice(e,a.length-e);f.length;)f.pop().teardown(!0);else if(e>a.length)for(d=a.length;e>d;d+=1)c.contextStack=a.contextStack.concat(a.keypath+"."+d),c.index=d,a.descriptor.i&&(c.indexRef=a.descriptor.i),a.fragments[d]=a.createFragment(c);a.length=e},b=function(a,b,c){var d,e;e=a.fragmentsById||(a.fragmentsById=H());for(d in e)void 0===b[d]&&e[d]&&(e[d].teardown(!0),e[d]=null);for(d in b)void 0===b[d]||e[d]||(c.contextStack=a.contextStack.concat(a.keypath+"."+d),c.index=d,a.descriptor.i&&(c.indexRef=a.descriptor.i),e[d]=a.createFragment(c))},c=function(a,b){a.length||(b.contextStack=a.contextStack.concat(a.keypath),b.index=0,a.fragments[0]=a.createFragment(b),a.length=1)},d=function(a,b,c,d){var e,f,g;if(f=r(b)&&0===b.length,e=c?f||!b:b&&!f){if(a.length||(d.contextStack=a.contextStack,d.index=0,a.fragments[0]=a.createFragment(d),a.length=1),a.length>1)for(g=a.fragments.splice(1);g.length;)g.pop().teardown(!0)}else a.length&&(a.teardownFragments(!0),a.length=0)}}();var nc;!function(){var a,b,c;nc=function(d,e){return d.next()?a(d,e)||b(d,e)||c(d,e):null},a=function(a,b){var c=a.next();return c.type===Gb?(a.pos+=1,new Hc(c,b)):null},b=function(a,b){var c=a.next();return c.type===Qb||c.type===Ib?c.mustacheType===Jb||c.mustacheType===Kb?new Gc(c,a,b):new Fc(c,a):null},c=function(a,b){var c,d=a.next();return d.type===Rb?(c=new Cc(d,a,b),a.options.sanitize&&a.options.sanitize.elements&&-1!==a.options.sanitize.elements.indexOf(c.lcTag)?null:c):null}}();var oc=function(a,b){var c,d;return b||(c=pc(a),c===!1)?d=a.map(function(a){return a.toJSON(b)}):c},pc=function(a){var b,c,d,e="";if(!a)return"";for(c=0,d=a.length;d>c;c+=1){if(b=a[c].toString(),b===!1)return!1;e+=b}return e},qc=function(a){var b=Db.exec(a.str.substring(a.pos));return b?(a.pos+=b[0].length,b[0]):null},rc=function(a,b){var c=a.remaining().substr(0,40);throw 40===c.length&&(c+="..."),new Error('Tokenizer failed: unexpected string "'+c+'" (expected '+b+")")},sc=function(a){return function(b){var c=a.exec(b.str.substring(b.pos));return c?(b.pos+=c[0].length,c[1]||c[0]):null}},tc=function(a,b){var c;return c=a.str.substr(a.pos,b.length),c===b?(a.pos+=b.length,b):null};qb=function(a){var b,c,d,e;for(b=0;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b+1],(c.mustacheType===Ob||c.mustacheType===Pb)&&(a.splice(b,1),d&&e&&d.type===Gb&&e.type===Gb&&(d.value+=e.value,a.splice(b,1)),b-=1);return a},rb=function(a){var b,c,d;for(d="";a.length;){if(b=a.indexOf("<!--"),c=a.indexOf("-->"),-1===b&&-1===c){d+=a;break}if(-1!==b&&-1===c)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==c&&-1===b||b>c)throw"Illegal HTML - unexpected closing comment sequence ('-->')";d+=a.substr(0,b),a=a.substring(c+3)}return d},sb=function(a){var b,c,d,e,f,g;for(f=/^\s*\r?\n/,g=/\r?\n\s*$/,b=2;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],c.type===Gb&&d.type===Qb&&e.type===Gb&&g.test(e.value)&&f.test(c.value)&&(d.mustacheType!==Hb&&d.mustacheType!==Ib&&(e.value=e.value.replace(g,"\n")),c.value=c.value.replace(f,""),""===c.value&&a.splice(b--,1));return a},function(a){var b=function(a,b,c){var d;if("string"==typeof b&&t(c)){if(d=a.get(b),void 0===d&&(d=0),t(d))a.set(b,d+c);else if(a.debug)throw new Error("Cannot add to a non-numeric value")}else if(a.debug)throw new Error("Bad arguments")};a.add=function(a,c){b(this,a,void 0===c?1:c)},a.subtract=function(a,c){b(this,a,void 0===c?-1:-c)},a.toggle=function(a){var b;if("string"==typeof a)b=this.get(a),this.set(a,!b);else if(this.debug)throw new Error("Bad arguments")}}(wb),function(a){var c,d;a.animate=function(a,b,d){var e,f,g;if("object"==typeof a){d=b||{},g=[];for(e in a)Ab.call(a,e)&&(g[g.length]=c(this,e,a[e],d));return{stop:function(){for(;g.length;)g.pop().stop()}}}return d=d||{},f=c(this,a,b,d),{stop:function(){f.stop()}}},d={stop:Bb},c=function(a,c,e,f){var g,h,i,j,k;for(k=a.get(c),j=kb.animations.length;j--;)i=kb.animations[j],i.root===a&&i.keypath===c&&i.stop();return u(k,e)?(f.complete&&f.complete(1,f.to),d):(f.easing&&(g="function"==typeof f.easing?f.easing:a.easing&&a.easing[f.easing]?a.easing[f.easing]:b.easing[f.easing],"function"!=typeof g&&(g=null)),h=void 0===f.duration?400:f.duration,i=new db({keypath:c,from:k,to:e,root:a,duration:h,easing:g,step:f.step,complete:f.complete}),kb.push(i),a._animations[a._animations.length]=i,i)}}(wb),wb.cancelFullscreen=function(){b.cancelFullscreen(this.el)},wb.find=function(a){return this.el?this.el.querySelector(a):null},function(){var a,b;wb.findAll=function(c,d){var e;if(!this.el)return[];if(d){if(a.test(c))return this.el.getElementsByTagName(c);if(b.test(c))return this.el.getElementsByClassName(c.substring(1));if(e='Could not generate live nodelist from "'+c+'" selector',this.debug)throw new Error(e);Cb&&Cb.warn&&Cb.warn(e)}return this.el.querySelectorAll(c)},a=/^[a-zA-Z][a-zA-Z0-9\-]*$/,b=/^\.[^\s]+$/g}(),wb.fire=function(a){var b,c,d,e=this._subs[a];if(e)for(b=Array.prototype.slice.call(arguments,1),c=0,d=e.length;d>c;c+=1)e[c].apply(this,b)},function(a){var c,d,e,f,g={};a.get=function(a){var b,d,e,g,h;return a=Bc(a||""),b=this._cache,void 0!==(d=b[a])?d:((g=this._wrapped[a])?e=g.value:a?e=(h=this._evaluators[a])?h.value:c(this,a):(f(this,"",this.data),e=this.data),b[a]=e,e)},c=function(a,c){var d,e,g,h,i,j,k,l;return d=c.split("."),e=d.pop(),g=d.join("."),h=a.get(g),(l=a._wrapped[g])&&(h=l.get()),null!==h&&void 0!==h?((i=a._cacheMap[g])?-1===i.indexOf(c)&&(i[i.length]=c):a._cacheMap[g]=[c],j=h[e],f(a,c,j)?j:(a.magic&&(a._wrapped[c]=b.adaptors.magic.wrap(a,j,c)),a.modifyArrays&&(k=b.adaptors.array,k.filter(a,j,c)&&(a._wrapped[c]=k.wrap(a,j,c))),a._cache[c]=j,j)):void 0},d=function(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)Ab.call(a,c)&&(d[b+c]=a[c]);return d},e=function(a){var b;return g[a]||(b=a?a+".":"",g[a]=function(c,e){var f;return"string"==typeof c?(f={},f[b+c]=e,f):"object"==typeof c?b?d(c,a):c:void 0}),g[a]},f=function(a,c,d){var f,g,h;for(f=a.adaptors.length;f--;){if(g=a.adaptors[f],"string"==typeof g){if(!b.adaptors[g])throw new Error('Missing adaptor "'+g+'"');g=a.adaptors[f]=b.adaptors[g]}if(g.filter(d,c,a))return h=a._wrapped[c]=g.wrap(a,d,c,e(c)),a._cache[c]=d,!0}}}(wb);var uc=function(a){var b,c,d;for(b=a._pendingResolution.length;b--;)c=a._pendingResolution.splice(b,1)[0],d=o(a,c.ref,c.contextStack),void 0!==d?c.resolve(d):a._pendingResolution[a._pendingResolution.length]=c};i=function(a,b){var c,d;if((d=a._wrapped[b])&&d.teardown()!==!1&&(a._wrapped[b]=null),a._cache[b]=void 0,c=a._cacheMap[b])for(;c.length;)i(a,c.pop())};var vc=function(a,b){var c,d,e,f,g,h;for(c=[],h=a.rendered?a.el:a.fragment.docFrag,d=h.querySelectorAll('input[type="checkbox"][name="{{'+b+'}}"]'),f=d.length,g=0;f>g;g+=1)e=d[g],(e.hasAttribute("checked")||e.checked)&&(c[c.length]=e._ractive.value);return c};l=function(a,b,c){var d;for(d=0;d<a._deps.length;d+=1)n(a,b,d,c)},n=function(a,b,c,d){var e,f,g,h;if(e=a._deps[c]){if(f=e[b])for(g=f.length;g--;)f[g].update();if(!d&&(h=a._depsMap[b]))for(g=h.length;g--;)n(a,h[g],c)}},m=function(a,b,c){var d,e,f;for(f=b.length,d=0;d<a._deps.length;d+=1)if(a._deps[d])for(e=f;e--;)n(a,b[e],d,c)},p=function(a){for(var b,c,d;a._defEvals.length;)b=a._defEvals.pop(),b.update().deferred=!1;for(;a._defAttrs.length;)c=a._defAttrs.pop(),c.update().deferred=!1;for(;a._defSelectValues.length;)a._defSelectValues.pop().deferredUpdate();for(;a._defCheckboxes.length;)d=a._defCheckboxes.pop(),a.set(d,vc(a,d));for(;a._defRadios.length;)a._defRadios.pop().update();for(;a._defObservers.length;)a._defObservers.pop().update(!0)},j=function(a){var b,c,d,e,f,g,h,i,j;for(g=a.root,h=a.keypath,i=a.priority,b=g._deps[i]||(g._deps[i]={}),c=b[h]||(b[h]=[]),c[c.length]=a,(j=g._evaluators[h])&&(j.dependants||j.wake(),j.dependants+=1),d=h.split(".");d.length;)d.pop(),e=d.join("."),f=g._depsMap[e]||(g._depsMap[e]=[]),void 0===f[h]&&(f[h]=0,f[f.length]=h),f[h]+=1,h=e},eb=function(a,b){var c,d;c=b.el?v(b.el):a.el,c&&!b.append&&(c.innerHTML=""),a._transitionManager=d=C(a,b.complete),a.fragment=new Q({descriptor:a.template,root:a,owner:a,parentNode:c}),p(a),c&&c.appendChild(a.fragment.docFrag),a._transitionManager=null,d.ready(),a.rendered=!0},o=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(n='Could not resolve reference - too many "../" prefixes',"."===b)return c.length?c[c.length-1]:"";if("."===b.charAt(0)){if(m=c[c.length-1],f=m?m.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!f.length)throw new Error(n);f.pop(),b=b.substring(3)}return f.push(b),f.join(".")}return m?m+b:b.substring(1)}for(d=b.split("."),e=d.pop(),h=d.length?"."+d.join("."):"",c=c.concat();c.length;)if(g=c.pop(),i=g+h,j=a.get(i),(k=a._wrapped[i])&&(j=k.get()),"object"==typeof j&&null!==j&&Ab.call(j,e)){l=g+"."+b;break}return l||void 0===a.get(b)||(l=b),l},h=function(a){if(a.keypath)k(a);else{var b=a.root._pendingResolution.indexOf(a);-1!==b&&a.root._pendingResolution.splice(b,1)}},k=function(a){var b,c,d,e,f,g,h,i;for(f=a.root,g=a.keypath,h=a.priority,b=f._deps[h][g],b.splice(b.indexOf(a),1),c=g.split("."),(i=f._evaluators[g])&&(i.dependants-=1,i.dependants||i.sleep());c.length;)c.pop(),d=c.join("."),e=f._depsMap[d],e[g]-=1,e[g]||(e.splice(e.indexOf(g),1),e[g]=void 0),g=d},wb.link=function(a){var b=this;return function(c){b.set(a,c)}},function(a){var b,c;a.observe=function(a,c,d){var e,f=[];if("object"==typeof a){d=c||{};for(e in a)Ab.call(a,e)&&(c=a[e],f[f.length]=b(this,e,c,d));return{cancel:function(){for(;f.length;)f.pop().cancel()}}}return b(this,a,c,d||{})},b=function(a,b,d,e){var f;return f=new c(a,b,d,e),e.init!==!1&&f.update(),f.ready=!0,j(f),{cancel:function(){k(f)}}},c=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.priority=0,this.context=d.context||a},c.prototype={update:function(a){var b;if(this.defer&&!a&&this.ready)return this.root._defObservers.push(this),void 0;if(!this.updating){if(this.updating=!0,b=this.root.get(this.keypath,!0),!u(b,this.value)||!this.ready){try{this.callback.call(this.context,b,this.value)}catch(c){if(this.root.debug)throw c}this.value=b}this.updating=!1}}}}(wb),wb.off=function(a,b){var c,d;b||(a?this._subs[a]=[]:this._subs={}),c=this._subs[a],c&&(d=c.indexOf(b),-1!==d&&c.splice(d,1))},wb.on=function(a,b){var c,d,e=this;if("object"==typeof a){c=[];for(d in a)Ab.call(a,d)&&(c[c.length]=this.on(d,a[d]));return{cancel:function(){for(;c.length;)c.pop().cancel()}}}return this._subs[a]?this._subs[a].push(b):this._subs[a]=[b],{cancel:function(){e.off(a,b)}}},wb.renderHTML=function(){return this.fragment.toString()},wb.requestFullscreen=function(){b.requestFullscreen(this.el)},wb.reset=function(a,b){var c,d;if("function"==typeof a&&(b=a,a={}),void 0!==a&&"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");d=this._transitionManager,this._transitionManager=c=C(this,b),this.data=a||{},this._pendingResolution.length&&uc(this),i(this,""),l(this,""),this.fire("reset",a),this._transitionManager=d,c.ready()},function(a){var b,c,d;a.set=function(a,d,e){var f,g,h,i,j,k,l;if(g=[],s(a)&&(f=a,e=d),f)for(a in f)Ab.call(f,a)&&(d=f[a],a=Bc(a),b(this,a,d,g));
else a=Bc(a),b(this,a,d,g);if(g.length){if(i=this._transitionManager,this._transitionManager=j=C(this,e),h=c(g),h.length&&m(this,h,!0),m(this,g),this._pendingResolution.length&&uc(this),p(this),this._transitionManager=i,j.ready(),!this.firingChangeEvent){for(this.firingChangeEvent=!0,l={},k=g.length;k--;)l[g[k]]=this.get(g[k]);this.fire("change",l),this.firingChangeEvent=!1}return this}},b=function(a,b,c,e){var f,g,h,j,k,l,m,n,o;if(!(o=a._wrapped[b])||!o.reset||d(a,b,c,o,e)===!1){if(f=a._cache[b],h=a.get(b),g=b.split("."),l=[],h!==c){for((o=a._wrapped[""])?(o.set&&o.set(g.join("."),c),k=o.get()):k=a.data;g.length>1;)j=l[l.length]=g.shift(),m=l.join("."),(o=a._wrapped[m])?(o.set&&o.set(g.join("."),c),k=o.get()):(k[j]||(n||(n=m),k[j]=/^\s*[0-9]+\s*$/.test(g[0])?[]:{}),k=k[j]);j=g[0],k[j]=c}else if(c===f&&"object"!=typeof c)return;i(a,n||b),e[e.length]=b}},c=function(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),f[e]||(f[f.length]=e,f[e]=!0);return f},d=function(a,b,c,d,e){var f,g,h,j;if(f=d.get(),!u(f,c)&&d.reset(c)===!1)return!1;if(c=d.get(),g=a._cache[b],!u(g,c)){if(a._cache[b]=c,h=a._cacheMap[b])for(j=h.length;j--;)i(a,h[j]);e[e.length]=b}}}(wb),wb.teardown=function(a){var b,c,d;for(this.fire("teardown"),d=this._transitionManager,this._transitionManager=c=C(this,a),this.fragment.teardown(!0);this._animations[0];)this._animations[0].stop();for(b in this._cache)i(this,b);this._transitionManager=d,c.ready()},wb.toggleFullscreen=function(){b.isFullscreen(this.el)?this.cancelFullscreen():this.requestFullscreen()},wb.update=function(a,b){var c,d;return"function"==typeof a&&(b=a,a=""),uc(this),d=this._transitionManager,this._transitionManager=c=C(this,b),i(this,a||""),l(this,a||""),p(this),this._transitionManager=d,c.ready(),"string"==typeof a?this.fire("update",a):this.fire("update"),this},function(a){var b;a.updateModel=function(a,c){var d,e,f;if("string"!=typeof a&&(a="",c=!0),b(this,a,d={},e=[],c),f=e.length)for(;f--;)a=e[f],d[a]=vc(this,a);this.set(d)},b=function(a,c,d,e,f){var g,h,i,j,k,l;if(g=a._twowayBindings[c])for(i=g.length;i--;)j=g[i],(!j.radioName||j.node.checked)&&(j.checkboxName?j.changed()&&!e[c]&&(e[c]=!0,e[e.length]=c):(k=j.attr.value,l=j.value(),Ac(k,l)||u(k,l)||(d[c]=l)));if(f&&(h=a._depsMap[c]))for(i=h.length;i--;)b(a,h[i],d,e,f)}}(wb),function(){var a,b,c,d,e,f,g;xb.array={filter:function(a,b,c){return"("!==c.charAt(0)&&r(b)&&(!b._ractive||!b._ractive.setting)},wrap:function(a,c,d){return new b(a,c,d)}},b=function(a,b,c){this.root=a,this.value=b,this.keypath=c,lb(b,c,a)},b.prototype={get:function(){return this.value},teardown:function(){return this.value._ractive.setting?!1:(mb(this.value,this.keypath,this.root),void 0)}},lb=function(a,b,d){var e,f,g;a._ractive?(e=a._ractive.roots,f=a._ractive.keypathsByGuid,f[d._guid]||(e[e.length]=d,f[d._guid]=[]),g=f[d._guid],-1===g.indexOf(b)&&(g[g.length]=b)):(E(a,"_ractive",{value:{roots:[d],keypathsByGuid:{}},configurable:!0}),a._ractive.keypathsByGuid[d._guid]=[b],c(a))},mb=function(a,b,c){var e,f,g,h;if(!a._ractive)throw new Error("Attempted to remove keypath from non-wrapped array. This error is unexpected - please send a bug report to @rich_harris");if(e=a._ractive.roots,f=a._ractive.keypathsByGuid,!f[c._guid])throw new Error("Ractive instance was not listed as a dependent of this array. This error is unexpected - please send a bug report to @rich_harris");if(g=f[c._guid],h=g.indexOf(b),-1===h)throw new Error("Attempted to unlink non-linked keypath from array. This error is unexpected - please send a bug report to @rich_harris");g.splice(h,1),g.length||(e.splice(e.indexOf(c),1),f[c._guid]=null),e.length||d(a)},a=function(a,b,c){var d,e,f,g,h,j;j=a._ractive.keypathsByGuid,d=function(a){for(var b=a.length;b--;)e(a[b])},e=function(a){var b,c=a._transitionManager;a._transitionManager=b=C(a,Bb),f(a,j[a._guid]),a._transitionManager=c,b.ready()},f=function(a,b){for(var c=b.length;c--;)g(a,b[c])},g=function(d,e){var f,g,j,k,n,o,q,r,s,t,u,v;if("sort"===b||"reverse"===b)return d.set(e,a),void 0;for(i(d,e),n=[],o=[],q=0;q<d._deps.length;q+=1)if(f=d._deps[q],f&&(g=f[e])){for(h(d,e,g,n,o),p(d);n.length;)n.pop().smartUpdate(b,c);for(;o.length;)o.pop().update()}if("splice"===b&&c.length>2&&c[1])for(r=Math.min(c[1],c.length-2),s=c[0],t=s+r,c[1]===c.length-2&&(v=!0),q=s;t>q;q+=1)u=e+"."+q,l(d,u);for(p(d),k=[],j=e.split(".");j.length;)j.pop(),k[k.length]=j.join(".");m(d,k,!0),v||l(d,e+".length",!0)},h=function(a,b,c,d,e){var f,g;for(f=c.length;f--;)g=c[f],g.type===$b?g.update():g.keypath===b&&g.type===Jb&&g.parentNode?d[d.length]=g:e[e.length]=g},d(a._ractive.roots)},e=[],g=["pop","push","reverse","shift","sort","splice","unshift"],g.forEach(function(b){var c=function(){var c=Array.prototype[b].apply(this,arguments);return this._ractive.setting=!0,a(this,b,arguments),this._ractive.setting=!1,c};E(e,b,{value:c})}),f={},f.__proto__?(c=function(a){a.__proto__=e},d=function(a){delete a._ractive,a.__proto__=Array.prototype}):(c=function(a){var b,c;for(b=g.length;b--;)c=g[b],E(a,c,{value:e[c],configurable:!0})},d=function(a){var b;for(b=g.length;b--;)delete a[g[b]];delete a._ractive})}(),function(){var a;xb.magic={wrap:function(b,c,d){return new a(b,c,d)}},a=function(a,b,c){var d,e,f,g,h,i,j,k,l,m=this;if(this.ractive=a,this.keypath=c,d=c.split("."),this.prop=d.pop(),f=d.join("."),this.obj=a.get(f),g=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),g&&g.set&&(h=g.set._ractiveWrappers))return-1===h.indexOf(this)&&(h[h.length]=this),void 0;if(g&&!g.configurable)throw new Error('Cannot use magic mode with property "'+e+'" - object is not configurable');g&&(this.value=g.value,i=g.get,j=g.set),k=i||function(){return m.value},l=function(a){var b,c,d;for(j&&j(a),b=l._ractiveWrappers,d=b.length;d--;)c=b[d],c.resetting||c.ractive.set(c.keypath,a)},l._ractiveWrappers=[this],Object.defineProperty(this.obj,this.prop,{get:k,set:l,enumerable:!0,configurable:!0})},a.prototype={get:function(){return this.value},reset:function(a){this.resetting=!0,this.value=a,this.obj[this.prop]=a,this.resetting=!1},teardown:function(){var a,b,c,d;a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a.set,d=b._ractiveWrappers,d.splice(d.indexOf(this),1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor),this.obj[this.prop]=c)}}}(),c={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},yb.hover=function(a,b){var c,d;return c=function(c){a.contains(c.relatedTarget)||b({node:a,original:c,hover:!0})},d=function(c){a.contains(c.relatedTarget)||b({node:a,original:c,hover:!1})},a.addEventListener("mouseover",c,!1),a.addEventListener("mouseout",d,!1),{teardown:function(){a.removeEventListener("mouseover",c,!1),a.removeEventListener("mouseout",d,!1)}}},function(){var a=function(a){return function(b,c){var d;return b.addEventListener("keydown",d=function(d){var e=d.which||d.keyCode;e===a&&(d.preventDefault(),c({node:b,original:d}))},!1),{teardown:function(){b.removeEventListener("keydown",d,!1)}}}};yb.enter=a(13),yb.tab=a(9),yb.escape=a(27),yb.space=a(32),yb.leftarrow=a(37),yb.rightarrow=a(39),yb.downarrow=a(40),yb.uparrow=a(38)}(),yb.tap=function(a,b){var c,d,e,f,g;return f=5,g=400,c=function(c){var d,e,h,i,j,k,l;(void 0===c.which||1===c.which)&&(e=c.clientX,h=c.clientY,d=this,i=c.pointerId,j=function(a){a.pointerId==i&&(b({node:d,original:a}),l())},k=function(a){a.pointerId==i&&(Math.abs(a.clientX-e)>=f||Math.abs(a.clientY-h)>=f)&&l()},l=function(){a.removeEventListener("MSPointerUp",j,!1),vb.removeEventListener("MSPointerMove",k,!1),vb.removeEventListener("MSPointerCancel",l,!1),a.removeEventListener("pointerup",j,!1),vb.removeEventListener("pointermove",k,!1),vb.removeEventListener("pointercancel",l,!1),a.removeEventListener("click",j,!1),vb.removeEventListener("mousemove",k,!1)},window.navigator.pointerEnabled?(a.addEventListener("pointerup",j,!1),vb.addEventListener("pointermove",k,!1),vb.addEventListener("pointercancel",l,!1)):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerUp",j,!1),vb.addEventListener("MSPointerMove",k,!1),vb.addEventListener("MSPointerCancel",l,!1)):(a.addEventListener("click",j,!1),vb.addEventListener("mousemove",k,!1)),setTimeout(l,g))},window.navigator.pointerEnabled?a.addEventListener("pointerdown",c,!1):window.navigator.msPointerEnabled?a.addEventListener("MSPointerDown",c,!1):a.addEventListener("mousedown",c,!1),d=function(c){var d,e,h,i,j,k,l,m;1===c.touches.length&&(i=c.touches[0],e=i.clientX,h=i.clientY,d=this,j=i.identifier,l=function(a){var c;c=a.changedTouches[0],c.identifier!==j&&m(),a.preventDefault(),b({node:d,original:a}),m()},k=function(a){var b;(1!==a.touches.length||a.touches[0].identifier!==j)&&m(),b=a.touches[0],(Math.abs(b.clientX-e)>=f||Math.abs(b.clientY-h)>=f)&&m()},m=function(){a.removeEventListener("touchend",l,!1),window.removeEventListener("touchmove",k,!1),window.removeEventListener("touchcancel",m,!1)},a.addEventListener("touchend",l,!1),window.addEventListener("touchmove",k,!1),window.addEventListener("touchcancel",m,!1),setTimeout(m,g))},a.addEventListener("touchstart",d,!1),("BUTTON"===a.tagName||"button"===a.type)&&(e=function(){var c,d;d=function(c){32===c.which&&b({node:a,original:c})},c=function(){a.removeEventListener("keydown",d,!1),a.removeEventListener("blur",c,!1)},a.addEventListener("keydown",d,!1),a.addEventListener("blur",c,!1)},a.addEventListener("focus",e,!1)),{teardown:function(){a.removeEventListener("pointerdown",c,!1),a.removeEventListener("MSPointerDown",c,!1),a.removeEventListener("mousedown",c,!1),a.removeEventListener("touchstart",d,!1),a.removeEventListener("focus",e,!1)}}},function(){var a,c,e,f,g,h,i,j,k,l,m,n,o;d=function(a){var c,d=this;return c=function(a){l(this,c,a||{})},c.prototype=G(d.prototype),d!==b&&f(c,d),h(c,a),i(c),j(c,a),k(c),c.extend=d.extend,c},m=["data","partials","transitions","eventDefinitions","components"],n=["el","template","complete","modifyArrays","twoway","lazy","append","preserveWhitespace","sanitize","noIntro","transitionsEnabled"],o=m.concat(n),f=function(a,b){m.forEach(function(d){b[d]&&(a[d]=c(b[d]))}),n.forEach(function(c){void 0!==b[c]&&(a[c]=b[c])})},g=function(a,b){return/_super/.test(a)?function(){var c,d=this._super;return this._super=b,c=a.apply(this,arguments),this._super=d,c}:a},h=function(a,b){var c,d;m.forEach(function(c){var d=b[c];d&&(a[c]?e(a[c],d):a[c]=d)}),n.forEach(function(c){void 0!==b[c]&&(a[c]=b[c])});for(c in b)Ab.call(b,c)&&!Ab.call(a.prototype,c)&&-1===o.indexOf(c)&&(d=b[c],a.prototype[c]="function"==typeof d&&"function"==typeof a.prototype[c]?g(d,a.prototype[c]):d)},i=function(a){var c;if("string"==typeof a.template){if(!b.parse)throw new Error(Fb);if("#"===a.template.charAt(0)&&vb){if(c=vb.getElementById(a.template.substring(1)),!c||"SCRIPT"!==c.tagName)throw new Error("Could not find template element ("+a.template+")");a.template=b.parse(c.innerHTML,a)}else a.template=b.parse(a.template,a)}},j=function(a,b){s(a.template)&&(a.partials||(a.partials={}),e(a.partials,a.template.partials),b.partials&&e(a.partials,b.partials),a.template=a.template.main)},k=function(a){var c,d;if(a.partials)for(c in a.partials)if(Ab.call(a.partials,c)){if("string"==typeof a.partials[c]){if(!b.parse)throw new Error(Fb);d=b.parse(a.partials[c],a)}else d=a.partials[c];a.partials[c]=d}},l=function(d,e,f){!f.template&&e.template&&(f.template=e.template),m.forEach(function(b){f[b]?a(f[b],e[b]):e[b]&&(f[b]=c(e[b]))}),n.forEach(function(a){void 0===f[a]&&void 0!==e[a]&&(f[a]=e[a])}),d.beforeInit&&d.beforeInit.call(d,f),b.call(d,f),d.init&&d.init.call(d,f)},a=function(a,b){var c;for(c in b)Ab.call(b,c)&&!Ab.call(a,c)&&(a[c]=b[c])},c=function(a){var b,c={};for(b in a)Ab.call(a,b)&&(c[b]=a[b]);return c},e=function(a,b){var c;for(c in b)Ab.call(b,c)&&(a[c]=b[c])}}(),f=function(a,c){return t(a)&&t(c)?b.interpolators.number(+a,+c):r(a)&&r(c)?b.interpolators.array(a,c):s(a)&&s(c)?b.interpolators.object(a,c):function(){return c}},g={number:function(a,b){var c=b-a;return c?function(b){return a+b*c}:function(){return a}},array:function(a,c){var d,e,f,g;for(d=[],e=[],g=f=Math.min(a.length,c.length);g--;)e[g]=b.interpolate(a[g],c[g]);for(g=f;g<a.length;g+=1)d[g]=a[g];for(g=f;g<c.length;g+=1)d[g]=c[g];return function(a){for(var b=f;b--;)d[b]=e[b](a);return d}},object:function(a,c){var d,e,f,g,h=[];f={},e={};for(g in a)Ab.call(a,g)&&(Ab.call(c,g)?(h[h.length]=g,e[g]=b.interpolate(a[g],c[g])):f[g]=a[g]);for(g in c)Ab.call(c,g)&&!Ab.call(a,g)&&(f[g]=c[g]);return d=h.length,function(a){for(var b,c=d;c--;)b=h[c],f[b]=e[b](a);return f}}};var wc,xc,yc=H();wc=function(){return{}},xc=function(){return[]},F(yc,{preserveWhitespace:{enumerable:!0,value:!1},append:{enumerable:!0,value:!1},twoway:{enumerable:!0,value:!0},modifyArrays:{enumerable:!0,value:!0},data:{enumerable:!0,value:wc},lazy:{enumerable:!0,value:!1},debug:{enumerable:!0,value:!1},transitions:{enumerable:!0,value:wc},eventDefinitions:{enumerable:!0,value:wc},noIntro:{enumerable:!0,value:!1},transitionsEnabled:{enumerable:!0,value:!0},magic:{enumerable:!0,value:!1},adaptors:{enumerable:!0,value:xc}}),b=function(a){var c,d,e,f;for(c in yc)void 0===a[c]&&(a[c]="function"==typeof yc[c]?yc[c]():yc[c]);if(F(this,{_guid:{value:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b,c;return b=0|16*Math.random(),c="x"==a?b:8|3&b,c.toString(16)})},_subs:{value:H()},_cache:{value:{}},_cacheMap:{value:H()},_deps:{value:[]},_depsMap:{value:H()},_pendingResolution:{value:[]},_defAttrs:{value:[]},_defEvals:{value:[]},_defSelectValues:{value:[]},_defCheckboxes:{value:[]},_defRadios:{value:[]},_defObservers:{value:[]},_evaluators:{value:H()},_twowayBindings:{value:{}},_transitionManager:{value:null,writable:!0},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:H()}}),this.modifyArrays=a.modifyArrays,this.magic=a.magic,this.twoway=a.twoway,this.lazy=a.lazy,this.debug=a.debug,this.magic&&tb)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(a.el&&(this.el=v(a.el),!this.el&&this.debug))throw new Error("Could not find container element");if(this.data=a.data,this.components=a.components||{},this.transitions=a.transitions,this.eventDefinitions=a.eventDefinitions,this.adaptors=a.adaptors,d=a.template,"string"==typeof d){if(!b.parse)throw new Error(Fb);if("#"===d.charAt(0)&&vb){if(e=vb.getElementById(d.substring(1)),!e)throw new Error("Could not find template element ("+d+")");f=b.parse(e.innerHTML,a)}else f=b.parse(d,a)}else f=d;if(s(f)?(this.partials=f.partials,f=f.main):this.partials={},f&&1===f.length&&"string"==typeof f[0]&&(f=f[0]),this.template=f,a.partials)for(c in a.partials)Ab.call(a.partials,c)&&(this.partials[c]=a.partials[c]);this.parseOptions={preserveWhitespace:a.preserveWhitespace,sanitize:a.sanitize},this.transitionsEnabled=a.noIntro?!1:a.transitionsEnabled,eb(this,{el:this.el,append:a.append,complete:a.complete}),this.transitionsEnabled=a.transitionsEnabled},function(){var a,b,d,e;vb&&(a=function(a,b){var c,d={};for(c=b.length;c--;)d[b[c]]=a[b[c]];return d},b=function(a,b,c,d){for(var e,f=b.length;f--;)e=b[f],a.style[e]=c&&c[e]?"function"==typeof c[e]?c[e](d):c[e]:0},d=function(a,b){var c;if(!b)return a;for(c in b)Ab.call(b,c)&&(a[c]=b[c]);return a},jc&&(e=function(e,f,g,h){return"string"==typeof e&&(e=[e]),function(i,j,k,l){var m,n,o,p,q,r,s,t,u,v,w;k=zc(k),r=k.duration||f.duration,c=mc(k.easing||f.easing),s=k.delay||0,t=l?g:h,u=l?h:g,n=window.getComputedStyle(i),q=i.getAttribute("style"),l?(v=i.style.position,w=i.style.visibility,i.style.position="absolute",i.style.visibility="hidden",setTimeout(function(){o=a(n,e),t=g,u=d(o,h),i.style.position=v,i.style.visibility=w,b(i,e,t,k),setTimeout(p,0)},s)):setTimeout(function(){o=a(n,e),t=d(o,h),u=g,b(i,e,t,k),setTimeout(p,0)},s),p=function(){i.style[kc+"Duration"]=r/1e3+"s",i.style[kc+"Properties"]=e.map(mc).join(","),i.style[kc+"TimingFunction"]=c,m=function(){i.removeEventListener(lc,m,!1),l&&i.setAttribute("style",q||""),j()},i.addEventListener(lc,m,!1),b(i,e,u,k)}}},zb.slide=e(["height","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom","overflowY"],{duration:400,easing:"easeInOut"},{overflowY:"hidden"},{overflowY:"hidden"}),zb.fade=e("opacity",{duration:300,easing:"linear"}),zb.fly=e(["opacity","left","position"],{duration:400,easing:"easeOut"},{position:"relative",left:"-500px"},{position:"relative",left:0})))}();var zc=function(a){return"fast"===a?{duration:200}:"slow"===a?{duration:600}:t(a)?{duration:+a}:a||{}};!function(a){var b,c,d;vb&&(c=function(a,b,e){var f,g;return 1===a.nodeType&&(a.style.display=a._display),3===a.nodeType?(d(a,b,e),void 0):(f=Array.prototype.slice.call(a.childNodes),g=function(){return f.length?(c(f.shift(),g,e),void 0):(1===a.nodeType&&a.setAttribute("style",a._style||""),b(),void 0)},g(),void 0)},d=function(a,b,c){var d,e,f,g;return d=a._hiddenData,(e=d.length)?(g=0,f=setInterval(function(){var c,h,i,j,k;c=d.substr(0,g),h=d.substring(g),i=/^\w+/.exec(h),j=i?i[0].length:0,k=new Array(j+1).join(" "),a.data=c+k,g===e&&(clearInterval(f),delete a._hiddenData,b()),g+=1},c),void 0):(b(),void 0)},b=function(a,b,d){var e,f,g,h;d=zc(d),e=d.interval||(d.speed?1e3/d.speed:d.duration?a.textContent.length/d.duration:4),f=a.getAttribute("style"),g=window.getComputedStyle(a),a.style.visibility="hidden",setTimeout(function(){var i,j,k;j=g.width,i=g.height,k=g.visibility,h(a),setTimeout(function(){a.style.width=j,a.style.height=i,a.style.visibility="visible",c(a,function(){a.setAttribute("style",f||""),b()},e)},d.delay||0)}),h=function(a){var b,c;if(1===a.nodeType&&(a._style=a.getAttribute("style"),a._display=window.getComputedStyle(a).display,a.style.display="none"),3===a.nodeType)return a._hiddenData=""+a.data,a.data="",void 0;for(b=Array.prototype.slice.call(a.childNodes),c=b.length;c--;)h(b[c])}},a.typewriter=b)}(zb),function(a){var b,c,d;if(vb){if(a.fullscreenEnabled=vb.fullscreenEnabled||vb.mozFullScreenEnabled||vb.webkitFullscreenEnabled,!a.fullscreenEnabled)return a.requestFullscreen=a.cancelFullscreen=Bb,a.isFullscreen=function(){return!1},void 0;gc.requestFullscreen?b="requestFullscreen":gc.mozRequestFullScreen?b="mozRequestFullScreen":gc.webkitRequestFullscreen&&(b="webkitRequestFullscreen"),a.requestFullscreen=function(a){a[b]&&a[b]()},vb.cancelFullscreen?c="cancelFullscreen":vb.mozCancelFullScreen?c="mozCancelFullScreen":vb.webkitCancelFullScreen&&(c="webkitCancelFullScreen"),a.cancelFullscreen=function(){vb[c]()},void 0!==vb.fullscreenElement?d="fullscreenElement":void 0!==vb.mozFullScreenElement?d="mozFullScreenElement":void 0!==vb.webkitFullscreenElement&&(d="webkitFullscreenElement"),a.isFullscreen=function(a){return a===vb[d]}}}(b),db=function(a){var c;this.startTime=Date.now();for(c in a)Ab.call(a,c)&&(this[c]=a[c]);this.interpolator=b.interpolate(this.from,this.to),this.running=!0},db.prototype={tick:function(){var a,b,c,d,e;return this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(this.root.set(this.keypath,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),e=this.root._animations.indexOf(this),-1===e&&Cb&&Cb.warn&&Cb.warn("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,c=this.interpolator(b),this.root.set(this.keypath,c),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&Cb&&Cb.warn&&Cb.warn("Animation was not found"),this.root._animations.splice(a,1)}},kb={animations:[],tick:function(){var a,b;for(a=0;a<this.animations.length;a+=1)b=this.animations[a],b.tick()||this.animations.splice(a--,1);this.animations.length?D(this.boundTick):this.running=!1},boundTick:function(){kb.tick()},push:function(a){this.animations[this.animations.length]=a,this.running||(this.running=!0,this.tick())}},function(a,b,c){var d,e;if(c.requestAnimationFrame)return D=c.requestAnimationFrame,void 0;for(d=0;d<a.length&&!D;++d)D=c[a[d]+"RequestAnimationFrame"];D||(e=c.setTimeout,D=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}(["ms","moz","webkit","o"],0,a);var Ac=function(a,b){var c;if(!r(a)||!r(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0};!function(){var a,b,c,d;a={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},S=function(a){return this.element=a.element,b(this,a.name),null===a.value||"string"==typeof a.value?(c(this,a),void 0):(this.root=a.root,this.parentNode=a.parentNode,this.parentFragment=this.element.parentFragment,this.fragment=new Z({descriptor:a.value,root:this.root,owner:this,contextStack:a.contextStack}),this.parentNode&&("value"===this.name&&(a.element.ractify(),this.isValueAttribute=!0,"INPUT"===this.parentNode.tagName&&"file"===this.parentNode.type&&(this.isFileInputValue=!0)),d(this,a),this.selfUpdating=B(this.fragment),this.ready=!0),void 0)},S.prototype={bind:P,update:O,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.r,"name"===this.propertyName&&(this.parentNode.name="{{"+this.keypath+"}}")},teardown:function(){var a;if(this.boundEvents)for(a=this.boundEvents.length;a--;)this.parentNode.removeEventListener(this.boundEvents[a],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},toString:function(){var a;return null===this.value?this.name:this.fragment?(a=this.fragment.toString(),this.name+"="+JSON.stringify(a)):this.name+"="+JSON.stringify(this.value)}},b=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=b;else if(b=b.substring(c+1),a.name=b,a.namespace=hc[d],!a.namespace)throw'Unknown namespace ("'+d+'")'},c=function(a,b){var c=null===b.value?"":b.value;b.parentNode&&(a.namespace?b.parentNode.setAttributeNS(a.namespace,b.name,c):b.parentNode.setAttribute(b.name,c),"id"===a.name&&(b.root.nodes[b.value]=b.parentNode),"value"===a.name&&(a.element.ractify().value=b.value)),a.value=b.value},d=function(b,c){var d;!b.parentNode||b.namespace||c.parentNode.namespaceURI&&c.parentNode.namespaceURI!==hc.html||(d=a[b.name]||b.name,void 0!==c.parentNode[d]&&(b.propertyName=d),("boolean"==typeof c.parentNode[d]||"value"===d)&&(b.useProperty=!0))}}(),function(){var a;U=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,p,q,r,s,t,u,v,w,x,y=this,z=this.parentFragment=b.parentFragment;if(d=z.root,this.type=Sb,this.name=b.descriptor.r,e=A(z.root,b.descriptor.e),!e)throw new Error('Component "'+b.descriptor.e+'" not found');if(f=e.twoway!==!1,j={},k=[],this.complexParameters=[],u=function(b,c){var e;if("string"!=typeof c){if(null===c)return j[b]=!0,void 0;if(1===c.length&&c[0].t===Hb&&c[0].r)return z.indexRefs&&void 0!==z.indexRefs[c[0].r]?(j[b]=z.indexRefs[c[0].r],void 0):(i=o(d,c[0].r,z.contextStack)||c[0].r,j[b]=d.get(i),k[k.length]=[b,i],void 0);e=new a(d,y,b,c,z.contextStack),y.complexParameters[y.complexParameters.length]=e,j[b]=e.value}else try{j[b]=JSON.parse(c)}catch(f){j[b]=c}},b.descriptor.a)for(s in b.descriptor.a)b.descriptor.a.hasOwnProperty(s)&&u(s,b.descriptor.a[s]);for(g={},b.descriptor.f&&(g.content=b.descriptor.f),h=this.instance=new e({el:z.parentNode.cloneNode(!1),data:j,partials:g});h.el.firstChild;)c.appendChild(h.el.firstChild);if(h.el=z.parentNode,x=h.fragment.items)for(l=x.length;l--;)x[l].parentNode&&(x[l].parentNode=z.parentNode);for(y.observers=[],t={init:!1},n=function(a){var b=d.observe(a[1],function(b){q||(r=!0,h.set(a[0],b),r=!1)},t);y.observers[y.observers.length]=b},f&&(p=function(a){var b=h.observe(a[0],function(b){r||(q=!0,d.set(a[1],b),q=!1)},t);y.observers[y.observers.length]=b,d.set(a[1],h.get(a[0]))}),l=k.length;l--;)m=k[l],n(m),f&&p(m);if(w=function(a,b){h.on(a,function(){var a=Array.prototype.slice.call(arguments);a.unshift(b),d.fire.apply(d,a)})},b.descriptor.v)for(v in b.descriptor.v)b.descriptor.v.hasOwnProperty(v)&&w(v,b.descriptor.v[v])},U.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},teardown:function(){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.observers.length;)this.observers.pop().cancel();this.instance.teardown()},toString:function(){return this.instance.fragment.toString()}},a=function(a,b,c,d,e){this.parentFragment=b.parentFragment,this.component=b,this.key=c,this.fragment=new Z({descriptor:d,root:a,owner:this,contextStack:e}),this.selfUpdating=B(this.fragment),this.value=this.fragment.getValue()},a.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},update:function(){var a=this.fragment.getValue();this.component.set(this.key,a),this.value=a}}}(),R=function(a,b){var c,d,e,f,g;this.type=Mb,c=this.parentFragment=a.parentFragment,d=this.descriptor=a.descriptor,this.root=g=c.root,this.parentNode=c.parentNode,this.index=a.index,this.eventListeners=[],this.customEventListeners=[],this.parentNode&&(e=N(d,this.parentNode),this.node=vb.createElementNS(e,d.e)),f=M(this,d.a),d.f&&K(this,this.node,d,b),b&&d.v&&I(this,d.v),b&&(g.twoway&&L(this,f),f.name&&!f.name.twoway&&f.name.update(),b.appendChild(this.node),d.t1&&y(d.t1,g,this,c.contextStack,!0))},R.prototype={teardown:function(a){var b,c,d;for(this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node._ractive){for(b in this.node._ractive.events)this.node._ractive.events[b].teardown();(c=this.node._ractive.binding)&&(c.teardown(),d=this.root._twowayBindings[c.attr.keypath],d.splice(d.indexOf(c),1))}this.descriptor.t2&&y(this.descriptor.t2,this.root,this,this.parentFragment.contextStack,!1),a&&this.root._transitionManager.detachWhenReady(this.node)},firstNode:function(){return this.node},findNextNode:function(){return null},bubble:Bb,toString:function(){var a,b,c;for(a="<"+this.descriptor.e,c=this.attributes.length,b=0;c>b;b+=1)a+=" "+this.attributes[b].toString();return a+=">",this.html?a+=this.html:this.fragment&&(a+=this.fragment.toString()),a+="</"+this.descriptor.e+">"},ractify:function(){var a=this.parentFragment.contextStack;return this.node._ractive||E(this.node,"_ractive",{value:{keypath:a.length?a[a.length-1]:"",index:this.parentFragment.indexRefs,events:H(),root:this.root}}),this.node._ractive}},Q=function(a){return a.parentNode&&(this.docFrag=vb.createDocumentFragment()),"string"==typeof a.descriptor?(this.html=a.descriptor,this.docFrag&&(this.nodes=w(a.descriptor,a.parentNode.tagName,this.docFrag)),void 0):(ib(this,a),void 0)},Q.prototype={createItem:function(a){if("string"==typeof a.descriptor)return new Y(a,this.docFrag);switch(a.descriptor.t){case Hb:return new V(a,this.docFrag);case Jb:return new X(a,this.docFrag);case Ib:return new W(a,this.docFrag);case Mb:return new R(a,this.docFrag);case Nb:return new T(a,this.docFrag);case Sb:return new U(a,this.docFrag);default:throw new Error("WTF? not sure what happened here...")}},teardown:function(a){var b;if(a&&this.nodes)for(;this.nodes.length;)b=this.nodes.pop(),b.parentNode.removeChild(b);else if(this.items)for(;this.items.length;)this.items.pop().teardown(a)},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(a){var b=a.index;return this.items[b+1]?this.items[b+1].firstNode():this.owner===this.root?null:this.owner.findNextNode(this)},toString:function(){var a,b,c,d;if(this.html)return this.html;if(a="",!this.items)return a;for(c=this.items.length,b=0;c>b;b+=1)d=this.items[b],a+=d.toString();return a}},V=function(a,b){this.type=Hb,b&&(this.node=vb.createTextNode(""),b.appendChild(this.node)),fb(this,a)},V.prototype={update:gb,resolve:hb,teardown:function(a){h(this),a&&this.node.parentNode.removeChild(this.node)},render:function(a){this.node&&(this.node.data=void 0===a?"":a)},firstNode:function(){return this.node},toString:function(){var a=void 0!==this.value?""+this.value:"";return a.replace("<","&lt;").replace(">","&gt;")}},T=function(a,b){var c,d=this.parentFragment=a.parentFragment;this.type=Nb,this.name=a.descriptor.r,c=z(d.root,a.descriptor.r),this.fragment=new Q({descriptor:c,root:d.root,parentNode:d.parentNode,contextStack:d.contextStack,owner:this}),b&&b.appendChild(this.fragment.docFrag)},T.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},teardown:function(a){this.fragment.teardown(a)},toString:function(){return this.fragment.toString()}},X=function(a,b){this.type=Jb,this.fragments=[],this.length=0,b&&(this.docFrag=vb.createDocumentFragment()),this.initialising=!0,fb(this,a),b&&b.appendChild(this.docFrag),this.initialising=!1},X.prototype={update:gb,resolve:hb,smartUpdate:function(a,b){var c;("push"===a||"unshift"===a||"splice"===a)&&(c={descriptor:this.descriptor.f,root:this.root,parentNode:this.parentNode,owner:this},this.descriptor.i&&(c.indexRef=this.descriptor.i)),this[a]&&this[a](c,b)},pop:function(){this.length&&(this.fragments.pop().teardown(!0),this.length-=1)},push:function(a,b){var c,d,e;for(c=this.length,d=c+b.length,e=c;d>e;e+=1)a.contextStack=this.contextStack.concat(this.keypath+"."+e),a.index=e,this.fragments[e]=this.createFragment(a);this.length+=b.length,this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},shift:function(){this.splice(null,[0,1])},unshift:function(a,b){this.splice(a,[0,0].concat(new Array(b.length)))},splice:function(a,b){var c,d,e,f,g,h,i,j,k;if(b.length&&(h=+(b[0]<0?this.length+b[0]:b[0]),d=Math.max(0,b.length-2),e=void 0!==b[1]?b[1]:this.length-h,f=d-e)){if(0>f){for(i=h-f,g=h;i>g;g+=1)this.fragments[g].teardown(!0);this.fragments.splice(h,-f)}else{for(i=h+f,c=this.fragments[h]?this.fragments[h].firstNode():this.parentFragment.findNextNode(this),j=[h,0].concat(new Array(f)),this.fragments.splice.apply(this.fragments,j),g=h;i>g;g+=1)a.contextStack=this.contextStack.concat(this.keypath+"."+g),a.index=g,this.fragments[g]=this.createFragment(a);this.parentNode.insertBefore(this.docFrag,c)}this.length+=f,k=h+d,x(this.root,this,k,this.length,f)}},teardown:function(a){this.teardownFragments(a),h(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(a){for(var b;this.fragments.length;)this.fragments.shift().teardown(a);if(this.fragmentsById)for(b in this.fragmentsById)this.fragments[b]&&(this.fragmentsById[b].teardown(),this.fragmentsById[b]=null)},render:function(a){var b,c;(c=this.root._wrapped[this.keypath])&&(a=c.get()),this.rendering||(this.rendering=!0,jb(this,a),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&(this.initialising||(b=this.parentFragment.findNextNode(this),b&&b.parentNode===this.parentNode?this.parentNode.insertBefore(this.docFrag,b):this.parentNode.appendChild(this.docFrag))))},createFragment:function(a){var b=new Q(a);return this.docFrag&&this.docFrag.appendChild(b.docFrag),b},toString:function(){var a,b,c;for(a="",b=0,c=this.length,b=0;c>b;b+=1)a+=this.fragments[b].toString();return a}},Y=function(a,b){this.type=Gb,this.descriptor=a.descriptor,b&&(this.node=vb.createTextNode(a.descriptor),this.parentNode=a.parentFragment.parentNode,b.appendChild(this.node))
},Y.prototype={teardown:function(a){a&&this.node.parentNode.removeChild(this.node)},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace("<","&lt;").replace(">","&gt;")}},W=function(a,b){this.type=Ib,b&&(this.nodes=[],this.docFrag=vb.createDocumentFragment()),this.initialising=!0,fb(this,a),b&&b.appendChild(this.docFrag),this.initialising=!1},W.prototype={update:gb,resolve:hb,teardown:function(a){var b;if(a)for(;this.nodes.length;)b=this.nodes.pop(),b.parentNode.removeChild(b);h(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(a){var b;if(this.nodes){for(;this.nodes.length;)b=this.nodes.pop(),b.parentNode.removeChild(b);if(void 0===a)return this.nodes=[],void 0;this.nodes=w(a,this.parentNode.tagName,this.docFrag),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}},toString:function(){return void 0!==this.value?this.value:""}},Z=function(a){ib(this,a)},Z.prototype={createItem:function(a){if("string"==typeof a.descriptor)return new ab(a.descriptor);switch(a.descriptor.t){case Hb:return new $(a);case Ib:return new $(a);case Jb:return new _(a);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.owner.bubble()},teardown:function(){var a,b;for(a=this.items.length,b=0;a>b;b+=1)this.items[b].teardown()},getValue:function(){var a;return 1===this.items.length&&this.items[0].type===Hb&&(a=this.items[0].value,void 0!==a)?a:this.toString()},toString:function(){return this.items.join("")},toJSON:function(){var a=this.getValue();if("string"==typeof a)try{a=JSON.parse(a)}catch(b){}return a}},$=function(a){this.type=Hb,fb(this,a)},$.prototype={update:gb,resolve:hb,render:function(a){this.value=a,this.parentFragment.bubble()},teardown:function(){h(this)},toString:function(){return void 0===this.value?"":this.value}},_=function(a){this.type=Jb,this.fragments=[],this.length=0,fb(this,a)},_.prototype={update:gb,resolve:hb,teardown:function(){this.teardownFragments(),h(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(a){var b;(b=this.root._wrapped[this.keypath])&&(a=b.get()),jb(this,a),this.parentFragment.bubble()},createFragment:function(a){return new Z(a)},toString:function(){return this.fragments.join("")}},ab=function(a){this.type=Gb,this.text=a},ab.prototype={toString:function(){return this.text},teardown:function(){}},v=function(a){var b;return"undefined"!=typeof window&&vb&&a?a.nodeType?a:"string"==typeof a&&(b=vb.getElementById(a),!b&&vb.querySelector&&(b=vb.querySelector(a)),b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null},q=Object.prototype.toString,r=function(a){return"[object Array]"===q.call(a)},u=function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b},t=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},s=function(a){return"object"==typeof a&&"[object Object]"===q.call(a)},C=function(a,b){var c,d,e,f;return d=[],e=function(){var a,b;for(a=d.length;a--;)b=d[a],f(b)&&(b.parentNode.removeChild(b),d.splice(a,1))},f=function(a){var b,d;for(b=c.active.length;b--;)if(d=c.active[b],a.contains(d))return!1;return!0},c={active:[],push:function(a){c.active[c.active.length]=a},pop:function(a){c.active.splice(c.active.indexOf(a),1),e(),!c.active.length&&c._ready&&c.complete()},complete:function(){b&&b.call(a)},ready:function(){e(),c._ready=!0,c.active.length||c.complete()},detachWhenReady:function(a){d[d.length]=a}}};var Bc;!function(){var a=/\[\s*([0-9]|[1-9][0-9]+)\s*\]/g;Bc=function(b){return b.replace(a,".$1")}}();var Cc;!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;Cc=function(b,c,d){var f,g,h,j,o,q,r;if(this.lcTag=b.name.toLowerCase(),c.pos+=1,"rv-"===this.lcTag.substr(0,3)){if(this.component=p(b.name.substring(3)),b.attrs)for(this.attributes=[],q=b.attrs.length;q--;)r=b.attrs[q],this.attributes[q]={name:r.name,value:r.value?nb(r.value):null}}else this.tag=e[this.lcTag]?e[this.lcTag]:this.lcTag,d=d||"pre"===this.lcTag,b.attrs&&(h=l(b.attrs),g=h.attrs,j=h.proxies,c.options.sanitize&&c.options.sanitize.eventAttributes&&(g=g.filter(k)),g.length&&(this.attributes=g.map(m)),j.length&&(this.proxies=j.map(n)),h.intro&&(this.intro=n(h.intro)),h.outro&&(this.outro=n(h.outro)));if(b.selfClosing&&(this.selfClosing=!0),-1!==a.indexOf(this.lcTag)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=i[this.lcTag],this.items=[],f=c.next();f&&f.mustacheType!==Lb;){if(f.type===Rb){if(f.closing){f.name.toLowerCase()===this.lcTag&&(c.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(f.name.toLowerCase()))break}this.items[this.items.length]=nc(c),f=c.next()}d||(o=this.items[0],o&&o.type===Gb&&(o.text=o.text.replace(Db,""),o.text||this.items.shift()),o=this.items[this.items.length-1],o&&o.type===Gb&&(o.text=o.text.replace(Eb,""),o.text||this.items.pop()))}},Cc.prototype={toJSON:function(a){var b,c,d,e,f,g;if(this["json_"+a])return this["json_"+a];if(b=this.component?{t:Sb,e:this.component}:{t:Mb,e:this.tag},this.attributes&&this.attributes.length)for(b.a={},g=this.attributes.length,f=0;g>f;f+=1){if(c=this.attributes[f].name,b.a[c])throw new Error("You cannot have multiple attributes with the same name");d=null===this.attributes[f].value?null:oc(this.attributes[f].value.items,a),b.a[c]=d}if(this.items&&this.items.length&&(b.f=oc(this.items,a)),this.proxies&&this.proxies.length)for(b.v={},g=this.proxies.length,f=0;g>f;f+=1)e=this.proxies[f],b.v[e.domEventName]=o(e);return this.intro&&(b.t1=this.intro.args?{n:this.intro.name,a:this.intro.args}:this.intro.dynamicArgs?{n:this.intro.name,d:oc(this.intro.dynamicArgs.items,a)}:this.intro.name),this.outro&&(b.t2=this.outro.args?{n:this.outro.name,a:this.outro.args}:this.outro.dynamicArgs?{n:this.outro.name,d:oc(this.outro.dynamicArgs.items,a)}:this.outro.name),this["json_"+a]=b,b},toString:function(){var c,d,e,f,g,h,i,j;if(void 0!==this.str)return this.str;if(this.component)return this.str=!1;if(-1===b.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro)return this.str=!1;if(i=pc(this.items),i===!1)return this.str=!1;if(j=-1!==a.indexOf(this.tag.toLowerCase()),c="<"+this.tag,this.attributes)for(d=0,e=this.attributes.length;e>d;d+=1){if(g=this.attributes[d].name,-1!==g.indexOf(":"))return this.str=!1;if("id"===g||"intro"===g||"outro"===g)return this.str=!1;if(f=" "+g,null!==this.attributes[d].value){if(h=this.attributes[d].value.toString(),h===!1)return this.str=!1;""!==h&&(f+="=",f+=/[\s"'=<>`]/.test(h)?'"'+h.replace(/"/g,"&quot;")+'"':h)}c+=f}return this.selfClosing&&!j?(c+="/>",this.str=c):(c+=">",j?this.str=c:(c+=i,c+="</"+this.tag+">",this.str=c))}},a="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),b="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),h="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),d="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),f="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef glyphRef gradientTransform gradientTransform gradientUnits gradientUnits kernelMatrix kernelUnitLength kernelUnitLength kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent specularExponent spreadMethod spreadMethod startOffset stdDeviation stitchTiles surfaceScale surfaceScale systemLanguage tableValues targetX targetY textLength textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),c=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},e=c(d),g=c(f),i={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},j=/^on[a-zA-Z]/,k=function(a){var b=!j.test(a.name);return b},l=function(a){var b,c,d,e,f,g;for(d={},b=[],c=[],f=a.length,e=0;f>e;e+=1)if(g=a[e],"intro"===g.name){if(d.intro)throw new Error("An element can only have one intro transition");d.intro=g}else if("outro"===g.name){if(d.outro)throw new Error("An element can only have one outro transition");d.outro=g}else"proxy-"===g.name.substr(0,6)?(g.name=g.name.substring(6),c[c.length]=g):"on-"===g.name.substr(0,3)?(g.name=g.name.substring(3),c[c.length]=g):b[b.length]=g;return d.attrs=b,d.proxies=c,d},m=function(a){var b=a.name.toLowerCase();return{name:g[b]?g[b]:b,value:a.value?nb(a.value):null}},n=function(a){var b,c,d,e,f,g,h;for(f=function(){throw new Error("Illegal proxy event")},a.name&&a.value||f(),b={domEventName:a.name},c=a.value,g=[],h=[];c.length;)if(d=c.shift(),d.type===Gb){if(e=d.value.indexOf(":"),-1!==e){e&&(g[g.length]={type:Gb,value:d.value.substr(0,e)}),d.value.length>e+1&&(h[0]={type:Gb,value:d.value.substring(e+1)});break}g[g.length]=d}else g[g.length]=d;if(h=h.concat(c),b.name=1===g.length&&g[0].type===Gb?g[0].value:g,h.length)if(1===h.length&&h[0].type===Gb)try{b.args=JSON.parse(h[0].value)}catch(i){b.args=h[0].value}else b.dynamicArgs=h;return b},o=function(a){var b,c;if("string"==typeof a.name){if(!a.args&&!a.dynamicArgs)return a.name;c=a.name}else c=nb(a.name).toJSON();return b={n:c},a.args?(b.a=a.args,b):(a.dynamicArgs&&(b.d=nb(a.dynamicArgs).toJSON()),b)},p=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})}}();var Dc;!function(){var a,b,c,d,e;Dc=function(b){this.refs=[],a(b,this.refs),this.str=c(b,this.refs)},Dc.prototype={toJSON:function(){return this.json?this.json:(this.json={r:this.refs,s:this.str},this.json)}},a=function(b,c){var d,e;if(b.t===$b&&-1===c.indexOf(b.n)&&c.unshift(b.n),e=b.o||b.m)if(s(e))a(e,c);else for(d=e.length;d--;)a(e[d],c);b.x&&a(b.x,c),b.r&&a(b.r,c),b.v&&a(b.v,c)},b=function(a){return JSON.stringify(String(a))},c=function(a,e){var f=function(a){return c(a,e)};switch(a.t){case Xb:case Yb:case Tb:return a.v;case Ub:return b(a.v);case Vb:return"["+(a.m?a.m.map(f).join(","):"")+"]";case Wb:return"{"+(a.m?a.m.map(f).join(","):"")+"}";case Zb:return d(a.k)+":"+c(a.v,e);case bc:return("typeof"===a.s?"typeof ":a.s)+c(a.o,e);case ec:return c(a.o[0],e)+("in"===a.s.substr(0,2)?" "+a.s+" ":a.s)+c(a.o[1],e);case fc:return c(a.x,e)+"("+(a.o?a.o.map(f).join(","):"")+")";case cc:return"("+c(a.x,e)+")";case ac:return c(a.x,e)+c(a.r,e);case _b:return a.n?"."+a.n:"["+c(a.x,e)+"]";case dc:return c(a.o[0],e)+"?"+c(a.o[1],e)+":"+c(a.o[2],e);case $b:return"${"+e.indexOf(a.n)+"}";default:throw Cb.log(a),new Error("Could not stringify expression token. This error is unexpected")}},d=function(a){return a.t===Ub?e.test(a.v)?a.v:b(a.v):a.t===Tb?a.v:a},e=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/}();var Ec=function(a,b){var c,d;for(c=this.items=[],d=nc(a,b);null!==d;)c[c.length]=d,d=nc(a,b)};Ec.prototype={toJSON:function(a){var b;return this["json_"+a]?this["json_"+a]:b=this["json_"+a]=oc(this.items,a)},toString:function(){return void 0!==this.str?this.str:(this.str=pc(this.items),this.str)}};var Fc=function(a,b){this.type=a.type===Ib?Ib:a.mustacheType,a.ref&&(this.ref=a.ref),a.expression&&(this.expr=new Dc(a.expression)),b.pos+=1};Fc.prototype={toJSON:function(){var a;return this.json?this.json:(a={t:this.type},this.ref&&(a.r=this.ref),this.expr&&(a.x=this.expr.toJSON()),this.json=a,a)},toString:function(){return!1}};var Gc=function(a,b,c){var d;for(this.ref=a.ref,this.indexRef=a.indexRef,this.inverted=a.mustacheType===Kb,a.expression&&(this.expr=new Dc(a.expression)),b.pos+=1,this.items=[],d=b.next();d;){if(d.mustacheType===Lb){if(d.ref.trim()===this.ref||this.expr){b.pos+=1;break}throw new Error("Could not parse template: Illegal closing section")}this.items[this.items.length]=nc(b,c),d=b.next()}};Gc.prototype={toJSON:function(a){var b;return this.json?this.json:(b={t:Jb},this.ref&&(b.r=this.ref),this.indexRef&&(b.i=this.indexRef),this.inverted&&(b.n=!0),this.expr&&(b.x=this.expr.toJSON()),this.items.length&&(b.f=oc(this.items,a)),this.json=b,b)},toString:function(){return!1}};var Hc;!function(){var a,b,c,d,e,f,g,h;Hc=function(a,b){this.type=Gb,this.text=b?a.value:a.value.replace(h," ")},Hc.prototype={toJSON:function(){return this.decoded||(this.decoded=g(this.text))},toString:function(){return this.text}},a={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},b=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],c=new RegExp("&("+Object.keys(a).join("|")+");?","g"),d=/&#x([0-9]+);?/g,e=/&#([0-9]+);?/g,f=function(a){return a?10===a?32:128>a?a:159>=a?b[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533},g=function(b){var g;return g=b.replace(c,function(b,c){return a[c]?String.fromCharCode(a[c]):b}),g=g.replace(d,function(a,b){return String.fromCharCode(f(parseInt(b,16)))}),g=g.replace(e,function(a,b){return String.fromCharCode(f(b))})},h=/\s+/g}(),nb=function(a,b,c){var d,e;return d={pos:0,tokens:a||[],next:function(){return d.tokens[d.pos]},options:b},e=new Ec(d,c)};var Ic;!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;Ic=function(a){return i(a)},a=function(b){var c,d,e,f;if(c=b.pos,qc(b),e=Ic(b),null===e)return null;if(d=[e],qc(b),tc(b,",")){if(f=a(b),null===f)return b.pos=c,null;d=d.concat(f)}return d},d=function(a){var b,c;return b=a.pos,tc(a,"(")?(qc(a),(c=Ic(a))?(qc(a),tc(a,")")?{t:cc,x:c}:(a.pos=b,null)):(a.pos=b,null)):null},e=function(a){return p(a)||n(a)||d(a)},f=function(b){var c,d,f,g;if(d=e(b),!d)return null;for(;d;)if(c=b.pos,f=o(b))d={t:ac,x:d,r:f};else{if(!tc(b,"("))break;if(qc(b),g=a(b),qc(b),!tc(b,")")){b.pos=c;break}d={t:fc,x:d},g&&(d.o=g)}return d},b=function(a,b){return function(c){var d,e;return tc(c,a)?(d=c.pos,qc(c),e=g(c),e||rc(c,"an expression"),{s:a,o:e,t:bc}):b(c)}},function(){var a,c,d,e,h;for(e="! ~ + - typeof".split(" "),h=f,a=0,c=e.length;c>a;a+=1)d=b(e[a],h),h=d;g=h}(),c=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,qc(c),!tc(c,a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(qc(c),f=b(c),!f)return c.pos=d,e;e={t:ec,s:a,o:[e,f]}}}},function(){var a,b,d,e,f;for(e="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),f=g,a=0,b=e.length;b>a;a+=1)d=c(e[a],f),f=d;h=f}(),i=function(a){var b,c,d,e;return(c=h(a))?(b=a.pos,qc(a),tc(a,"?")?(qc(a),(d=Ic(a))?(qc(a),tc(a,":")?(qc(a),e=Ic(a),e?{t:dc,o:[c,d,e]}:(a.pos=b,c)):(a.pos=b,c)):(a.pos=b,c)):(a.pos=b,c)):null},j=sc(/^[0-9]+/),k=sc(/^[eE][\-+]?[0-9]+/),l=sc(/^\.[0-9]+/),m=sc(/^(0|[1-9][0-9]*)/),C=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,n=function(a){var b,c,d,e,f,g,h;for(b=a.pos,c="";tc(a,"../");)c+="../";if(c||(e=tc(a,".")||""),d=y(a)||"",!c&&!e&&C.test(d))return{t:Yb,v:d};if("this"!==d||c||e||(d=".",b+=3),f=(c||e)+d,!f)return null;for(;g=z(a)||A(a);)f+=g;return tc(a,"(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:$b,n:f}},o=function(a){var b,c,d;if(b=a.pos,qc(a),tc(a,".")){if(qc(a),c=y(a))return{t:_b,n:c};rc(a,"a property name")}return tc(a,"[")?(qc(a),d=Ic(a),d||rc(a,"an expression"),qc(a),tc(a,"]")||rc(a,'"]"'),{t:_b,x:d}):null},p=function(a){var b=s(a)||r(a)||t(a)||u(a)||q(a);return b},q=function(b){var c,d;return c=b.pos,qc(b),tc(b,"[")?(d=a(b),tc(b,"]")?{t:Vb,m:d}:(b.pos=c,null)):(b.pos=c,null)},r=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Xb,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Xb,v:"false"}):null},s=function(a){var b,c;return b=a.pos,(c=l(a))?{t:Tb,v:c}:(c=m(a),null===c?null:(c+=l(a)||"",c+=k(a)||"",{t:Tb,v:c}))},u=function(a){var b,c;return b=a.pos,qc(a),tc(a,"{")?(c=v(a),qc(a),tc(a,"}")?{t:Wb,m:c}:(a.pos=b,null)):(a.pos=b,null)},v=function(a){var b,c,d,e;return b=a.pos,d=w(a),null===d?null:(c=[d],tc(a,",")?(e=v(a),e?c.concat(e):(a.pos=b,null)):c)},w=function(a){var b,c,d;return b=a.pos,qc(a),c=x(a),null===c?(a.pos=b,null):(qc(a),tc(a,":")?(qc(a),d=Ic(a),null===d?(a.pos=b,null):{t:Zb,k:c,v:d}):(a.pos=b,null))},x=function(a){return y(a)||t(a)||s(a)},t=function(a){var b,c;return b=a.pos,tc(a,'"')?(c=Rc(a),tc(a,'"')?{t:Ub,v:c}:(a.pos=b,null)):tc(a,"'")?(c=Sc(a),tc(a,"'")?{t:Ub,v:c}:(a.pos=b,null)):null},y=sc(/^[a-zA-Z_$][a-zA-Z_$0-9]*/),z=sc(/^\.[a-zA-Z_$0-9]+/),A=function(a){var b=B(a);return b?"."+b:null},B=sc(/^\[(0|[1-9][0-9]*)\]/)}();var Jc;!function(){var a,b,c,d,e,f,g,h;Jc=function(c){return c.tripleDelimiters[0].length>c.delimiters[0].length?b(c)||a(c):a(c)||b(c)},a=function(a){var b,d=a.pos;return tc(a,a.delimiters[0])?(b=h(a))?tc(a,a.delimiters[1])?(a.delimiters=b,{type:Qb,mustacheType:Pb}):(a.pos=d,null):(b=c(a),null===b?(a.pos=d,null):(qc(a),tc(a,a.delimiters[1])||rc(a,'"'+a.delimiters[1]+'"'),b)):null},b=function(a){var b,d=a.pos;return tc(a,a.tripleDelimiters[0])?(b=h(a))?tc(a,a.tripleDelimiters[1])?(a.tripleDelimiters=b,{type:Qb,mustacheType:Pb}):(a.pos=d,null):(qc(a),b=c(a,!0),null===b?(a.pos=d,null):(qc(a),tc(a,a.tripleDelimiters[1])?b:(a.pos=d,null))):null},c=function(a,b){var c,f,g,h,i,j,k;if(c=a.pos,f={type:b?Ib:Qb},!b&&(g=d(a),f.mustacheType=g||Hb,(g===Ob||g===Lb)&&(j=a.remaining(),k=j.indexOf(a.delimiters[1]),-1!==k)))return f.ref=j.substr(0,k),a.pos+=k,f;for(qc(a),h=Ic(a);h.t===cc&&h.x;)h=h.x;return h.t===$b?f.ref=h.n:f.expression=h,i=e(a),null!==i&&(f.indexRef=i),f},f={"#":Jb,"^":Kb,"/":Lb,">":Nb,"!":Ob,"&":Hb},d=function(a){var b=f[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},e=sc(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),g=sc(/^[^\s=]+/),h=function(a){var b,c,d;return tc(a,"=")?(b=a.pos,qc(a),(c=g(a))?(qc(a),(d=g(a))?(qc(a),tc(a,"=")?[c,d]:(a.pos=b,null)):(a.pos=b,null)):(a.pos=b,null)):null}}();var Kc;!function(){var a,b,c,d,e,f,g,h,i,j,k,l;Kc=function(c){return a(c)||b(c)},a=function(a){var b,e,f;return b=a.pos,tc(a,"<")?(e={type:Rb},e.name=c(a),e.name?(f=d(a),f&&(e.attrs=f),qc(a),tc(a,"/")&&(e.selfClosing=!0),tc(a,">")?e:(a.pos=b,null)):(a.pos=b,null)):null},b=function(a){var b,d;if(b=a.pos,!tc(a,"<"))return null;if(d={type:Rb,closing:!0},!tc(a,"/"))throw new Error("Unexpected character "+a.remaining().charAt(0)+' (expected "/")');if(d.name=c(a),!d.name)throw new Error("Unexpected character "+a.remaining().charAt(0)+" (expected tag name)");if(!tc(a,">"))throw new Error("Unexpected character "+a.remaining().charAt(0)+' (expected ">")');return d},c=sc(/^[a-zA-Z][a-zA-Z0-9\-]*/),d=function(a){var b,c,d;if(b=a.pos,qc(a),d=e(a),!d)return a.pos=b,null;for(c=[];null!==d;)c[c.length]=d,qc(a),d=e(a);return c},e=function(a){var b,c,d;return(c=f(a))?(b={name:c},d=g(a),d&&(b.value=d),b):null},f=sc(/^[^\s"'>\/=]+/),g=function(a){var b,c;return b=a.pos,qc(a),tc(a,"=")?(qc(a),c=l(a,"'")||l(a,'"')||h(a),null===c?(a.pos=b,null):c):(a.pos=b,null)},j=sc(/^[^\s"'=<>`]+/),i=function(a){var b,c,d;return b=a.pos,(c=j(a))?(-1!==(d=c.indexOf(a.delimiters[0]))&&(c=c.substr(0,d),a.pos=b+c.length),{type:Gb,value:c}):null},h=function(a){var b,c;for(b=[],c=Jc(a)||i(a);null!==c;)b[b.length]=c,c=Jc(a)||i(a);return b.length?b:null},l=function(a,b){var c,d,e;if(c=a.pos,!tc(a,b))return null;for(d=[],e=Jc(a)||k(a,b);null!==e;)d[d.length]=e,e=Jc(a)||k(a,b);return tc(a,b)?d:(a.pos=c,null)},k=function(a,b){var c,d,e;if(c=a.pos,e=a.remaining(),d=Mc(e,[b,a.delimiters[0],a.delimiters[1]]),-1===d)throw new Error("Quoted attribute value must have a closing quote");return d?(a.pos+=d,{type:Gb,value:e.substr(0,d)}):null}}();var Lc=function(a){var b,c;return c=a.remaining(),(b=Mc(c,["<",a.delimiters[0],a.tripleDelimiters[0]]))?(-1===b&&(b=c.length),a.pos+=b,{type:Gb,value:c.substr(0,b)}):null};ob=function(a){var b=Jc(a)||Kc(a)||Lc(a);return b};var Mc=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},Nc=sc(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/),Oc=sc(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/),Pc=sc(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/),Qc=function(a,b){return function(a){var c,d,e,f;for(c=a.pos,d='"',e=!1;!e;)f=Nc(a)||Oc(a)||tc(a,b),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=Pc(a),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Rc=Qc('"',"'"),Sc=Qc("'",'"');!function(){var a,b,c,d;a=/^\s*$/,b=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,c=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,e=function(c,e){var f,g,h,i;return e=e||{},b.test(c)?d(c,e):(e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),f=pb(c,e),e.preserveWhitespace||(i=f[0],i&&i.type===Gb&&a.test(i.value)&&f.shift(),i=f[f.length-1],i&&i.type===Gb&&a.test(i.value)&&f.pop()),g=nb(f,e,e.preserveWhitespace),h=g.toJSON(),"string"==typeof h?[h]:h)},d=function(a,d){var f,g,h,i,j,k;for(h={},f="",g=a;j=b.exec(g);){if(i=j[1],f+=g.substr(0,j.index),g=g.substring(j.index+j[0].length),k=c.exec(g),!k||k[1]!==i)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");h[i]=e(g.substr(0,k.index),d),g=g.substring(k.index+k[0].length)}return{main:e(f,d),partials:h}}}(),pb=function(a,c){var d,e,f,g,h;for(c=c||{},d={str:rb(a),pos:0,delimiters:c.delimiters||b.delimiters,tripleDelimiters:c.tripleDelimiters||b.tripleDelimiters,remaining:function(){return d.str.substring(d.pos)}},e=[];d.pos<d.str.length;){if(f=ob(d),null===f&&d.remaining())throw g=d.str.substr(0,d.pos).substr(-20),20===g.length&&(g="..."+g),h=d.remaining().substr(0,20),20===h.length&&(h+="..."),new Error("Could not parse template: "+(g?g+"<- ":"")+"failed at character "+d.pos+" ->"+h);e[e.length]=f}return sb(e),qb(e),e},b.prototype=wb,b.partials={},b.delimiters=["{{","}}"],b.tripleDelimiters=["{{{","}}}"],b.adaptors=xb,b.eventDefinitions=yb,b.easing=c,b.transitions=zb,b.extend=d,b.interpolate=f,b.interpolators=g,b.parse=e,b.VERSION=ub,"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.Ractive=b}("undefined"!=typeof window?window:this);