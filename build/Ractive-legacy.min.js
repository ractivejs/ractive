!function(a){var b=function(){var a,b;return a={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,adapt:[],sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"]},b={keys:Object.keys(a),defaults:a}}(),c=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),d=function(){var a;try{Object.create(null),a=Object.create}catch(b){a=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}return a}(),e={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f=function(a,b){return a?function(a,b){return b?document.createElementNS(b,a):document.createElement(a)}:function(a,c){if(c&&c!==b.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See https://github.com/RactiveJS/Ractive/wiki/SVG-and-older-browsers for more information";return document.createElement(a)}}(c,e),g=function(){return"object"==typeof document?!0:!1}(),h=function(a){try{return Object.defineProperty({},"test",{value:0}),a&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(b){return function(a,b,c){a[b]=c.value}}}(g),i=function(a,b,c){try{try{Object.defineProperties({},{test:{value:0}})}catch(d){throw d}return c&&Object.defineProperties(a("div"),{test:{value:0}}),Object.defineProperties}catch(d){return function(a,c){var d;for(d in c)c.hasOwnProperty(d)&&b(a,d,c[d])}}}(f,h,g),j=function(){var a=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(b){return(b||"").replace(a,".$1")}}(),k={},l=function(){var a=Object.prototype.toString;return function(b){return"[object Array]"===a.call(b)}}(),m=function(a){return function(b){var c,d;if(!b||"object"!=typeof b)return b;if(a(b))return b.slice();c={};for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}}(l),n=function(){var a=Object.prototype.toString;return function(b){return"object"==typeof b&&"[object Object]"===a.call(b)}}(),o={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},p=function(){return function a(b,c){var d,e;if((e=b._wrapped[c])&&e.teardown()!==!1&&(b._wrapped[c]=null),b._cache[c]=void 0,d=b._cacheMap[c])for(;d.length;)a(b,d.pop())}}(),q=function(){var a,b,c;return a={},b=!1,c=function(b){return a[b]},c.add=function(c){a[c]=!0,b=!0},c.purge=function(){b&&(a={},b=!1)},c}(),r=function(){return function(a,b){var c,d,e,f,g,h;for(c=[],h=a.rendered?a.el:a.fragment.docFrag,d=h.querySelectorAll('input[type="checkbox"][name="{{'+b+'}}"]'),f=d.length,g=0;f>g;g+=1)e=d[g],(e.hasAttribute("checked")||e.checked)&&c.push(e._ractive.value);return c}}(),s=function(a,b){return function(c){var d,e,f,g,h,i;for(d=c._deferred;e=d.evals.pop();)e.update().deferred=!1;for(;f=d.selectValues.pop();)f.deferredUpdate();for(;g=d.attrs.pop();)g.update().deferred=!1;for(;h=d.checkboxes.pop();)c.set(h,b(c,h));for(;i=d.radios.pop();)i.update();a.purge()}}(q,r),t=function(){return[]}(),u=function(a){return function b(c){var d,e,f,g,h,i,j;for(d=c._deferred;e=d.components.pop();)b(e);for((f=d.focusable)&&(f.focus(),d.focusable=null);g=d.liveQueries.pop();)g._sort();for(;h=d.decorators.pop();)h.init();for(;i=a.pop();)i.init();for(;j=d.observers.pop();)j.update();c._updateScheduled=!1}}(t),v=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),w=function(a){var b=function(b,c){var d,e,f,g,h,i,j;return e=[],f=[],g=function(){var a,b;for(a=e.length;a--;)b=e[a],h(b.node)&&(b.detach(),e.splice(a,1))},h=function(a){var b,c;for(b=f.length;b--;)if(c=f[b],a.contains(c))return!1;return!0},i=function(){d._ready&&!f.length&&(c&&c.call(b),j&&j.pop(b.el))},d={push:function(a){f.push(a)},pop:function(b){var c;return c=f.indexOf(b),-1===c?(a("This message should not appear. If it did, an unexpected situation occurred with a transition manager. Please tell @RactiveJS (http://twitter.com/RactiveJS). Thanks!"),void 0):(f.splice(c,1),g(),i(),void 0)},ready:function(){g(),d._ready=!0,i()},detachWhenReady:function(a){e.push(a)}},b._parent&&(j=b._parent._transitionManager)&&j.push(b.el),d};return b}(v),x=function(){return function(a,b,c){switch(b){case"splice":return c;case"sort":case"reverse":return null;case"pop":return a.length?[-1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}}(),y=function(){return function(a,b){var c,d,e,f;return b?(c=+(b[0]<0?a.length+b[0]:b[0]),d=Math.max(0,b.length-2),e=void 0!==b[1]?b[1]:a.length-c,e=Math.min(e,a.length-c),f=d-e,{start:c,balance:f,added:d,removed:e}):null}}(),z=function(){function a(a,d,e,f){var g=a._deps[e];g&&(b(g[d]),f||c(a._depsMap[d],a,e))}function b(a){var b,c;if(a)for(c=a.length,b=0;c>b;b+=1)a[b].update()}function c(b,c,d,e){var f;if(b)for(f=b.length;f--;)a(c,b[f],d,e)}function d(a,b,c,f,g){var i,j,k,l,m,n,o,p;for(i=a._patternObservers.length;i--;)j=a._patternObservers[i],j.regex.test(c)&&j.update(c);f||(p=function(b){if(k=a._depsMap[b])for(i=k.length;i--;)l=k[i],m=h.exec(l)[0],n=c+"."+m,d(a,l,n)},g?(o=e(c),o.forEach(p)):p(b))}function e(a){var b,c,d,e,g,h;for(b=a.split("."),c=f(b.length),g=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)h=c[e].map(d).join("."),g[h]||(g.push(h),g[h]=!0);return g}function f(a){var b,c,d,e,f,g="";if(!i[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}i[a]=d}return i[a]}var g,h,i={};return h=/[^\.]+$/,g=function(b,c,e){var f;for(b._patternObservers.length&&d(b,c,c,e,!0),f=0;f<b._deps.length;f+=1)a(b,c,f,e)},g.multiple=function(b,c,e){var f,g,h;if(h=c.length,b._patternObservers.length)for(f=h;f--;)d(b,c[f],c[f],e,!0);for(f=0;f<b._deps.length;f+=1)if(b._deps[f])for(g=h;g--;)a(b,c[g],f,e)},g}(),A=function(a,b,c,d){function e(b,c,d,e){var f,g;for(f=c.length;f--;)g=c[f],g.type===a.REFERENCE?g.update():g.keypath===b&&g.type===a.SECTION&&!g.inverted&&g.docFrag?d.push(g):e.push(g)}return function(a,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(i=a.root,j=a.keypath,"sort"===g||"reverse"===g)return i.set(j,f),void 0;if(h){for(q=h.start;q<f.length-h.balance;q+=1)b(i,j+"."+q);for(o=[],p=[],q=0;q<i._deps.length;q+=1)if(k=i._deps[q],k&&(l=k[j])){for(e(j,l,o,p),c(i);o.length;)o.pop().smartUpdate(g,h);for(;p.length;)p.pop().update()}if(h.added&&h.removed)for(r=Math.max(h.added,h.removed),s=h.start,t=s+r,v=h.added===h.removed,q=s;t>q;q+=1)u=j+"."+q,d(i,u);for(c(i),n=[],m=j.split(".");m.length;)m.pop(),n.push(m.join("."));d.multiple(i,n,!0),v||(b(i,j+".length"),d(i,j+".length",!0))}}}(o,p,s,z),B=function(a,b,c,d,e,f,g,h){var i,j,k,l=[],m=["pop","push","reverse","shift","sort","splice","unshift"],n=function(){};return m.forEach(function(b){var i=function(){var a,i,j,k,l,m,o={},p={},q={};for(a=f(this,b,Array.prototype.slice.call(arguments)),i=g(this,a),j=Array.prototype[b].apply(this,arguments),k=this._ractive.instances,m=k.length;m--;)l=k[m],l._updateScheduled||(q[l._guid]=l._updateScheduled=!0),o[l._guid]=l._transitionManager,l._transitionManager=p[l._guid]=e(l,n);for(this._ractive.setting=!0,m=this._ractive.wrappers.length;m--;)h(this._ractive.wrappers[m],this,b,i);for(this._ractive.setting=!1,m=k.length;m--;)l=k[m],l._transitionManager=o[l._guid],p[l._guid].ready(),c(l),q[l._guid]&&d(l);return j};a(l,b,{value:i})}),i={},i.__proto__?(j=function(a){a.__proto__=l},k=function(a){a.__proto__=Array.prototype}):(j=function(b){var c,d;for(c=m.length;c--;)d=m[c],a(b,d,{value:l[d],configurable:!0})},k=function(a){var b;for(b=m.length;b--;)delete a[m[b]]}),j.unpatch=k,j}(h,p,s,u,w,x,y,A),C=function(a,b,c,d){var e,f,g;return e={filter:function(a){return c(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new f(a,b,c)}},f=function(a,c,e){this.root=a,this.value=c,this.keypath=e,c._ractive||(b(c,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),d(c)),c._ractive.instances[a._guid]||(c._ractive.instances[a._guid]=0,c._ractive.instances.push(a)),c._ractive.instances[a._guid]+=1,c._ractive.wrappers.push(this)},f.prototype={get:function(){return this.value},teardown:function(){var a,b,c,e,f;if(a=this.value,b=a._ractive,c=b.wrappers,e=b.instances,b.setting)return!1;if(f=c.indexOf(this),-1===f)throw new Error(g);if(c.splice(f,1),c.length){if(e[this.root._guid]-=1,!e[this.root._guid]){if(f=e.indexOf(this.root),-1===f)throw new Error(g);e.splice(f,1)}}else delete a._ractive,d.unpatch(this.value)}},g="Something went wrong in a rather interesting way",e}(o,h,l,B),D=function(){var a=/^\s*[0-9]+\s*$/;return function(b){return a.test(b)?[]:{}}}(),E=function(a,b){var c,d;try{Object.defineProperty({},"test",{value:0})}catch(e){return!1}return c={filter:function(a,c,d){var e,f,g,h;return c?(e=c.split("."),f=e.pop(),g=e.join("."),h=d.get(g),b(h)&&/^[0-9]+$/.test(f)?!1:h&&"object"==typeof h):!1},wrap:function(a,b,c){return new d(a,b,c)}},d=function(a,b,c){var d,e,f,g,h,i,j,k,l=this;if(this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers))return-1===g.indexOf(this)&&g.push(this),void 0;if(f&&!f.configurable){if("length"===this.prop)return;throw new Error('Cannot use magic mode with property "'+this.prop+'" - object is not configurable')}f&&(this.value=f.value,h=f.get,i=f.set),j=h||function(){return l.value},k=function(a){var b,c,d,e;for(i&&i(a),b=k._ractiveWrappers,d=b.length,e=d;e--;)b[e].value=a;for(e=d;e--;)c=b[e],c.resetting=!0,c.ractive.update(c.keypath),c.resetting=!1},k._ractiveWrappers=[this],Object.defineProperty(this.obj,this.prop,{get:j,set:k,enumerable:!0,configurable:!0})},d.prototype={get:function(){return this.value},reset:function(a){return this.obj[this.prop]=a,!1},set:function(b){this.obj[this.prop]||(this.resetting=!0,this.obj[this.prop]=a(b.split(".")[0]),this.resetting=!1)},teardown:function(){var a,b,c,d,e;return this.resetting?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c)),void 0)}},c}(D,l),F=function(a,b){if(!a)return!1;var c,d;return c={filter:function(c,d,e){return a.filter(c,d,e)&&b.filter(c)},wrap:function(a,b,c){return new d(a,b,c)}},d=function(c,d,e){this.value=d,this.magicWrapper=a.wrap(c,d,e),this.arrayWrapper=b.wrap(c,d,e)},d.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}},c}(E,C),G=function(a,b,c,d,e,f){function g(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function h(a){var b;return i[a]||(b=a?a+".":"",i[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?g(c,a):c:void 0}),i[a]}var i={};return function(b,g,i,j,k){var l,m,n,o;for(l=b.adapt.length,m=0;l>m;m+=1){if(n=b.adapt[m],"string"==typeof n){if(!c[n])throw new Error('Missing adaptor "'+n+'"');n=b.adapt[m]=c[n]}if(n.filter(i,g,b))return o=b._wrapped[g]=n.wrap(b,i,g,h(g)),o.value=i,i}return j||(b.magic?f.filter(i,g,b)?(k&&(i=i.slice()),b._wrapped[g]=f.wrap(b,i,g)):e.filter(i,g,b)&&(k&&(i=a(i)),b._wrapped[g]=e.wrap(b,i,g)):b.modifyArrays&&d.filter(i,g,b)&&(k&&(i=i.slice()),b._wrapped[g]=d.wrap(b,i,g))),i}}(m,n,k,C,E,F),H=function(){return function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}}(),I=function(){return function(a){var b,c,d,e,f,g,h,i;if(g=a.root,h=a.keypath,i=a.priority,b=g._deps[i]||(g._deps[i]={}),c=b[h]||(b[h]=[]),c.push(a),a.registered=!0,h)for(d=h.split(".");d.length;)d.pop(),e=d.join("."),f=g._depsMap[e]||(g._depsMap[e]=[]),void 0===f[h]&&(f[h]=0,f[f.length]=h),f[h]+=1,h=e}}(),J=function(){return function(a){var b,c,d,e,f,g,h,i;if(g=a.root,h=a.keypath,i=a.priority,b=g._deps[i][h],c=b.indexOf(a),-1===c||!a.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");if(b.splice(c,1),a.registered=!1,h)for(d=h.split(".");d.length;)d.pop(),e=d.join("."),f=g._depsMap[e],f[h]-=1,f[h]||(f.splice(f.indexOf(h),1),f[h]=void 0),h=e}}(),K=function(a,b,c,d){var e=function(a,b,d,e,f){this.root=a,this.keypath=b,this.priority=f,this.otherInstance=d,this.otherKeypath=e,c(this)};return e.prototype={init:function(a){var b=this.root.get(this.keypath);a&&void 0!==b?this.update():this.value=b},update:function(){var c;this.counterpart&&this.counterpart.setting||(c=this.root.get(this.keypath),a(c)&&c._ractive&&c._ractive.setting||b(c,this.value)||(this.setting=!0,this.otherInstance.set(this.otherKeypath,c),this.value=c,this.setting=!1))},teardown:function(){d(this)}},function(a,b,c,d){var f,g,h,i,j,k;f=c+"="+d,h=a.bindings,h[f]||(h[f]=!0,g=a.instance,i=a.parentFragment.priority,j=new e(b,c,g,d,i),j.init(),h.push(j),g.twoway&&(k=new e(g,d,b,c,1),h.push(k),j.counterpart=k,k.counterpart=j))}}(l,H,I,J),L={},M=function(a,b,c){return function(d,e){var f,g,h,i,j;if(f=d._parent){if(a(d._guid+e))return c;for(g=d.component.parentFragment.contextStack,j=g.length;j--;)if(h=g[j]+"."+e,i=f.get(h),void 0!==i)return b(d.component,f,h,e),d._cache[e]=i,i;return i=f.get(e),void 0!==i?(b(d.component,f,e,e),d._cache[e]=i,i):(a.add(d._guid+e),c)}}}(q,K,L),N={},O=function(a,b,c,d,e,f){var g,h,i;return g=function(a){var b;return this._captured&&!this._captured[a]&&(this._captured.push(a),this._captured[a]=!0),b=h(this,a),b===e&&b!==f&&(b=d(this,a)),b!==f?b:void 0},h=function(b,d){var e,f,g,h,j;return d=a(d),e=b._cache,void 0!==(f=e[d])?f:((h=b._wrapped[d])?g=h.value:d?g=(j=b._evaluators[d])?j.value:i(b,d):(c(b,"",b.data),g=b.data),e[d]=g,g)},i=function(a,b){var d,f,g,i,j,k,l,m;return d=b.split("."),f=d.pop(),g=d.join("."),i=h(a,g),(l=a._wrapped[g])&&(i=l.get()),null!==i&&void 0!==i?((j=a._cacheMap[g])?-1===j.indexOf(b)&&j.push(b):a._cacheMap[g]=[b],"object"!=typeof i||f in i?(k=i[f],m=!i.hasOwnProperty(f),k=c(a,b,k,!1,m),a._cache[b]=k,k):a._cache[b]=e):void 0},g}(j,k,G,M,N,L),P=function(){return function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}}(),Q=function(){var a='Could not resolve reference - too many "../" prefixes';return function(b,c,d){var e,f,g,h,i,j,k,l,m,n;if("."===c){if(!d.length)return"";e=d[d.length-1]}else if("."===c.charAt(0))if(n=d[d.length-1],h=n?n.split("."):[],"../"===c.substr(0,3)){for(;"../"===c.substr(0,3);){if(!h.length)throw new Error(a);h.pop(),c=c.substring(3)}h.push(c),e=h.join(".")}else e=n?n+c:c.substring(1);else{for(f=c.split("."),g=f.pop(),j=f.length?"."+f.join("."):"",d=d.concat();d.length;)if(i=d.pop(),k=i+j,l=b.get(k),(m=b._wrapped[k])&&(l=m.get()),"object"==typeof l&&null!==l&&void 0!==l[g]){e=i+"."+c;break}e||(b.data.hasOwnProperty(c)?e=c:void 0!==b.get(c)&&(e=c))}return e?e.replace(/^\./,""):e}}(),R=function(a,b){var c=[];return c.check=function(){var a,d,e;if(c.length)for(a=c.splice(0);d=a.pop();)d.keypath||(e=b(d.root,d.ref,d.contextStack),void 0!==e?d.resolve(e):c.push(d))},c.remove=function(b){a(c,b)},c}(P,Q),S=function(a,b,c){return function(d,e,f){var g,h,i,j,k,l,m;for(g=e.split("."),h=[],(i=d._wrapped[""])?(i.set&&i.set(g.join("."),f),j=i.get()):j=d.data;g.length>1;)k=g.shift(),h.push(k),l=h.join("."),(i=d._wrapped[l])?(i.set&&i.set(g.join("."),f),j=i.get()):(!j.hasOwnProperty(k)&&k in j&&(m||(m=l),j[k]=a(j[k])),j[k]||(m||(m=l),j[k]=b(g[0])),j=j[k]);k=g[0],j[k]=f,c(d,m||e)}}(m,D,p),T=function(a,b,c,d,e,f,g,h,i,j){function k(a,b,c,d){var f,g,h,i;h=a._wrapped[b],h&&h.reset&&h.get()!==c&&h.reset(c),(i=a._evaluators[b])&&(i.value=c),f=a._cache[b],g=a.get(b),(c!==f||"object"==typeof c)&&(i||h&&h.reset||j(a,b,c),d.push(b),e(a,b))}function l(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),f[e]||(f.push(e),f[e]=!0);return f}return function(c,e,j){var m,n,o,p,q,r,s,t;if(o=[],b(c)){n=c,j=e;for(c in n)n.hasOwnProperty(c)&&(e=n[c],c=d(c),k(this,c,e,o))}else c=d(c),k(this,c,e,o);if(o.length){if(this._updateScheduled||(m=this._updateScheduled=!0),q=this._transitionManager,this._transitionManager=r=g(this,j),p=l(o),p.length&&f.multiple(this,p,!0),f.multiple(this,o),a.check(),h(this),m&&i(this),this._transitionManager=q,r.ready(),!this.firingChangeEvent){for(this.firingChangeEvent=!0,t={},s=o.length;s--;)t[o[s]]=this.get(o[s]);this.fire("change",t),this.firingChangeEvent=!1}return this}}}(R,n,H,j,p,z,w,s,u,S),U=function(a,b,c,d,e,f){return function(g,h){var i,j,k;return this._updateScheduled||(k=this._updateScheduled=!0),"function"==typeof g&&(h=g,g=""),j=this._transitionManager,this._transitionManager=i=b(this,h),a.check(),c(this,g||""),d(this,g||""),e(this),k&&f(this),this._transitionManager=j,i.ready(),"string"==typeof g?this.fire("update",g):this.fire("update"),this}}(R,w,p,z,s,u),V=function(a){return function(b,c){var d;if(!a(b)||!a(c))return!1;if(b.length!==c.length)return!1;for(d=b.length;d--;)if(b[d]!==c[d])return!1;return!0}}(l),W=function(a,b,c){function d(a,e,f,g,h){var i,j,k,l,m,n;if(i=a._twowayBindings[e])for(k=i.length;k--;)l=i[k],(!l.radioName||l.node.checked)&&(l.checkboxName?l.changed()&&!g[e]&&(g[e]=!0,g.push(e)):(m=l.attr.value,n=l.value(),b(m,n)||c(m,n)||(f[e]=n)));if(h&&(j=a._depsMap[e]))for(k=j.length;k--;)d(a,j[k],f,g,h)}return function(b,c){var e,f,g;if("string"!=typeof b&&(b="",c=!0),d(this,b,e={},f=[],c),g=f.length)for(;g--;)b=f[g],e[b]=a(this,b);this.set(e)}}(r,V,H),X=function(){return["o","ms","moz","webkit"]}(),Y=function(a){return"undefined"!=typeof window?(function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(a,0,window),window.requestAnimationFrame):void 0}(X),Z=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),$=function(a,b){var c=[],d={tick:function(){var e,f,g;for(g=b(),e=0;e<c.length;e+=1)f=c[e],f.tick(g)||c.splice(e--,1);c.length?a(d.tick):d.running=!1},add:function(a){c.push(a),d.running||(d.running=!0,d.tick())},abort:function(a,b){for(var d,e=c.length;e--;)d=c[e],d.root===b&&d.keypath===a&&d.stop()}};return d}(Y,Z),_=function(){return[]}(),ab=function(){return function(a){return!isNaN(parseFloat(a))&&isFinite(a)}}(),bb=function(a,b,c,d){var e,f,g;return a.push(function(){f=a.interpolate}),g=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,e={number:function(a,b){var c;return d(a)&&d(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,c){var d,e,g,h;if(!b(a)||!b(c))return null;for(d=[],e=[],h=g=Math.min(a.length,c.length);h--;)e[h]=f(a[h],c[h]);for(h=g;h<a.length;h+=1)d[h]=a[h];for(h=g;h<c.length;h+=1)d[h]=c[h];return function(a){for(var b=g;b--;)d[b]=e[b](a);return d}},object:function(a,b){var d,e,g,h,i;if(!c(a)||!c(b))return null;d=[],h={},g={};for(i in a)a.hasOwnProperty(i)&&(b.hasOwnProperty(i)?(d.push(i),g[i]=f(a[i],b[i])):h[i]=a[i]);for(i in b)b.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(h[i]=b[i]);return e=d.length,function(a){for(var b,c=e;c--;)b=d[c],h[b]=g[b](a);return h}},cssLength:function(a,b){var c,d,e,f,h,i,j,k;return 0!==a&&"string"!=typeof a||0!==b&&"string"!=typeof b?null:(c=g.exec(a),d=g.exec(b),e=c?c[2]:"",f=d?d[2]:"",e&&f&&e!==f?null:(j=e||f,h=c?+c[1]:0,i=d?+d[1]:0,k=i-h,k?function(a){return h+a*k+j}:function(){return h+j}))}}}(_,l,n,ab),cb=function(a,b){function c(a){return function(){return a}}return function(d,e,f,g){if(d===e)return c(e);if(g){if(f.interpolators[g])return f.interpolators[g](d,e)||c(e);a('Missing "'+g+'" interpolator. You may need to download a plugin from [TODO]')}return b.number(d,e)||b.array(d,e)||b.object(d,e)||b.cssLength(d,e)||c(e)}}(v,bb),db=function(a,b){var c=function(a){var c;this.startTime=Date.now();for(c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);this.interpolator=b(this.from,this.to,this.root,this.interpolator),this.running=!0};return c.prototype={tick:function(){var b,c,d,e,f,g;return g=this.keypath,this.running?(e=Date.now(),b=e-this.startTime,b>=this.duration?(null!==g&&this.root.set(g,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),f=this.root._animations.indexOf(this),-1===f&&a("Animation was not found"),this.root._animations.splice(f,1),this.running=!1,!1):(c=this.easing?this.easing(b/this.duration):b/this.duration,null!==g&&(d=this.interpolator(c),this.root.set(g,d)),this.step&&this.step(c,d),!0)):!1},stop:function(){var b;this.running=!1,b=this.root._animations.indexOf(this),-1===b&&a("Animation was not found"),this.root._animations.splice(b,1)}},c}(v,cb),eb=function(a,b,c){function d(d,f,g,h){var i,j,k,l;return null!==f&&(l=d.get(f)),b.abort(f,d),a(l,g)?(h.complete&&h.complete(1,h.to),e):(h.easing&&(i="function"==typeof h.easing?h.easing:d.easing[h.easing],"function"!=typeof i&&(i=null)),j=void 0===h.duration?400:h.duration,k=new c({keypath:f,from:l,to:g,root:d,duration:j,easing:i,interpolator:h.interpolator,step:h.step,complete:h.complete}),b.add(k),d._animations.push(k),k)}var e={stop:function(){}};return function(a,b,c){var e,f,g,h,i,j,k,l,m,n,o,p;if("object"==typeof a){c=b||{},h=c.easing,i=c.duration,g=[],j=c.step,k=c.complete,(j||k)&&(m={},c.step=null,c.complete=null,l=function(a){return function(b,c){m[a]=c}});for(e in a)a.hasOwnProperty(e)&&((j||k)&&(n=l(e),c={easing:h,duration:i},j&&(c.step=n),k&&(c.complete=n)),g.push(d(this,e,a[e],c)));return(j||k)&&(p={easing:h,duration:i},j&&(p.step=function(a){j(a,m)}),k&&(p.complete=function(a){k(a,m)}),o=d(this,null,null,p),g.push(o)),{stop:function(){for(var a;a=g.pop();)a.stop();o&&o.stop()}}}return c=c||{},f=d(this,a,b,c),{stop:function(){f.stop()}}}}(H,$,db),fb=function(){return function(a,b){var c,d,e=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return this._subs[a]?this._subs[a].push(b):this._subs[a]=[b],{cancel:function(){e.off(a,b)}}}}(),gb=function(){return function(a,b){var c,d;if(!b)if(a)this._subs[a]=[];else for(a in this._subs)delete this._subs[a];c=this._subs[a],c&&(d=c.indexOf(b),-1!==d&&c.splice(d,1))}}(),hb=function(a){var b=function(a,b,c,d){var e=this;this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.debug=d.debug,this.proxy={update:function(){e.reallyUpdate()}},this.priority=0,this.context=d&&d.context?d.context:a};return b.prototype={init:function(a){a!==!1?this.update():this.value=this.root.get(this.keypath)},update:function(){return this.defer&&this.ready?(this.root._deferred.observers.push(this.proxy),void 0):(this.reallyUpdate(),void 0)},reallyUpdate:function(){var b,c;if(b=this.value,c=this.root.get(this.keypath),this.value=c,!this.updating){if(this.updating=!0,!a(c,b)||!this.ready)try{this.callback.call(this.context,c,b,this.keypath)}catch(d){if(this.debug||this.root.debug)throw d}this.updating=!1}}},b}(H),ib=function(a){return function(b,c){var d,e,f,g,h,i,j;for(d=c.split("."),g=[],i=function(c){var d,e;d=b._wrapped[c]?b._wrapped[c].get():b.get(c);for(e in d)!d.hasOwnProperty(e)||"_ractive"===e&&a(d)||h.push(c+"."+e)},j=function(a){return a+"."+e};e=d.shift();)"*"===e?(h=[],g.forEach(i),g=h):g[0]?g=g.map(j):g[0]=e;return f={},g.forEach(function(a){f[a]=b.get(a)}),f}}(l),jb=function(a,b){var c,d=/\*/;return c=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.debug=d.debug,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=d&&d.context?d.context:a},c.prototype={init:function(a){var c,d;if(c=b(this.root,this.keypath),a!==!1)for(d in c)c.hasOwnProperty(d)&&this.update(d);else this.values=c},update:function(a){var c;{if(!d.test(a))return this.defer&&this.ready?(this.root._deferred.observers.push(this.getProxy(a)),void 0):(this.reallyUpdate(a),void 0);c=b(this.root,a);for(a in c)c.hasOwnProperty(a)&&this.update(a)}},reallyUpdate:function(b){var c=this.root.get(b);if(this.updating)return this.values[b]=c,void 0;if(this.updating=!0,!a(c,this.values[b])||!this.ready){try{this.callback.call(this.context,c,this.values[b],b)}catch(d){if(this.debug||this.root.debug)throw d}this.values[b]=c}this.updating=!1},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){b.reallyUpdate(a)}}),this.proxies[a]}},c}(H,ib),kb=function(a,b,c,d,e){var f=/\*/,g={};return function(h,i,j,k){var l,m;return i=a(i),k=k||g,f.test(i)?(l=new e(h,i,j,k),h._patternObservers.push(l),m=!0):l=new d(h,i,j,k),b(l),l.init(k.init),l.ready=!0,{cancel:function(){var a;m&&(a=h._patternObservers.indexOf(l),-1!==a&&h._patternObservers.splice(a,1)),c(l)}}}}(j,I,J,hb,jb),lb=function(a,b){return function(c,d,e){var f,g=[];if(a(c)){e=d;for(f in c)c.hasOwnProperty(f)&&(d=c[f],g.push(b(this,f,d,e)));return{cancel:function(){for(;g.length;)g.pop().cancel()}}}return"function"==typeof c&&(e=d,d=c,c=""),b(this,c,d,e)}}(n,kb),mb=function(){return function(a){var b,c,d,e=this._subs[a];if(e)for(b=Array.prototype.slice.call(arguments,1),c=0,d=e.length;d>c;c+=1)e[c].apply(this,b)}}(),nb=function(){return function(a){return this.el?this.fragment.find(a):null}}(),ob=function(a,b,c){var d,e,f,g,h,i,j;if(a){for(d=c("div"),e=["matches","matchesSelector"],j=function(a){return function(b,c){return b[a](c)}},h=e.length;h--;){if(f=e[h],d[f])return j(f);for(i=b.length;i--;)if(g=b[h]+f.substr(0,1).toUpperCase()+f.substring(1),d[g])return j(g)}return function(a,b){var c,d;for(c=(a.parentNode||a.document).querySelectorAll(b),d=c.length;d--;)if(c[d]===a)return!0;return!1}}}(g,X,f),pb=function(a){return function(b,c){var d=this._isComponentQuery?!this.selector||b.name===this.selector:a(b.node,this.selector);return d?(this.push(b.node||b.instance),c||this._makeDirty(),!0):void 0}}(ob),qb=function(){return function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)}}(),rb=function(){function a(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function b(b){var c,d;for(c=[b],d=a(b);d;)c.push(d),d=a(d);return c}return function(a,c){var d,e,f,g,h,i,j,k,l,m;for(d=b(a.component||a._ractive.proxy),e=b(c.component||c._ractive.proxy),f=d[d.length-1],g=e[e.length-1];f&&f===g;)d.pop(),e.pop(),h=f,f=d[d.length-1],g=e[e.length-1];if(f=f.component||f,g=g.component||g,l=f.parentFragment,m=g.parentFragment,l===m)return i=l.items.indexOf(f),j=m.items.indexOf(g),i-j||d.length-e.length;if(k=h.fragments)return i=k.indexOf(l),j=k.indexOf(m),i-j||d.length-e.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),sb=function(a){return function(b,c){var d;return b.compareDocumentPosition?(d=b.compareDocumentPosition(c),2&d?1:-1):a(b,c)}}(rb),tb=function(a,b){return function(){this.sort(this._isComponentQuery?b:a),this._dirty=!1}}(sb,rb),ub=function(){return function(){this._dirty||(this._root._deferred.liveQueries.push(this),this._dirty=!0)}}(),vb=function(){return function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a.node);-1!==b&&this.splice(b,1)}}(),wb=function(a,b,c,d,e,f){return function(g,h,i,j){var k;return k=[],a(k,{selector:{value:h},live:{value:i},_isComponentQuery:{value:j},_test:{value:b}}),i?(a(k,{cancel:{value:c},_root:{value:g},_sort:{value:d},_makeDirty:{value:e},_remove:{value:f},_dirty:{value:!1,writable:!0}}),k):k}}(i,pb,qb,tb,ub,vb),xb=function(a,b,c,d){return function(a,b){var c,e;return this.el?(b=b||{},c=this._liveQueries,(e=c[a])?b&&b.live?e:e.slice():(e=d(this,a,!!b.live,!1),e.live&&(c.push(a),c[a]=e),this.fragment.findAll(a,e),e)):[]}}(v,ob,i,wb),yb=function(){return function(a){return this.fragment.findComponent(a)}}(),zb=function(a,b,c,d){return function(a,b){var c,e;return b=b||{},c=this._liveComponentQueries,(e=c[a])?b&&b.live?e:e.slice():(e=d(this,a,!!b.live,!0),e.live&&(c.push(a),c[a]=e),this.fragment.findAllComponents(a,e),e)}}(v,ob,i,wb),Ab=function(){return function(a){var b;return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}}(),Bb=function(){var a,b,c=[];return b=function(){var b="/* Ractive.js component styles */\n"+c.join(" ");a.styleSheet?a.styleSheet.cssText=b:a.innerHTML=b},{add:function(d){d.css&&(a||(a=document.createElement("style"),a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a)),c[d._guid]||(c[d._guid]=0,c.push(d.css),b()),c[d._guid]+=1)},remove:function(d){d.css&&(c[d._guid]-=1,c[d._guid]||(c.splice(c.indexOf(d.css),1),c.length?b():(a.parentNode.removeChild(a),a=null)))}}}(),Cb=function(a,b){return function(c,d){var e,f,g,h,i;if(c.owner=d.owner,g=c.owner.parentFragment,c.root=d.root,c.pNode=d.pNode,c.contextStack=d.contextStack||[],c.owner.type===a.SECTION&&(c.index=d.index),g&&(h=g.indexRefs)){c.indexRefs=b(null);for(i in h)c.indexRefs[i]=h[i]}for(c.priority=g?g.priority+1:1,d.indexRef&&(c.indexRefs||(c.indexRefs={}),c.indexRefs[d.indexRef]=d.index),c.items=[],e=d.descriptor?d.descriptor.length:0,f=0;e>f;f+=1)c.items[c.items.length]=c.createItem({parentFragment:c,descriptor:d.descriptor[f],index:f})}}(o,d),Db=function(a){function b(b){return e[b]||(e[b]=a(b))}var c,d,e={};try{a("table").innerHTML="foo"}catch(f){c=!0,d={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(a,e,f){var g,h,i=[];if(a)for(c&&(h=d[e])?(g=b("DIV"),g.innerHTML=h[0]+a+h[1],g=g.querySelector(".x")):(g=b(e),g.innerHTML=a);g.firstChild;)i.push(g.firstChild),f.appendChild(g.firstChild);return i}}(f),Eb=function(){return function(){var a,b=this.node;return b&&(a=b.parentNode)?(a.removeChild(b),b):void 0}}(),Fb=function(a,b){var c,d,e;return d=/</g,e=/>/g,c=function(b,c){this.type=a.TEXT,this.descriptor=b.descriptor,c&&(this.node=document.createTextNode(b.descriptor),c.appendChild(this.node))},c.prototype={detach:b,teardown:function(a){a&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(d,"&lt;").replace(e,"&gt;")}},c}(o,Eb),Gb=function(a,b){return function(c){c.keypath?b(c):a.remove(c)}}(R,J),Hb=function(a,b,c,d,e){function f(a,b,d){var e,f,g;if(!h.test(a.toString()))return c(a,"_nowrap",{value:!0}),a;
if(!a["_"+b._guid]){c(a,"_"+b._guid,{value:function(){var c,d,e,g;if(c=b._captured,c||(b._captured=[]),d=a.apply(b,arguments),b._captured.length)for(e=f.length;e--;)g=f[e],g.updateSoftDependencies(b._captured);return b._captured=c,d},writable:!0});for(e in a)a.hasOwnProperty(e)&&(a["_"+b._guid][e]=a[e]);a["_"+b._guid+"_evaluators"]=[]}return f=a["_"+b._guid+"_evaluators"],g=f.indexOf(d),-1===g&&f.push(d),a["_"+b._guid]}var g,h;return h=/this/,g=function(b,c,e,g,h){var i;this.evaluator=e,this.keypath=c,this.root=b,this.argNum=g,this.type=a.REFERENCE,this.priority=h,i=b.get(c),"function"==typeof i&&(i=f(i,b,e)),this.value=e.values[g]=i,d(this)},g.prototype={update:function(){var a=this.root.get(this.keypath);"function"!=typeof a||a._nowrap||(a=f(a,this.root,this.evaluator)),b(a,this.value)||(this.evaluator.values[this.argNum]=a,this.evaluator.bubble(),this.value=a)},teardown:function(){e(this)}},g}(o,H,h,I,J),Ib=function(a,b,c){var d=function(a,c,d){this.root=a,this.keypath=c,this.priority=d.priority,this.evaluator=d,b(this)};return d.prototype={update:function(){var b=this.root.get(this.keypath);a(b,this.value)||(this.evaluator.bubble(),this.value=b)},teardown:function(){c(this)}},d}(H,I,J),Jb=function(a,b,c,d,e,f,g,h,i,j){function k(a,b){var c,d;if(a=a.replace(/\$\{([0-9]+)\}/g,"_$1"),m[a])return m[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),m[a]=c,c}var l,m={};return l=function(a,b,c,d,e,f){var g,h;for(this.root=a,this.uniqueString=c,this.keypath=b,this.priority=f,this.fn=k(d,e.length),this.values=[],this.refs=[],g=e.length;g--;)(h=e[g])?h[0]?this.values[g]=h[1]:this.refs.push(new i(a,h[1],this,g,f)):this.values[g]=void 0;this.selfUpdating=this.refs.length<=1,this.update()},l.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._deferred.evals.push(this),this.deferred=!0)},update:function(){var c;if(this.evaluating)return this;this.evaluating=!0;try{c=this.fn.apply(null,this.values)}catch(f){this.root.debug&&a('Error evaluating "'+this.uniqueString+'": '+f.message||f),c=void 0}return b(c,this.value)||(d(this.root,this.keypath),this.root._cache[this.keypath]=c,h(this.root,this.keypath,c,!0),this.value=c,e(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();d(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var a=this.refs.length;a--;)this.refs[a].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(a){var b,c,d;for(this.softRefs||(this.softRefs=[]),b=this.softRefs.length;b--;)d=this.softRefs[b],a[d.keypath]||(this.softRefs.splice(b,1),this.softRefs[d.keypath]=!1,d.teardown());for(b=a.length;b--;)c=a[b],this.softRefs[c]||(d=new j(this.root,c,this),this.softRefs.push(d),this.softRefs[c]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},l}(v,H,h,p,z,I,J,G,Hb,Ib),Kb=function(a,b,c){var d=function(c,d,e,f){var g,h;h=this.root=c.root,g=b(h,d,e),void 0!==g?c.resolveRef(f,!1,g):(this.ref=d,this.argNum=f,this.resolver=c,this.contextStack=e,a.push(this))};return d.prototype={resolve:function(a){this.keypath=a,this.resolver.resolveRef(this.argNum,!1,a)},teardown:function(){this.keypath||c(this)}},d}(R,Q,Gb),Lb=function(){return function(a,b){return a.replace(/\$\{([0-9]+)\}/g,function(a,c){return b[c]?b[c][1]:"undefined"})}}(),Mb=function(){var a=/^(?:(?:[a-zA-Z$_][a-zA-Z$_0-9]*)|(?:[0-9]|[1-9][0-9]+))$/;return function(b){var c,d,e;for(c=b.split("."),e=c.length;e--;)if(d=c[e],"undefined"===d||!a.test(d))return!1;return!0}}(),Nb=function(a,b){return function(c){var d;return d=a(c),b(d)?d:"${"+d.replace(/[\.\[\]]/g,"-")+"}"}}(j,Mb),Ob=function(a,b){function c(a,b,c){var e,f;if(e=a._depsMap[b])for(f=e.length;f--;)d(a,e[f],c)}function d(a,b,d){var e,f,g,h;for(e=a._deps.length;e--;)if(f=a._deps[e],f&&(g=f[b]))for(h=g.length;h--;)d.push(g[h]);c(a,b,d)}return function(c,e,f){var g,h,i;for(g=[],d(c,e,g),h=g.length;h--;)i=g[h],b(i),i.keypath=i.keypath.replace(e,f),a(i),i.update()}}(I,J),Pb=function(a,b,c,d,e){var f=function(a){var c,d,e,f,g;if(this.root=a.root,this.mustache=a,this.args=[],this.scouts=[],c=a.descriptor.x,g=a.parentFragment.indexRefs,this.str=c.s,e=this.unresolved=this.args.length=c.r?c.r.length:0,!e)return this.resolved=this.ready=!0,this.bubble(),void 0;for(d=0;e>d;d+=1)f=c.r[d],g&&void 0!==g[f]?this.resolveRef(d,!0,g[f]):this.scouts.push(new b(this,f,a.contextStack,d));this.ready=!0,this.bubble()};return f.prototype={bubble:function(){var a;this.ready&&(a=this.keypath,this.uniqueString=c(this.str,this.args),this.keypath=d(this.uniqueString),"${"===this.keypath.substr(0,2)&&this.createEvaluator(),a?e(this.root,a,this.keypath):this.mustache.resolve(this.keypath))},teardown:function(){for(;this.scouts.length;)this.scouts.pop().teardown()},resolveRef:function(a,b,c){this.args[a]=[b,c],this.bubble(),this.resolved=!--this.unresolved},createEvaluator:function(){this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():this.root._evaluators[this.keypath]=new a(this.root,this.keypath,this.uniqueString,this.str,this.args,this.mustache.priority)}},f}(Jb,Kb,Lb,Nb,Ob),Qb=function(a,b,c){return function(d,e){var f,g,h;h=d.parentFragment=e.parentFragment,d.root=h.root,d.contextStack=h.contextStack,d.descriptor=e.descriptor,d.index=e.index||0,d.priority=h.priority,d.type=e.descriptor.t,e.descriptor.r&&(h.indexRefs&&void 0!==h.indexRefs[e.descriptor.r]?(g=h.indexRefs[e.descriptor.r],d.indexRef=e.descriptor.r,d.value=g,d.render(d.value)):(f=b(d.root,e.descriptor.r,d.contextStack),void 0!==f?d.resolve(f):(d.ref=e.descriptor.r,a.push(d)))),e.descriptor.x&&(d.expressionResolver=new c(d)),d.descriptor.n&&!d.hasOwnProperty("value")&&d.render(void 0)}}(R,Q,Pb),Rb=function(a,b,c){return function(d){d!==this.keypath&&(this.registered&&c(this),this.keypath=d,b(this),this.update(),this.root.twoway&&this.parentFragment.owner.type===a.ATTRIBUTE&&this.parentFragment.owner.element.bind(),this.expressionResolver&&this.expressionResolver.resolved&&(this.expressionResolver=null))}}(o,I,J),Sb=function(a){return function(){var b,c;c=this.root.get(this.keypath),(b=this.root._wrapped[this.keypath])&&(c=b.get()),a(c,this.value)||(this.render(c),this.value=c)}}(H),Tb=function(a,b,c,d,e,f){var g,h,i;return h=/</g,i=/>/g,g=function(b,d){this.type=a.INTERPOLATOR,d&&(this.node=document.createTextNode(""),d.appendChild(this.node)),c(this,b)},g.prototype={update:e,resolve:d,detach:f,teardown:function(a){a&&this.detach(),b(this)},render:function(a){this.node&&(this.node.data=void 0==a?"":a)},firstNode:function(){return this.node},toString:function(){var a=void 0!=this.value?""+this.value:"";return a.replace(h,"&lt;").replace(i,"&gt;")}},g}(o,Gb,Qb,Rb,Sb,Eb),Ub=function(a,b,c){function d(a,b,c){var d,e,f;if(e=b.length,e<a.length)for(f=a.fragments.splice(e,a.length-e);f.length;)f.pop().teardown(!0);else if(e>a.length)for(d=a.length;e>d;d+=1)c.contextStack=a.contextStack.concat(a.keypath+"."+d),c.index=d,a.descriptor.i&&(c.indexRef=a.descriptor.i),a.fragments[d]=a.createFragment(c);a.length=e}function e(a,b,d){var e,f;f=a.fragmentsById||(a.fragmentsById=c(null));for(e in f)void 0===b[e]&&f[e]&&(f[e].teardown(!0),f[e]=null);for(e in b)void 0===b[e]||f[e]||(d.contextStack=a.contextStack.concat(a.keypath+"."+e),d.index=e,a.descriptor.i&&(d.indexRef=a.descriptor.i),f[e]=a.createFragment(d))}function f(a,b){a.length||(b.contextStack=a.contextStack.concat(a.keypath),b.index=0,a.fragments[0]=a.createFragment(b),a.length=1)}function g(b,c,d,e){var f,g,h,i;if(g=a(c)&&0===c.length,f=d?g||!c:c&&!g){if(b.length||(e.contextStack=b.contextStack,e.index=0,b.fragments[0]=b.createFragment(e),b.length=1),b.length>1)for(h=b.fragments.splice(1);i=h.pop();)i.teardown(!0)}else b.length&&(b.teardownFragments(!0),b.length=0)}return function(c,h){var i;return i={descriptor:c.descriptor.f,root:c.root,pNode:c.parentFragment.pNode,owner:c},c.descriptor.n?(g(c,h,!0,i),void 0):(a(h)?d(c,h,i):b(h)?c.descriptor.i?e(c,h,i):f(c,i):g(c,h,!1,i),void 0)}}(l,n,d),Vb=function(a,b,c){function d(b,c,g,h,i,j,k){var l,m,n,o;if(void 0===b.html){for(b.indexRefs&&void 0!==b.indexRefs[c]&&(b.indexRefs[c]=h),l=b.contextStack.length;l--;)n=b.contextStack[l],n.substr(0,j.length)===j&&(b.contextStack[l]=n.replace(j,k));for(l=b.items.length;l--;)switch(m=b.items[l],m.type){case a.ELEMENT:e(m,c,g,h,i,j,k);break;case a.PARTIAL:d(m.fragment,c,g,h,i,j,k);break;case a.COMPONENT:d(m.instance.fragment,c,g,h,i,j,k),(o=b.root._liveComponentQueries[m.name])&&o._makeDirty();break;case a.SECTION:case a.INTERPOLATOR:case a.TRIPLE:f(m,c,g,h,i,j,k)}}}function e(a,b,c,e,f,g,h){var i,j,k,l,m,n,o,p,q,r;for(i=a.attributes.length;i--;)j=a.attributes[i],j.fragment&&(d(j.fragment,b,c,e,f,g,h),j.twoway&&j.updateBindings());if(k=a.node._ractive){k.keypath.substr(0,g.length)===g&&(k.keypath=k.keypath.replace(g,h)),void 0!==b&&(k.index[b]=e);for(l in k.events)for(m=k.events[l].proxies,i=m.length;i--;)n=m[i],"object"==typeof n.n&&d(n.a,b,c,e,f,g,h),n.d&&d(n.d,b,c,e,f,g,h);(o=k.binding)&&o.keypath.substr(0,g.length)===g&&(p=k.root._twowayBindings[o.keypath],p.splice(p.indexOf(o),1),o.keypath=o.keypath.replace(g,h),p=k.root._twowayBindings[o.keypath]||(k.root._twowayBindings[o.keypath]=[]),p.push(o))}if(a.fragment&&d(a.fragment,b,c,e,f,g,h),q=a.liveQueries)for(r=a.root,i=q.length;i--;)r._liveQueries[q[i]]._makeDirty()}function f(a,b,e,f,g,h,i){var j;if(a.descriptor.x&&(a.expressionResolver&&a.expressionResolver.teardown(),a.expressionResolver=new c(a)),a.keypath?a.keypath.substr(0,h.length)===h&&a.resolve(a.keypath.replace(h,i)):a.indexRef===b&&(a.value=f,a.render(f)),a.fragments)for(j=a.fragments.length;j--;)d(a.fragments[j],b,e,f,g,h,i)}return d}(o,J,Pb),Wb=function(a,b,c){return function(a,d,e,f,g){var h,i,j,k,l,m,n;for(j=d.descriptor.i,h=e;f>h;h+=1)i=d.fragments[h],k=h-g,l=h,m=d.keypath+"."+(h-g),n=d.keypath+"."+h,i.index+=g,b(i,j,k,l,g,m,n);c(a)}}(o,Vb,s),Xb=function(a){return function(b,c){var d,e,f,g,h,i,j,k,l;if(e=c.balance){if(g=c.start,0>e){for(h=g-e,f=g;h>f;f+=1)b.fragments[f].teardown(!0);b.fragments.splice(g,-e)}else{for(l={descriptor:b.descriptor.f,root:b.root,pNode:b.parentFragment.pNode,owner:b},b.descriptor.i&&(l.indexRef=b.descriptor.i),i=g+c.removed,j=g+c.added,d=b.fragments[i]?b.fragments[i].firstNode():b.parentFragment.findNextNode(b),k=[i,0].concat(new Array(e)),b.fragments.splice.apply(b.fragments,k),f=i;j>f;f+=1)l.contextStack=b.contextStack.concat(b.keypath+"."+f),l.index=f,b.fragments[f]=b.createFragment(l);b.parentFragment.pNode.insertBefore(b.docFrag,d)}b.length+=e,a(b.root,b,g,b.length,e)}}}(Wb),Yb=function(a){return function(b){var c,d,e,f,g,h,i,j,k,l,m=this;if(c=this.parentFragment,h=[],b.forEach(function(b,c){var f,g,j;return b===c?(h[b]=m.fragments[c],void 0):(void 0===d&&(d=c),-1===b?((i||(i=[])).push(m.fragments[c]),void 0):(f=b-c,g=m.keypath+"."+c,j=m.keypath+"."+b,a(m.fragments[c],m.descriptor.i,c,b,f,g,j),h[b]=m.fragments[c],e=!0,void 0))}),i)for(;k=i.pop();)k.teardown(!0);if(void 0===d&&(d=this.length),g=this.root.get(this.keypath).length,g!==d){for(j={descriptor:this.descriptor.f,root:this.root,pNode:c.pNode,owner:this},this.descriptor.i&&(j.indexRef=this.descriptor.i),f=d;g>f;f+=1)(k=h[f])?this.docFrag.appendChild(k.detach(!1)):(j.contextStack=this.contextStack.concat(this.keypath+"."+f),j.index=f,k=this.createFragment(j)),this.fragments[f]=k;l=c.findNextNode(this),c.pNode.insertBefore(this.docFrag,l),this.length=g}}}(Vb),Zb=function(a,b,c,d,e,f,g,h,i,j){var k,l;return j.push(function(){l=j.DomFragment}),k=function(b,d){this.type=a.SECTION,this.inverted=!!b.descriptor.n,this.fragments=[],this.length=0,d&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,c(this,b),d&&d.appendChild(this.docFrag),this.initialising=!1},k.prototype={update:d,resolve:e,smartUpdate:function(a,b){this.rendering=!0,g(this,b),this.rendering=!1},merge:h,detach:function(){var a,b;if(this.docFrag){for(b=this.fragments.length,a=0;b>a;a+=1)this.docFrag.appendChild(this.fragments[a].detach());return this.docFrag}},teardown:function(a){this.teardownFragments(a),i(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(a){for(var b,c;c=this.fragments.shift();)c.teardown(a);if(this.fragmentsById)for(b in this.fragmentsById)this.fragments[b]&&(this.fragmentsById[b].teardown(a),this.fragmentsById[b]=null)},render:function(a){var c,d;(d=this.root._wrapped[this.keypath])&&(a=d.get()),this.rendering||(this.rendering=!0,f(this,a),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&b&&(c=this.parentFragment.findNextNode(this),c&&c.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,c):this.parentFragment.pNode.appendChild(this.docFrag)))},createFragment:function(a){var b=new l(a);return this.docFrag&&this.docFrag.appendChild(b.docFrag),b},toString:function(){var a,b,c,d;for(a="",b=0,d=this.length,b=0;d>b;b+=1)a+=this.fragments[b].toString();if(this.fragmentsById)for(c in this.fragmentsById)this.fragmentsById[c]&&(a+=this.fragmentsById[c].toString());return a},find:function(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null},findAll:function(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)},findComponent:function(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null},findAllComponents:function(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}},k}(o,g,Qb,Sb,Rb,Ub,Xb,Yb,Gb,_),$b=function(a,b,c,d,e,f,g){var h=function(b,d){this.type=a.TRIPLE,d&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,c(this,b),d&&d.appendChild(this.docFrag),this.initialising=!1};return h.prototype={update:d,resolve:e,detach:function(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}},teardown:function(a){a&&(this.detach(),this.docFrag=this.nodes=null),g(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(a){var b,c;if(this.nodes){for(;this.nodes.length;)b=this.nodes.pop(),b.parentNode.removeChild(b);if(!a)return this.nodes=[],void 0;c=this.parentFragment.pNode,this.nodes=f(a,c.tagName,this.docFrag),this.initialising||c.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),"SELECT"===c.tagName&&c._ractive&&c._ractive.binding&&c._ractive.binding.update()}},toString:function(){return void 0!=this.value?this.value:""},find:function(a){var c,d,e,f;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType){if(b(e,a))return e;if(f=e.querySelector(a))return f}return null},findAll:function(a,c){var d,e,f,g,h,i;for(e=this.nodes.length,d=0;e>d;d+=1)if(f=this.nodes[d],1===f.nodeType&&(b(f,a)&&c.push(f),g=f.querySelectorAll(a)))for(h=g.length,i=0;h>i;i+=1)c.push(g[i])}},h}(o,ob,Qb,Sb,Rb,Db,Gb),_b=function(a){return function(b,c){return b.a&&b.a.xmlns?b.a.xmlns:"svg"===b.e?a.svg:c.namespaceURI||a.html}}(e),ac=function(){var a,b,c,d;return a="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),b="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),c=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},d=c(a.concat(b)),function(a){var b=a.toLowerCase();return d[b]||b}}(),bc=function(a,b){return function(c,d){var e,f;if(e=d.indexOf(":"),-1===e||(f=d.substr(0,e),"xmlns"===f))c.name=c.element.namespace!==a.html?b(d):d,c.lcName=c.name.toLowerCase();else if(d=d.substring(e+1),c.name=b(d),c.lcName=c.name.toLowerCase(),c.namespace=a[f.toLowerCase()],!c.namespace)throw'Unknown namespace ("'+f+'")'}}(e,ac),cc=function(a){return function(b,c){var d,e=null===c.value?"":c.value;(d=c.pNode)&&(b.namespace?d.setAttributeNS(b.namespace,c.name,e):"style"===c.name&&d.style.setAttribute?d.style.setAttribute("cssText",e):"class"!==c.name||d.namespaceURI&&d.namespaceURI!==a.html?d.setAttribute(c.name,e):d.className=e,"id"===b.name&&(c.root.nodes[c.value]=d),"value"===b.name&&(d._ractive.value=c.value)),b.value=c.value}}(e),dc=function(a){var b={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(c,d){var e;!c.pNode||c.namespace||d.pNode.namespaceURI&&d.pNode.namespaceURI!==a.html||(e=b[c.name]||c.name,void 0!==d.pNode[e]&&(c.propertyName=e),("boolean"==typeof d.pNode[e]||"value"===e)&&(c.useProperty=!0))}}(e),ec=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;return e=function(){var a,b,c,d=this.pNode;return this.fragment?(a=f(this))?(this.interpolator=a,this.keypath=a.keypath||a.descriptor.r,(b=i(this))?(d._ractive.binding=this.element.binding=b,this.twoway=!0,c=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),c.push(b),!0):!1):!1:!1},g=function(){this._ractive.binding.update()},h=function(){var a=this._ractive.root.get(this._ractive.binding.keypath);this.value=void 0==a?"":a},f=function(c){var d,e;return 1!==c.fragment.items.length?null:(d=c.fragment.items[0],d.type!==a.INTERPOLATOR?null:d.keypath||d.ref?d.keypath&&"${"===d.keypath.substr(0,2)?(e="You cannot set up two-way binding against an expression "+d.keypath,c.root.debug&&b(e),null):d:null)},i=function(a){var c=a.pNode;if("SELECT"===c.tagName)return c.multiple?new k(a,c):new l(a,c);if("checkbox"===c.type||"radio"===c.type){if("name"===a.propertyName){if("checkbox"===c.type)return new n(a,c);if("radio"===c.type)return new m(a,c)}return"checked"===a.propertyName?new o(a,c):null}return"value"!==a.lcName&&b("This is... odd"),"file"===c.type?new p(a,c):c.getAttribute("contenteditable")?new q(a,c):new r(a,c)},k=function(a,b){var c;j(this,a,b),b.addEventListener("change",g,!1),c=this.root.get(this.keypath),void 0===c&&this.update()},k.prototype={value:function(){var a,b,c,d,e,f;for(a=[],b=this.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},update:function(){var a,b,d;return a=this.attr,b=a.value,d=this.value(),void 0!==b&&c(d,b)||(a.receiving=!0,a.value=d,this.root.set(this.keypath,d),a.receiving=!1),this},deferUpdate:function(){this.deferred!==!0&&(this.root._deferred.attrs.push(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",g,!1)}},l=function(a,b){var c;j(this,a,b),b.addEventListener("change",g,!1),c=this.root.get(this.keypath),void 0===c&&this.update()},l.prototype={value:function(){var a,b,c,d,e;for(a=this.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},update:function(){var a=this.value();return this.attr.receiving=!0,this.attr.value=a,this.root.set(this.keypath,a),this.attr.receiving=!1,this},deferUpdate:function(){this.deferred!==!0&&(this.root._deferred.attrs.push(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",g,!1)}},m=function(a,b){var c;this.radioName=!0,j(this,a,b),b.name="{{"+a.keypath+"}}",b.addEventListener("change",g,!1),b.attachEvent&&b.addEventListener("click",g,!1),c=this.root.get(this.keypath),void 0!==c?b.checked=c==b._ractive.value:this.root._deferred.radios.push(this)},m.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var a=this.node;a.checked&&(this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1)},teardown:function(){this.node.removeEventListener("change",g,!1),this.node.removeEventListener("click",g,!1)}},n=function(a,b){var c,d;this.checkboxName=!0,j(this,a,b),b.name="{{"+this.keypath+"}}",b.addEventListener("change",g,!1),b.attachEvent&&b.addEventListener("click",g,!1),c=this.root.get(this.keypath),void 0!==c?(d=-1!==c.indexOf(b._ractive.value),b.checked=d):-1===this.root._deferred.checkboxes.indexOf(this.keypath)&&this.root._deferred.checkboxes.push(this.keypath)},n.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,this.attr.receiving=!0,this.root.set(this.keypath,d(this.root,this.keypath)),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",g,!1),this.node.removeEventListener("click",g,!1)}},o=function(a,b){j(this,a,b),b.addEventListener("change",g,!1),b.attachEvent&&b.addEventListener("click",g,!1)},o.prototype={value:function(){return this.node.checked},update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",g,!1),this.node.removeEventListener("click",g,!1)}},p=function(a,b){j(this,a,b),b.addEventListener("change",g,!1)},p.prototype={value:function(){return this.attr.pNode.files},update:function(){this.attr.root.set(this.attr.keypath,this.value())},teardown:function(){this.node.removeEventListener("change",g,!1)}},q=function(a,b){j(this,a,b),b.addEventListener("change",g,!1),this.root.lazy||(b.addEventListener("input",g,!1),b.attachEvent&&b.addEventListener("keyup",g,!1))},q.prototype={update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.node.innerHTML),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",g,!1),this.node.removeEventListener("input",g,!1),this.node.removeEventListener("keyup",g,!1)}},r=function(a,b){j(this,a,b),b.addEventListener("change",g,!1),this.root.lazy||(b.addEventListener("input",g,!1),b.attachEvent&&b.addEventListener("keyup",g,!1)),this.node.addEventListener("blur",h,!1)},r.prototype={value:function(){var a=this.attr.pNode.value;return+a+""===a&&-1===a.indexOf("e")&&(a=+a),a},update:function(){var a=this.attr,b=this.value();a.receiving=!0,a.root.set(a.keypath,b),a.receiving=!1},teardown:function(){this.node.removeEventListener("change",g,!1),this.node.removeEventListener("input",g,!1),this.node.removeEventListener("keyup",g,!1),this.node.removeEventListener("blur",h,!1)}},j=function(a,b,c){a.attr=b,a.node=c,a.root=b.root,a.keypath=b.keypath},e}(o,v,V,r),fc=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;return c=function(){var a;if(!this.ready)return this;if(a=this.pNode,"SELECT"===a.tagName&&"value"===this.lcName)return this.update=e,this.deferredUpdate=f,this.update();if(this.isFileInputValue)return this.update=d,this;if(this.twoway&&"name"===this.lcName){if("radio"===a.type)return this.update=i,this.update();if("checkbox"===a.type)return this.update=j,this.update()}return"style"===this.lcName&&a.style.setAttribute?(this.update=k,this.update()):"class"!==this.lcName||a.namespaceURI&&a.namespaceURI!==b.html?a.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=m,this.update()):(this.update=n,this.update()):(this.update=l,this.update())},d=function(){return this},f=function(){this.deferredUpdate=this.pNode.multiple?h:g,this.deferredUpdate()},e=function(){return this.root._deferred.selectValues.push(this),this},g=function(){var a,b,c,d,e=this.fragment.getValue();for(this.value=this.pNode._ractive.value=e,a=this.pNode.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e)return b.selected=!0,this;return this},h=function(){var b,c,d,e,f=this.fragment.getValue();for(a(f)||(f=[f]),b=this.pNode.options,c=b.length;c--;)d=b[c],e=d._ractive?d._ractive.value:d.value,d.selected=-1!==f.indexOf(e);return this.value=f,this},i=function(){var a,b;return a=this.pNode,b=this.fragment.getValue(),a.checked=b==a._ractive.value,this},j=function(){var b,c;return b=this.pNode,c=this.fragment.getValue(),a(c)?(b.checked=-1!==c.indexOf(b._ractive.value),this):(b.checked=c==b._ractive.value,this)},k=function(){var a,b;return a=this.pNode,b=this.fragment.getValue(),void 0===b&&(b=""),b!==this.value&&(a.style.setAttribute("cssText",b),this.value=b),this},l=function(){var a,b;return a=this.pNode,b=this.fragment.getValue(),void 0===b&&(b=""),b!==this.value&&(a.className=b,this.value=b),this},m=function(){var a,b;return a=this.pNode,b=this.fragment.getValue(),void 0===b&&(b=""),b!==this.value&&(this.receiving||(a.innerHTML=b),this.value=b),this},n=function(){var a,b;if(a=this.pNode,b=this.fragment.getValue(),this.isValueAttribute&&(a._ractive.value=b),void 0==b&&(b=""),b!==this.value){if(this.useProperty)return this.receiving||(a[this.propertyName]=b),this.value=b,this;if(this.namespace)return a.setAttributeNS(this.namespace,this.name,b),this.value=b,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[b]=a),a.setAttribute(this.name,b),this.value=b}return this},c}(l,e),gc=function(){return function(a){var b;return b=this.str.substr(this.pos,a.length),b===a?(this.pos+=a.length,a):null}}(),hc=function(){var a=/^\s+/;return function(){var b=a.exec(this.remaining());return b?(this.pos+=b[0].length,b[0]):null}}(),ic=function(){return function(a){return function(b){var c=a.exec(b.str.substring(b.pos));return c?(b.pos+=c[0].length,c[1]||c[0]):null}}}(),jc=function(a){var b,c,d;return b=a(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/),c=a(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/),d=a(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/),function(a,e){return function(a){var f,g,h,i;for(f=a.pos,g='"',h=!1;!h;)i=b(a)||c(a)||a.getStringMatch(e),i?g+='"'===i?'\\"':"\\'"===i?"'":i:(i=d(a),i?g+="\\u"+("000"+i.charCodeAt(1).toString(16)).slice(-4):h=!0);return g+='"',JSON.parse(g)}}}(ic),kc=function(a){return a("'",'"')}(jc),lc=function(a){return a('"',"'")}(jc),mc=function(a,b,c){return function(d){var e,f;return e=d.pos,d.getStringMatch('"')?(f=c(d),d.getStringMatch('"')?{t:a.STRING_LITERAL,v:f}:(d.pos=e,null)):d.getStringMatch("'")?(f=b(d),d.getStringMatch("'")?{t:a.STRING_LITERAL,v:f}:(d.pos=e,null)):null}}(o,kc,lc),nc=function(a,b){var c=b(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(b){var d;return(d=c(b))?{t:a.NUMBER_LITERAL,v:d}:null}}(o,ic),oc=function(a){return a(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(ic),pc=function(a,b,c){var d=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(e){var f;return(f=a(e))?d.test(f.v)?f.v:'"'+f.v.replace(/"/g,'\\"')+'"':(f=b(e))?f.v:(f=c(e))?f:void 0}}(mc,nc,oc),qc=function(a,b,c,d){function e(a){var b,c,e;return a.allowWhitespace(),(b=d(a))?(e={key:b},a.allowWhitespace(),a.getStringMatch(":")?(a.allowWhitespace(),(c=a.getToken())?(e.value=c.v,e):null):null):null}var f,g,h,i,j,k;return g={"true":!0,"false":!1,undefined:void 0,"null":null},h=new RegExp("^(?:"+Object.keys(g).join("|")+")"),i=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,j=/\$\{([^\}]+)\}/g,k=/^\$\{([^\}]+)\}/,f=function(a,b){this.str=a,this.values=b,this.pos=0,this.result=this.getToken()},f.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:a,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var a;return this.values?(a=k.exec(this.remaining()))&&this.values.hasOwnProperty(a[1])?(this.pos+=a[0].length,{v:this.values[a[1]]}):void 0:null},getSpecial:function(){var a;return(a=h.exec(this.remaining()))?(this.pos+=a[0].length,{v:g[a[0]]}):void 0},getNumber:function(){var a;return(a=i.exec(this.remaining()))?(this.pos+=a[0].length,{v:+a[0]}):void 0},getString:function(){var a,b=c(this);return b&&(a=this.values)?{v:b.v.replace(j,function(b,c){return a[c]||c})}:b},getObject:function(){var a,b;if(!this.getStringMatch("{"))return null;for(a={};b=e(this);){if(a[b.key]=b.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:a};if(!this.getStringMatch(","))return null}return null},getArray:function(){var a,b;if(!this.getStringMatch("["))return null;for(a=[];b=this.getToken();){if(a.push(b.v),this.getStringMatch("]"))return{v:a};if(!this.getStringMatch(","))return null}return null},allowWhitespace:b},function(a,b){var c=new f(a,b);return c.result?{value:c.result.v,remaining:c.remaining()}:null}}(gc,hc,mc,pc),rc=function(a,b,c,d,e){function f(a){return"string"==typeof a?a:JSON.stringify(a)}var g=function(b){this.type=a.INTERPOLATOR,c(this,b)};return g.prototype={update:d,resolve:e,render:function(a){this.value=a,this.parentFragment.bubble()},teardown:function(){b(this)},toString:function(){return void 0==this.value?"":f(this.value)}},g}(o,Gb,Qb,Sb,Rb),sc=function(a,b,c,d,e,f,g){var h,i;return g.push(function(){i=g.StringFragment}),h=function(c){this.type=a.SECTION,this.fragments=[],this.length=0,b(this,c)},h.prototype={update:c,resolve:d,teardown:function(){this.teardownFragments(),f(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(a){var b;(b=this.root._wrapped[this.keypath])&&(a=b.get()),e(this,a),this.parentFragment.bubble()},createFragment:function(a){return new i(a)},toString:function(){return this.fragments.join("")}},h}(o,Qb,Sb,Rb,Ub,Gb,_),tc=function(a){var b=function(b){this.type=a.TEXT,this.text=b};return b.prototype={toString:function(){return this.text},teardown:function(){}},b}(o),uc=function(a,b){return function(){var c,d,e,f,g,h,i;if(!this.argsList||this.dirty){if(c={},d=0,f=this.root._guid,i=function(a){return a.map(function(a){var b,e,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return i(a.items)}).join(""):(b=f+"-"+d++,g=(e=a.root._wrapped[a.keypath])?e.value:a.value,c[b]=g,"${"+b+"}")}).join("")},e=i(this.items),h=b("["+e+"]",c))this.argsList=h.value;else{if(g="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(g);a(g),this.argsList=[e]}this.dirty=!1}return this.argsList}}(v,qc),vc=function(a,b,c,d,e,f,g,h){var i=function(a){c(this,a)};return i.prototype={createItem:function(b){if("string"==typeof b.descriptor)return new f(b.descriptor);switch(b.descriptor.t){case a.INTERPOLATOR:return new d(b);case a.TRIPLE:return new d(b);case a.SECTION:return new e(b);default:throw"Something went wrong in a rather interesting way"
}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var a,b;for(a=this.items.length,b=0;a>b;b+=1)this.items[b].teardown()},getValue:function(){var b;return 1===this.items.length&&this.items[0].type===a.INTERPOLATOR&&(b=this.items[0].value,void 0!==b)?b:this.toString()},isSimple:function(){var b,c,d;if(void 0!==this.simple)return this.simple;for(b=this.items.length;b--;)if(c=this.items[b],c.type!==a.TEXT){if(c.type!==a.INTERPOLATOR)return this.simple=!1;if(d)return!1;d=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var a,c=this.getValue();return"string"==typeof c&&(a=b(c),c=a?a.value:c),c},toArgsList:g},h.StringFragment=i,i}(o,qc,Cb,rc,sc,tc,uc,_),wc=function(a,b,c,d,e,f,g){var h=function(e){return this.type=a.ATTRIBUTE,this.element=e.element,b(this,e.name),null===e.value||"string"==typeof e.value?(c(this,e),void 0):(this.root=e.root,this.pNode=e.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new g({descriptor:e.value,root:this.root,owner:this,contextStack:e.contextStack}),this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),d(this,e),this.selfUpdating=this.fragment.isSimple(),this.ready=!0),void 0)};return h.prototype={bind:e,update:f,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},teardown:function(){var a;if(this.boundEvents)for(a=this.boundEvents.length;a--;)this.pNode.removeEventListener(this.boundEvents[a],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},toString:function(){var a;return null===this.value?this.name:this.fragment?(a=this.fragment.toString(),this.name+"="+JSON.stringify(a)):this.name+"="+JSON.stringify(this.value)}},h}(o,bc,cc,dc,ec,fc,vc),xc=function(a){return function(b,c){var d,e,f;b.attributes=[];for(d in c)c.hasOwnProperty(d)&&(e=c[d],f=new a({element:b,name:d,value:e,root:b.root,pNode:b.node,contextStack:b.parentFragment.contextStack}),b.attributes.push(b.attributes[d]=f),"name"!==d&&f.update());return b.attributes}}(wc),yc=function(a,b,c,d){var e,f,g;return d.push(function(){e=d.DomFragment}),f=function(){var a=this.node,b=this.fragment.toString();a.styleSheet&&(a.styleSheet.cssText=b),a.innerHTML=b},g=function(){this.node.type&&"text/javascript"!==this.node.type||a("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString()},function(a,d,h,i){var j,k,l,m,n;if("script"===a.lcName||"style"===a.lcName)return a.fragment=new c({descriptor:h.f,root:a.root,contextStack:a.parentFragment.contextStack,owner:a}),i&&("script"===a.lcName?(a.bubble=g,a.node.text=a.fragment.toString()):(a.bubble=f,a.bubble())),void 0;if("string"!=typeof h.f||d&&d.namespaceURI&&d.namespaceURI!==b.html)a.fragment=new e({descriptor:h.f,root:a.root,pNode:d,contextStack:a.parentFragment.contextStack,owner:a}),i&&d.appendChild(a.fragment.docFrag);else if(a.html=h.f,i)for(d.innerHTML=a.html,j=a.root._liveQueries,k=j.length;k--;)if(l=j[k],(m=d.querySelectorAll(l))&&(n=m.length))for((a.liveQueries||(a.liveQueries=[])).push(l),a.liveQueries[l]=[];n--;)a.liveQueries[l][n]=m[n]}}(v,e,vc,_),zc=function(a,b){var c=function(c,d,e,f){var g,h,i;if(this.root=d,this.node=e.node,g=c.n||c,"string"!=typeof g&&(h=new b({descriptor:g,root:this.root,owner:e,contextStack:f}),g=h.toString(),h.teardown()),c.a?this.params=c.a:c.d&&(h=new b({descriptor:c.d,root:this.root,owner:e,contextStack:f}),this.params=h.toArgsList(),h.teardown()),this.fn=d.decorators[g],!this.fn){if(i='Missing "'+g+'" decorator. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#decorators',d.debug)throw new Error(i);a(i)}};return c.prototype={init:function(){var a,b;if(this.params?(b=[this.node].concat(this.params),a=this.fn.apply(this.root,b)):a=this.fn.call(this.root,this.node),!a||!a.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.teardown=a.teardown}},c}(v,vc),Ac=function(a){return function(b,c,d,e){d.decorator=new a(b,c,d,e),d.decorator.fn&&c._deferred.decorators.push(d.decorator)}}(zc),Bc=function(a,b){var c,d,e,f,g,h,i,j,k;return c=function(a,b,c,e,f){var g,h;g=a.node._ractive.events,h=g[b]||(g[b]=new d(a,b,e,f)),h.add(c)},d=function(b,c,d){var e;this.element=b,this.root=b.root,this.node=b.node,this.name=c,this.contextStack=d,this.proxies=[],(e=this.root.events[c])?this.custom=e(this.node,k(c)):("on"+c in this.node||a('Missing "'+this.name+'" event. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#events'),this.node.addEventListener(c,j,!1))},d.prototype={add:function(a){this.proxies.push(new e(this.element,this.root,a,this.contextStack))},teardown:function(){var a;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,j,!1),a=this.proxies.length;a--;)this.proxies[a].teardown()},fire:function(a){for(var b=this.proxies.length;b--;)this.proxies[b].fire(a)}},e=function(a,c,d,e){var i;return this.root=c,i=d.n||d,this.n="string"==typeof i?i:new b({descriptor:d.n,root:this.root,owner:a,contextStack:e}),d.a?(this.a=d.a,this.fire=g,void 0):d.d?(this.d=new b({descriptor:d.d,root:this.root,owner:a,contextStack:e}),this.fire=h,void 0):(this.fire=f,void 0)},e.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},f=function(a){this.root.fire(this.n.toString(),a)},g=function(a){this.root.fire.apply(this.root,[this.n.toString(),a].concat(this.a))},h=function(a){var b=this.d.toArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),this.root.fire.apply(this.root,[this.n.toString(),a].concat(b))},j=function(a){var b=this._ractive;b.events[a.type].fire({node:this,original:a,index:b.index,keypath:b.keypath,context:b.root.get(b.keypath)})},i={},k=function(a){return i[a]?i[a]:i[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}},c}(v,vc),Cc=function(a){return function(b,c){var d,e,f;for(e in c)if(c.hasOwnProperty(e))for(f=e.split("-"),d=f.length;d--;)a(b,f[d],c[e],b.parentFragment.contextStack)}}(Bc),Dc=function(){return function(a){var b,c,d,e,f;for(b=a.root,c=b._liveQueries,d=c.length;d--;)e=c[d],f=c[e],f._test(a)&&((a.liveQueries||(a.liveQueries=[])).push(e),a.liveQueries[e]=[a.node])}}(),Ec=function(){return function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))}}(),Fc=function(){var a,b,c;if("undefined"!=typeof window&&(a=window,b=a.document,c={},b))return Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),a.addEventListener||!function(a,b){var c,d,e,f,g,h;c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(Element.prototype.addEventListener=d,Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(a,b),a.getComputedStyle||(c.getComputedStyle=function(){function a(b,c,d,e){var f,g=c[d],h=parseFloat(g),i=g.split(/\d/)[0];return e=null!=e?e:/%|em/.test(i)&&b.parentElement?a(b.parentElement,b.parentElement.currentStyle,"fontSize",null):16,f="fontSize"==d?e:/width/i.test(d)?b.clientWidth:b.clientHeight,"em"==i?h*e:"in"==i?96*h:"pt"==i?96*h/72:"%"==i?h/100*f:h}function b(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function c(c){var d,e,f,g;d=c.currentStyle,e=this,f=a(c,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)&&"auto"!==e[g]?e[g]=a(c,d,g,f)+"px":"styleFloat"===g?e.float=d[g]:e[g]=d[g];return b(e,"margin"),b(e,"padding"),b(e,"border"),e.fontSize=f+"px",e}function d(a){return new c(a)}return c.prototype={constructor:c,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},d}()),c}(),Gc=function(a,b,c){var d,e;if(a)return d={},e=c("div").style,function(a){var c,f,g;if(!d[a])if(void 0!==e[a])d[a]=a;else for(g=a.charAt(0).toUpperCase()+a.substring(1),c=b.length;c--;)if(f=b[c],void 0!==e[f+g]){d[a]=f+g;break}return d[a]}}(g,X,f),Hc=function(a,b,c,d){var e;if(b)return e=window.getComputedStyle||a.getComputedStyle,function(a){var b,e,f,g,h;if(b=window.getComputedStyle(this.node),"string"==typeof a)return h=b[d(a)],"0px"===h&&(h=0),h;if(!c(a))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(e={},f=a.length;f--;)g=a[f],h=b[d(g)],"0px"===h&&(h=0),e[g]=h;return e}}(Fc,g,l,Gc),Ic=function(a){return function(b,c){var d;if("string"==typeof b)this.node.style[a(b)]=c;else for(d in b)b.hasOwnProperty(d)&&(this.node.style[a(d)]=b[d]);return this}}(Gc),Jc=function(){function a(a){setTimeout(a,0)}function b(a,b){return function(){for(var c;c=a.shift();)c(b)}}function c(a,b,e,f){var g;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof d)b.then(e,f);else if(!b||"object"!=typeof b&&"function"!=typeof b)e(b);else{try{g=b.then}catch(h){return f(h),void 0}if("function"==typeof g){var i,j,k;j=function(b){i||(i=!0,c(a,b,e,f))},k=function(a){i||(i=!0,f(a))};try{g.call(b,j,k)}catch(h){if(!i)return f(h),i=!0,void 0}}else e(b)}}var d,e={},f={},g={};return d=function(h){var i,j,k,l,m,n=[],o=[],p=e;return k=function(c){return function(d){p===e&&(i=d,p=c,j=b(p===f?n:o,i),a(j))}},l=k(f),m=k(g),h(l,m),{then:function(b,f){var g=new d(function(d,h){var i=function(a,b,e){"function"==typeof a?b.push(function(b){var e;try{e=a(b),c(g,e,d,h)}catch(f){h(f)}}):b.push(e)};i(b,n,d),i(f,o,h),p!==e&&a(j)});return g}}},d.all=function(a){return new d(function(b,c){var d,e,f,g=[];for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},d}(),Kc=function(a){var b=new RegExp("^-(?:"+a.join("|")+")-");return function(a){return a.replace(b,"")}}(X),Lc=function(){return function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})}}(),Mc=function(a,b,c){function d(a){return a}var e=function(e){var f;this.duration=e.duration,this.step=e.step,this.complete=e.complete,"string"==typeof e.easing?(f=e.root.easing[e.easing],f||(a('Missing easing function ("'+e.easing+'"). You may need to download a plugin from [TODO]'),f=d)):f="function"==typeof e.easing?e.easing:d,this.easing=f,this.start=b(),this.end=this.start+this.duration,this.running=!0,c.add(this)};return e.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},e}(v,Z,$),Nc=function(a){var b=new RegExp("^(?:"+a.join("|")+")([A-Z])");return function(a){var c;return a?(b.test(a)&&(a="-"+a),c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""}}(X),Oc=function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r={},s={};if(a)return k=d("div").style,function(){void 0!==k.transition?(l="transition",m="transitionend",n=!0):void 0!==k.webkitTransition?(l="webkitTransition",m="webkitTransitionEnd",n=!0):n=!1}(),l&&(o=l+"Duration",p=l+"Property",q=l+"TimingFunction"),function(a,c,d,k,l,n){setTimeout(function(){var t,u,v,w;w=function(){u&&v&&n()},t=a.node.namespaceURI+a.node.tagName,a.node.style[p]=k.map(h).map(j).join(","),a.node.style[q]=j(d.easing||"linear"),a.node.style[o]=d.duration/1e3+"s",l=function(b){var c;c=k.indexOf(e(i(b.propertyName))),-1!==c&&k.splice(c,1),k.length||(a.root.fire(a.name+":end"),a.node.removeEventListener(m,l,!1),v=!0,w())},a.node.addEventListener(m,l,!1),setTimeout(function(){for(var i,j,n,o,p=k.length,q=[];p--;)o=k[p],i=t+o,r[i]?a.node.style[h(o)]=c[o]:j=a.getStyle(o),void 0===r[i]&&(a.node.style[h(o)]=c[o],r[i]=a.getStyle(o)!=c[o],s[i]=!r[i]),s[i]&&(n=k.indexOf(o),-1===n?b("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):k.splice(n,1),a.node.style[h(o)]=j,q.push({name:h(o),interpolator:f(j,c[o])}));q.length?new g({root:a.root,duration:d.duration,easing:e(d.easing),step:function(b){var c,d;for(d=q.length;d--;)c=q[d],a.node.style[c.name]=c.interpolator(b)},complete:function(){u=!0,w()}}):u=!0,k.length||(a.node.removeEventListener(m,l,!1),v=!0,w())},0)},d.delay||0)}}(g,v,Jc,f,Lc,cb,Mc,Gc,Kc,Nc),Pc=function(a,b,c,d,e,f,g){var h;if(b)return h=window.getComputedStyle||a.getComputedStyle,function(a,b,f,h){var i,j=this;"string"==typeof a?(i={},i[a]=b):(i=a,h=f,f=b),f||(c('The "'+j.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),f=j,h=j.complete);var k=new d(function(a){var b,c,d,h,k,l,m,n;if(!f.duration)return j.setStyle(i),a(),void 0;for(b=Object.keys(i),c=[],d=window.getComputedStyle(j.node),k={},m=b.length;m--;)n=b[m],h=d[e(n)],"0px"===h&&(h=0),h!=i[n]&&(c.push(n),j.node.style[e(n)]=h);return c.length?(g(j,i,f,c,l,a),void 0):(a(),void 0)});return h&&(c("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),k.then(h)),k}}(Fc,g,v,Jc,Gc,Kc,Oc),Qc=function(){return function(a,b){var c;for(c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c]);return a}}(),Rc=function(a){return function(b,c){return"number"==typeof b?b={duration:b}:"string"==typeof b?b="slow"===b?{duration:600}:"fast"===b?{duration:200}:{duration:400}:b||(b={}),a(b,c)}}(Qc),Sc=function(){return function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))}}(),Tc=function(a,b,c,d,e,f,g,h){var i;return i=function(c,d,e,f,g){var h,i,j,k=this;if(this.root=d,this.node=e.node,this.isIntro=g,this.originalStyle=this.node.getAttribute("style"),this.complete=function(a){!a&&k.isIntro&&k.resetStyle(),k.node._ractive.transition=null,k._manager.pop(k.node)},h=c.n||c,"string"!=typeof h&&(i=new b({descriptor:h,root:this.root,owner:e,contextStack:f}),h=i.toString(),i.teardown()),this.name=h,c.a?this.params=c.a:c.d&&(i=new b({descriptor:c.d,root:this.root,owner:e,contextStack:f}),this.params=i.toArgsList(),i.teardown()),this._fn=d.transitions[h],!this._fn){if(j='Missing "'+h+'" transition. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#transitions',d.debug)throw new Error(j);return a(j),void 0}},i.prototype={init:c,getStyle:d,setStyle:e,animateStyle:f,processParams:g,resetStyle:h},i}(v,vc,Ec,Hc,Ic,Pc,Rc,Sc),Uc=function(a,b,c){return function(b,d,e,f,g){var h,i,j,k,l;if(d.transitionsEnabled&&(!d._parent||d._parent.transitionsEnabled)&&(h=new c(b,d,e,f,g),h._fn)){i=h.node,j=d;do k=j._transitionManager,j=j._parent;while(!k);h._manager=k,(l=i._ractive.transition)&&l.complete(),i._ractive.transition=h,h._manager.push(i),g?a.push(h):h.init()}}}(t,v,Tc),Vc=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return function(e,p,q){var r,s,t,u,v,w,x,y,z,A,B,C,D;if(e.type=a.ELEMENT,r=e.parentFragment=p.parentFragment,s=r.pNode,t=r.contextStack,u=e.descriptor=p.descriptor,e.root=B=r.root,e.index=p.index,e.lcName=u.e.toLowerCase(),e.eventListeners=[],e.customEventListeners=[],s&&(v=e.namespace=h(u,s),w=v!==b.html?o(u.e):u.e,e.node=g(w,v),d(e.node,"_ractive",{value:{proxy:e,keypath:t.length?t[t.length-1]:"",index:r.indexRefs,events:c(null),root:B}})),x=i(e,u.a),u.f){if(e.node&&e.node.getAttribute("contenteditable")&&e.node.innerHTML){if(D="A pre-populated contenteditable element should not have children",B.debug)throw new Error(D);f(D)}j(e,e.node,u,q)}q&&u.v&&l(e,u.v),q&&(B.twoway&&(e.bind(),e.node.getAttribute("contenteditable")&&e.node._ractive.binding&&e.node._ractive.binding.update()),x.name&&!x.name.twoway&&x.name.update(),"IMG"===e.node.tagName&&((y=e.attributes.width)||(z=e.attributes.height))&&e.node.addEventListener("load",A=function(){y&&(e.node.width=y.value),z&&(e.node.height=z.value),e.node.removeEventListener("load",A,!1)},!1),q.appendChild(e.node),u.o&&k(u.o,B,e,t),u.t1&&n(u.t1,B,e,t,!0),"OPTION"===e.node.tagName&&("SELECT"===s.tagName&&(C=s._ractive.binding)&&C.deferUpdate(),e.node._ractive.value==s._ractive.value&&(e.node.selected=!0)),e.node.autofocus&&(B._deferred.focusable=e.node)),m(e)}}(o,e,d,h,ob,v,f,_b,xc,yc,Ac,Cc,Dc,Uc,ac),Wc=function(a){return function(b){var c,d,e,f,g,h,i,j,k;for(this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(c in this.node._ractive.events)this.node._ractive.events[c].teardown();(d=this.node._ractive.binding)&&(d.teardown(),e=this.root._twowayBindings[d.attr.keypath],e.splice(e.indexOf(d),1))}if(this.decorator&&this.decorator.teardown(),this.descriptor.t2&&a(this.descriptor.t2,this.root,this,this.parentFragment.contextStack,!1),b&&this.root._transitionManager.detachWhenReady(this),g=this.liveQueries)for(f=g.length;f--;)if(h=g[f],j=this.liveQueries[h])for(k=j.length,i=this.root._liveQueries[h];k--;)i._remove(j[k])}}(Uc),Xc=function(){return"area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" ")}(),Yc=function(a){return function(){var b,c,d;for(b="<"+(this.descriptor.y?"!doctype":this.descriptor.e),d=this.attributes.length,c=0;d>c;c+=1)b+=" "+this.attributes[c].toString();return b+=">",this.html?b+=this.html:this.fragment&&(b+=this.fragment.toString()),-1===a.indexOf(this.descriptor.e)&&(b+="</"+this.descriptor.e+">"),b}}(Xc),Zc=function(a){return function(b){var c;return a(this.node,b)?this.node:this.html&&(c=this.node.querySelector(b))?c:this.fragment&&this.fragment.find?this.fragment.find(b):void 0}}(ob),$c=function(){return function(a,b){var c,d,e,f,g;if(b._test(this,!0)&&b.live&&((this.liveQueries||(this.liveQueries=[])).push(a),this.liveQueries[a]=[this.node]),this.html&&(c=this.node.querySelectorAll(a))&&(e=c.length))for(b.live&&(this.liveQueries[a]||((this.liveQueries||(this.liveQueries=[])).push(a),this.liveQueries[a]=[]),g=this.liveQueries[a]),d=0;e>d;d+=1)f=c[d],b.push(f),b.live&&g.push(f);this.fragment&&this.fragment.findAll(a,b)}}(),_c=function(){return function(a){return this.fragment?this.fragment.findComponent(a):void 0}}(),ad=function(){return function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)}}(),bd=function(){return function(){var a=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&a.value&&a.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return a.value&&a.value.bind(),void 0;case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(a.name&&a.name.bind())return;if(a.checked&&a.checked.bind())return}if(a.value&&a.value.bind())return}}}(),cd=function(a,b,c,d,e,f,g,h){var i=function(b,c){a(this,b,c)};return i.prototype={detach:function(){return this.node?(this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node):void 0},teardown:b,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:c,find:d,findAll:e,findComponent:f,findAllComponents:g,bind:h},i}(Vc,Wc,Yc,Zc,$c,_c,ad,bd),dd={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},ed={},fd=function(){return function(a){var b,c,d;for(d="";a.length;){if(b=a.indexOf("<!--"),c=a.indexOf("-->"),-1===b&&-1===c){d+=a;break}if(-1!==b&&-1===c)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==c&&-1===b||b>c)throw"Illegal HTML - unexpected closing comment sequence ('-->')";d+=a.substr(0,b),a=a.substring(c+3)}return d}}(),gd=function(a){return function(b){var c,d,e,f,g,h;for(g=/^\s*\r?\n/,h=/\r?\n\s*$/,c=2;c<b.length;c+=1)d=b[c],e=b[c-1],f=b[c-2],d.type===a.TEXT&&e.type===a.MUSTACHE&&e.mustacheType!==a.PARTIAL&&f.type===a.TEXT&&h.test(f.value)&&g.test(d.value)&&(e.mustacheType!==a.INTERPOLATOR&&e.mustacheType!==a.TRIPLE&&(f.value=f.value.replace(h,"\n")),d.value=d.value.replace(g,""),""===d.value&&b.splice(c--,1));return b}}(o),hd=function(a){return function(b){var c,d,e,f;for(c=0;c<b.length;c+=1)d=b[c],e=b[c-1],f=b[c+1],(d.mustacheType===a.COMMENT||d.mustacheType===a.DELIMCHANGE)&&(b.splice(c,1),e&&f&&e.type===a.TEXT&&f.type===a.TEXT&&(e.value+=f.value,b.splice(c,1)),c-=1);return b}}(o),id=function(a){var b=a(/^[^\s=]+/);return function(a){var c,d,e;return a.getStringMatch("=")?(c=a.pos,a.allowWhitespace(),(d=b(a))?(a.allowWhitespace(),(e=b(a))?(a.allowWhitespace(),a.getStringMatch("=")?[d,e]:(a.pos=c,null)):(a.pos=c,null)):(a.pos=c,null)):null}}(ic),jd=function(a){var b={"#":a.SECTION,"^":a.INVERTED,"/":a.CLOSING,">":a.PARTIAL,"!":a.COMMENT,"&":a.TRIPLE};return function(a){var c=b[a.str.charAt(a.pos)];return c?(a.pos+=1,c):null}}(o),kd=function(a,b,c){var d=b(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),e=/^[0-9][1-9]*$/;return function(b,f){var g,h,i,j,k,l,m,n;if(g=b.pos,h={type:f?a.TRIPLE:a.MUSTACHE},!(f||((j=b.getExpression())&&(h.mustacheType=a.INTERPOLATOR,b.allowWhitespace(),b.getStringMatch(b.delimiters[1])?b.pos-=b.delimiters[1].length:(b.pos=g,j=null)),j||(i=c(b),i===a.TRIPLE?h={type:a.TRIPLE}:h.mustacheType=i||a.INTERPOLATOR,i!==a.COMMENT&&i!==a.CLOSING||(l=b.remaining(),m=l.indexOf(b.delimiters[1]),-1===m)))))return h.ref=l.substr(0,m),b.pos+=m,h;if(!j&&(b.allowWhitespace(),j=b.getExpression(),l=b.remaining(),n=f?b.tripleDelimiters[1]:b.delimiters[1],l.substr(0,n.length)!==n&&":"!==l.charAt(0)&&(b.pos=g,l=b.remaining(),m=l.indexOf(b.delimiters[1]),-1!==m)))return h.ref=l.substr(0,m).trim(),b.pos+=m,h;for(;j.t===a.BRACKETED&&j.x;)j=j.x;return j.t===a.REFERENCE?h.ref=j.n:j.t===a.NUMBER_LITERAL&&e.test(j.v)?h.ref=j.v:h.expression=j,k=d(b),null!==k&&(h.indexRef=k),h}}(o,ic,jd),ld=function(a,b,c){function d(d,e){var f,g,h=d.pos;return g=e?d.tripleDelimiters:d.delimiters,d.getStringMatch(g[0])?(f=b(d))?d.getStringMatch(g[1])?(d[e?"tripleDelimiters":"delimiters"]=f,{type:a.MUSTACHE,mustacheType:a.DELIMCHANGE}):(d.pos=h,null):(d.allowWhitespace(),f=c(d,e),null===f?(d.pos=h,null):(d.allowWhitespace(),d.getStringMatch(g[1])?f:(d.pos=h,null))):null}return function(){var a=this.tripleDelimiters[0].length>this.delimiters[0].length;return d(this,a)||d(this,!a)}}(o,id,kd),md=function(a){return function(){var b,c,d;if(!this.getStringMatch("<!--"))return null;if(c=this.remaining(),d=c.indexOf("-->"),-1===d)throw new Error('Unexpected end of input (expected "-->" to close comment)');return b=c.substr(0,d),this.pos+=d+3,{type:a.COMMENT,content:b}}}(o),nd=function(){return function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1}}(),od=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;return d=function(){return e(this)||f(this)},e=function(b){var c,d,e,f;return c=b.pos,b.inside?null:b.getStringMatch("<")?(d={type:a.TAG},b.getStringMatch("!")&&(d.doctype=!0),d.name=g(b),d.name?(e=h(b),e&&(d.attrs=e),b.allowWhitespace(),b.getStringMatch("/")&&(d.selfClosing=!0),b.getStringMatch(">")?(f=d.name.toLowerCase(),("script"===f||"style"===f)&&(b.inside=f),d):(b.pos=c,null)):(b.pos=c,null)):null},f=function(b){var c,d,e;if(c=b.pos,e=function(a){throw new Error("Unexpected character "+b.remaining().charAt(0)+" (expected "+a+")")},!b.getStringMatch("<"))return null;if(d={type:a.TAG,closing:!0},b.getStringMatch("/")||e('"/"'),d.name=g(b),d.name||e("tag name"),b.getStringMatch(">")||e('">"'),b.inside){if(d.name.toLowerCase()!==b.inside)return b.pos=c,null;b.inside=null}return d},g=b(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),h=function(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),d=i(a),!d)return a.pos=b,null;for(c=[];null!==d;)c.push(d),a.allowWhitespace(),d=i(a);return c},i=function(a){var b,c,d;return(c=j(a))?(b={name:c},d=k(a),d&&(b.value=d),b):null},j=b(/^[^\s"'>\/=]+/),k=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.getStringMatch("=")?(a.allowWhitespace(),c=p(a,"'")||p(a,'"')||l(a),null===c?(a.pos=b,null):c):(a.pos=b,null)},n=b(/^[^\s"'=<>`]+/),m=function(b){var c,d,e;return c=b.pos,(d=n(b))?(-1!==(e=d.indexOf(b.delimiters[0]))&&(d=d.substr(0,e),b.pos=c+d.length),{type:a.TEXT,value:d}):null},l=function(a){var b,c;for(b=[],c=a.getMustache()||m(a);null!==c;)b.push(c),c=a.getMustache()||m(a);return b.length?b:null},p=function(a,b){var c,d,e;if(c=a.pos,!a.getStringMatch(b))return null;for(d=[],e=a.getMustache()||o(a,b);null!==e;)d.push(e),e=a.getMustache()||o(a,b);return a.getStringMatch(b)?d:(a.pos=c,null)},o=function(b,d){var e,f,g;if(e=b.pos,g=b.remaining(),f=c(g,[d,b.delimiters[0],b.delimiters[1]]),-1===f)throw new Error("Quoted attribute value must have a closing quote");return f?(b.pos+=f,{type:a.TEXT,value:g.substr(0,f)}):null},d}(o,ic,nd),pd=function(a,b){return function(){var c,d,e;return d=this.remaining(),e=this.inside?"</"+this.inside:"<",(c=this.inside&&!this.interpolate[this.inside]?d.indexOf(e):b(d,[e,this.delimiters[0],this.tripleDelimiters[0]]))?(-1===c&&(c=d.length),this.pos+=c,{type:a.TEXT,value:d.substr(0,c)}):null}}(o,nd),qd=function(a){return function(b){var c=b.remaining();return"true"===c.substr(0,4)?(b.pos+=4,{t:a.BOOLEAN_LITERAL,v:"true"}):"false"===c.substr(0,5)?(b.pos+=5,{t:a.BOOLEAN_LITERAL,v:"false"}):null}}(o),rd=function(a,b){return function(c){var d,e,f;return d=c.pos,c.allowWhitespace(),e=b(c),null===e?(c.pos=d,null):(c.allowWhitespace(),c.getStringMatch(":")?(c.allowWhitespace(),f=c.getExpression(),null===f?(c.pos=d,null):{t:a.KEY_VALUE_PAIR,k:e,v:f}):(c.pos=d,null))}}(o,pc),sd=function(a){return function b(c){var d,e,f,g;return d=c.pos,f=a(c),null===f?null:(e=[f],c.getStringMatch(",")?(g=b(c),g?e.concat(g):(c.pos=d,null)):e)}}(rd),td=function(a,b){return function(c){var d,e;return d=c.pos,c.allowWhitespace(),c.getStringMatch("{")?(e=b(c),c.allowWhitespace(),c.getStringMatch("}")?{t:a.OBJECT_LITERAL,m:e}:(c.pos=d,null)):(c.pos=d,null)}}(o,sd),ud=function(){return function a(b){var c,d,e,f;if(c=b.pos,b.allowWhitespace(),e=b.getExpression(),null===e)return null;if(d=[e],b.allowWhitespace(),b.getStringMatch(",")){if(f=a(b),null===f)return b.pos=c,null;d=d.concat(f)}return d}}(),vd=function(a,b){return function(c){var d,e;return d=c.pos,c.allowWhitespace(),c.getStringMatch("[")?(e=b(c),c.getStringMatch("]")?{t:a.ARRAY_LITERAL,m:e}:(c.pos=d,null)):(c.pos=d,null)}}(o,ud),wd=function(a,b,c,d,e){return function(f){var g=a(f)||b(f)||c(f)||d(f)||e(f);return g}}(nc,qd,mc,td,vd),xd=function(a,b,c){var d,e,f,g;return d=b(/^\.[a-zA-Z_$0-9]+/),e=function(a){var b=f(a);return b?"."+b:null},f=b(/^\[(0|[1-9][0-9]*)\]/),g=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(b){var f,h,i,j,k,l,m;for(f=b.pos,h="";b.getStringMatch("../");)h+="../";if(h||(j=b.getStringMatch(".")||""),i=c(b)||"",!h&&!j&&g.test(i))return{t:a.GLOBAL,v:i};if("this"!==i||h||j||(i=".",f+=3),k=(h||j)+i,!k)return null;for(;l=d(b)||e(b);)k+=l;return b.getStringMatch("(")&&(m=k.lastIndexOf("."),-1!==m?(k=k.substr(0,m),b.pos=f+k.length):b.pos-=1),{t:a.REFERENCE,n:k}}}(o,ic,oc),yd=function(a){return function(b){var c,d;return c=b.pos,b.getStringMatch("(")?(b.allowWhitespace(),(d=b.getExpression())?(b.allowWhitespace(),b.getStringMatch(")")?{t:a.BRACKETED,x:d}:(b.pos=c,null)):(b.pos=c,null)):null}}(o),zd=function(a,b,c){return function(d){return a(d)||b(d)||c(d)}}(wd,xd,yd),Ad=function(a,b){return function(c){var d,e,f;if(d=c.pos,c.allowWhitespace(),c.getStringMatch(".")){if(c.allowWhitespace(),e=b(c))return{t:a.REFINEMENT,n:e};c.expected("a property name")}return c.getStringMatch("[")?(c.allowWhitespace(),f=c.getExpression(),f||c.expected("an expression"),c.allowWhitespace(),c.getStringMatch("]")||c.expected('"]"'),{t:a.REFINEMENT,x:f}):null}}(o,oc),Bd=function(a,b,c,d){return function(e){var f,g,h,i;if(g=b(e),!g)return null;for(;g;)if(f=e.pos,h=d(e))g={t:a.MEMBER,x:g,r:h};else{if(!e.getStringMatch("("))break;if(e.allowWhitespace(),i=c(e),e.allowWhitespace(),!e.getStringMatch(")")){e.pos=f;break}g={t:a.INVOCATION,x:g},i&&(g.o=i)}return g}}(o,zd,ud,Ad),Cd=function(a,b){var c,d;return d=function(b,c){return function(d){var e,f;return d.getStringMatch(b)?(e=d.pos,d.allowWhitespace(),f=d.getExpression(),f||d.expected("an expression"),{s:b,o:f,t:a.PREFIX_OPERATOR}):c(d)}},function(){var a,e,f,g,h;for(g="! ~ + - typeof".split(" "),h=b,a=0,e=g.length;e>a;a+=1)f=d(g[a],h),h=f;c=h}(),c}(o,Bd),Dd=function(a,b){var c,d;return d=function(b,c){return function(d){var e,f,g;if(f=c(d),!f)return null;for(;;){if(e=d.pos,d.allowWhitespace(),!d.getStringMatch(b))return d.pos=e,f;if("in"===b&&/[a-zA-Z_$0-9]/.test(d.remaining().charAt(0)))return d.pos=e,f;if(d.allowWhitespace(),g=c(d),!g)return d.pos=e,f;f={t:a.INFIX_OPERATOR,s:b,o:[f,g]}}}},function(){var a,e,f,g,h;for(g="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),h=b,a=0,e=g.length;e>a;a+=1)f=d(g[a],h),h=f;c=h}(),c}(o,Cd),Ed=function(a,b){return function(c){var d,e,f,g;return(e=b(c))?(d=c.pos,c.allowWhitespace(),c.getStringMatch("?")?(c.allowWhitespace(),(f=c.getExpression())?(c.allowWhitespace(),c.getStringMatch(":")?(c.allowWhitespace(),g=c.getExpression(),g?{t:a.CONDITIONAL,o:[e,f,g]}:(c.pos=d,e)):(c.pos=d,e)):(c.pos=d,e)):(c.pos=d,e)):null}}(o,Dd),Fd=function(a){return function(){return a(this)}}(Ed),Gd=function(a,b,c,d,e,f,g){var h;return h=function(a,b){var c;for(this.str=a,this.pos=0,this.delimiters=b.delimiters,this.tripleDelimiters=b.tripleDelimiters,this.interpolate=b.interpolate,this.tokens=[];this.pos<this.str.length;)c=this.getToken(),null===c&&this.remaining()&&this.fail(),this.tokens.push(c)
},h.prototype={getToken:function(){var a=this.getMustache()||this.getComment()||this.getTag()||this.getText();return a},getMustache:a,getComment:b,getTag:c,getText:d,getExpression:e,allowWhitespace:f,getStringMatch:g,remaining:function(){return this.str.substring(this.pos)},fail:function(){var a,b;throw a=this.str.substr(0,this.pos).substr(-20),20===a.length&&(a="..."+a),b=this.remaining().substr(0,20),20===b.length&&(b+="..."),new Error("Could not parse template: "+(a?a+"<- ":"")+"failed at character "+this.pos+" ->"+b)},expected:function(a){var b=this.remaining().substr(0,40);throw 40===b.length&&(b+="..."),new Error('Tokenizer failed: unexpected string "'+b+'" (expected '+a+")")}},h}(ld,md,od,pd,Fd,hc,gc),Hd=function(a,b,c,d,e){return function(f,g){var h,i;return g=g||{},g.stripComments!==!1&&(f=b(f)),h=new e(f,{delimiters:g.delimiters||a.defaults.delimiters,tripleDelimiters:g.tripleDelimiters||a.defaults.tripleDelimiters,interpolate:{script:g.interpolateScripts!==!1?!0:!1,style:g.interpolateStyles!==!1?!0:!1}}),i=h.tokens,c(i),d(i),i}}(b,fd,gd,hd,Gd),Id=function(a){var b,c,d,e,f,g,h,i,j;return b=function(a,b){this.text=b?a.value:a.value.replace(j," ")},b.prototype={type:a.TEXT,toJSON:function(){return this.decoded||(this.decoded=i(this.text))},toString:function(){return this.text}},c={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},d=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],e=new RegExp("&("+Object.keys(c).join("|")+");?","g"),f=/&#x([0-9]+);?/g,g=/&#([0-9]+);?/g,h=function(a){return a?10===a?32:128>a?a:159>=a?d[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533},i=function(a){var b;return b=a.replace(e,function(a,b){return c[b]?String.fromCharCode(c[b]):a}),b=b.replace(f,function(a,b){return String.fromCharCode(h(parseInt(b,16)))}),b=b.replace(g,function(a,b){return String.fromCharCode(h(b))})},j=/\s+/g,b}(o),Jd=function(a,b){return function(c,d){return c.type===a.TEXT?(this.pos+=1,new b(c,d)):null}}(o,Id),Kd=function(a){var b;return b=function(a){this.content=a.content},b.prototype={toJSON:function(){return{t:a.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},b}(o),Ld=function(a,b){return function(c){return c.type===a.COMMENT?(this.pos+=1,new b(c,this.preserveWhitespace)):null}}(o,Kd),Md=function(a,b){function c(a){return JSON.stringify(String(a))}function d(c,e){var f,g;if(c.t===a.REFERENCE&&-1===e.indexOf(c.n)&&e.unshift(c.n),g=c.o||c.m)if(b(g))d(g,e);else for(f=g.length;f--;)d(g[f],e);c.x&&d(c.x,e),c.r&&d(c.r,e),c.v&&d(c.v,e)}function e(b,d){var f=function(a){return e(a,d)};switch(b.t){case a.BOOLEAN_LITERAL:case a.GLOBAL:case a.NUMBER_LITERAL:return b.v;case a.STRING_LITERAL:return c(b.v);case a.ARRAY_LITERAL:return"["+(b.m?b.m.map(f).join(","):"")+"]";case a.OBJECT_LITERAL:return"{"+(b.m?b.m.map(f).join(","):"")+"}";case a.KEY_VALUE_PAIR:return b.k+":"+e(b.v,d);case a.PREFIX_OPERATOR:return("typeof"===b.s?"typeof ":b.s)+e(b.o,d);case a.INFIX_OPERATOR:return e(b.o[0],d)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+e(b.o[1],d);case a.INVOCATION:return e(b.x,d)+"("+(b.o?b.o.map(f).join(","):"")+")";case a.BRACKETED:return"("+e(b.x,d)+")";case a.MEMBER:return e(b.x,d)+e(b.r,d);case a.REFINEMENT:return b.n?"."+b.n:"["+e(b.x,d)+"]";case a.CONDITIONAL:return e(b.o[0],d)+"?"+e(b.o[1],d)+":"+e(b.o[2],d);case a.REFERENCE:return"${"+d.indexOf(b.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}}var f=function(a){this.refs=[],d(a,this.refs),this.str=e(a,this.refs)};return f.prototype={toJSON:function(){return this.json?this.json:(this.json={r:this.refs,s:this.str},this.json)}},f}(o,n),Nd=function(a,b){var c=function(c,d){this.type=c.type===a.TRIPLE?a.TRIPLE:c.mustacheType,c.ref&&(this.ref=c.ref),c.expression&&(this.expr=new b(c.expression)),d.pos+=1};return c.prototype={toJSON:function(){var a;return this.json?this.json:(a={t:this.type},this.ref&&(a.r=this.ref),this.expr&&(a.x=this.expr.toJSON()),this.json=a,a)},toString:function(){return!1}},c}(o,Md),Od=function(){return function(a){var b,c,d,e="";if(!a)return"";for(c=0,d=a.length;d>c;c+=1){if(b=a[c].toString(),b===!1)return!1;e+=b}return e}}(),Pd=function(a){return function(b,c){var d,e;return c||(d=a(b),d===!1)?e=b.map(function(a){return a.toJSON(c)}):d}}(Od),Qd=function(a,b,c,d){var e=function(c,e){var f;for(this.ref=c.ref,this.indexRef=c.indexRef,this.inverted=c.mustacheType===a.INVERTED,c.expression&&(this.expr=new d(c.expression)),e.pos+=1,this.items=[],f=e.next();f;){if(f.mustacheType===a.CLOSING){if(b(f.ref.trim())===this.ref||this.expr){e.pos+=1;break}throw new Error("Could not parse template: Illegal closing section")}this.items.push(e.getStub()),f=e.next()}};return e.prototype={toJSON:function(b){var d;return this.json?this.json:(d={t:a.SECTION},this.ref&&(d.r=this.ref),this.indexRef&&(d.i=this.indexRef),this.inverted&&(d.n=!0),this.expr&&(d.x=this.expr.toJSON()),this.items.length&&(d.f=c(this.items,b)),this.json=d,d)},toString:function(){return!1}},e}(o,j,Pd,Md),Rd=function(a,b,c){return function(d){return d.type===a.MUSTACHE||d.type===a.TRIPLE?d.mustacheType===a.SECTION||d.mustacheType===a.INVERTED?new c(d,this):new b(d,this):void 0}}(o,Nd,Qd),Sd=function(){return{li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]}}(),Td=function(a){function b(c){var d,e;if("object"!=typeof c)return c;if(a(c))return c.map(b);d={};for(e in c)c.hasOwnProperty(e)&&(d[e]=b(c[e]));return d}return function(a){var c,d,e,f,g,h;for(e={},c=[],d=[],g=a.length,f=0;g>f;f+=1)if(h=a[f],"intro"===h.name){if(e.intro)throw new Error("An element can only have one intro transition");e.intro=h}else if("outro"===h.name){if(e.outro)throw new Error("An element can only have one outro transition");e.outro=h}else if("intro-outro"===h.name){if(e.intro||e.outro)throw new Error("An element can only have one intro and one outro transition");e.intro=h,e.outro=b(h)}else"proxy-"===h.name.substr(0,6)?(h.name=h.name.substring(6),d.push(h)):"on-"===h.name.substr(0,3)?(h.name=h.name.substring(3),d.push(h)):"decorator"===h.name?e.decorator=h:c.push(h);return e.attrs=c,e.proxies=d,e}}(l),Ud=function(a,b){return function(c){var d,e,f,g,h,i,j,k;for(h=function(){throw new Error("Illegal directive")},c.name&&c.value||h(),d={directiveType:c.name},e=c.value,i=[],j=[];e.length;)if(f=e.shift(),f.type===a.TEXT){if(g=f.value.indexOf(":"),-1!==g){g&&i.push({type:a.TEXT,value:f.value.substr(0,g)}),f.value.length>g+1&&(j[0]={type:a.TEXT,value:f.value.substring(g+1)});break}i.push(f)}else i.push(f);return j=j.concat(e),d.name=1===i.length&&i[0].type===a.TEXT?i[0].value:i,j.length&&(1===j.length&&j[0].type===a.TEXT?(k=b("["+j[0].value+"]"),d.args=k?k.value:j[0].value):d.dynamicArgs=j),d}}(o,qc),Vd=function(a,b){var c;return c=function(a,b){var c;for(this.tokens=a||[],this.pos=0,this.options=b,this.result=[];c=this.getStub();)this.result.push(c)},c.prototype={getStub:function(){var a=this.next();return a?this.getText(a)||this.getMustache(a):null},getText:a,getMustache:b,next:function(){return this.tokens[this.pos]}},c}(Jd,Rd),Wd=function(a,b,c){var d;return d=function(b){var c=new a(b);this.stubs=c.result},d.prototype={toJSON:function(a){var b;return this["json_"+a]?this["json_"+a]:b=this["json_"+a]=c(this.stubs,a)},toString:function(){return void 0!==this.str?this.str:(this.str=b(this.stubs),this.str)}},d}(Vd,Od,Pd),Xd=function(a){return function(b){var c,d;if("string"==typeof b.name){if(!b.args&&!b.dynamicArgs)return b.name;d=b.name}else d=new a(b.name).toJSON();return c={n:d},b.args?(c.a=b.args,c):(b.dynamicArgs&&(c.d=new a(b.dynamicArgs).toJSON()),c)}}(Wd),Yd=function(a,b,c){return function(d){var e,f,g,h,i,j,k;if(this["json_"+d])return this["json_"+d];if(e=this.component?{t:a.COMPONENT,e:this.component}:{t:a.ELEMENT,e:this.tag},this.doctype&&(e.y=1),this.attributes&&this.attributes.length)for(e.a={},j=this.attributes.length,i=0;j>i;i+=1){if(k=this.attributes[i],f=k.name,e.a[f])throw new Error("You cannot have multiple attributes with the same name");g=null===k.value?null:k.value.toJSON(d),e.a[f]=g}if(this.items&&this.items.length&&(e.f=b(this.items,d)),this.proxies&&this.proxies.length)for(e.v={},j=this.proxies.length,i=0;j>i;i+=1)h=this.proxies[i],e.v[h.directiveType]=c(h);return this.intro&&(e.t1=c(this.intro)),this.outro&&(e.t2=c(this.outro)),this.decorator&&(e.o=c(this.decorator)),this["json_"+d]=e,e}}(o,Pd,Xd),Zd=function(a,b){var c;return c="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var d,e,f,g,h,i,j,k;if(void 0!==this.str)return this.str;if(this.component)return this.str=!1;if(-1===c.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro||this.decorator)return this.str=!1;if(j=a(this.items),j===!1)return this.str=!1;if(k=-1!==b.indexOf(this.tag.toLowerCase()),d="<"+this.tag,this.attributes)for(e=0,f=this.attributes.length;f>e;e+=1){if(h=this.attributes[e].name,-1!==h.indexOf(":"))return this.str=!1;if("id"===h||"intro"===h||"outro"===h)return this.str=!1;if(g=" "+h,null!==this.attributes[e].value){if(i=this.attributes[e].value.toString(),i===!1)return this.str=!1;""!==i&&(g+="=",g+=/[\s"'=<>`]/.test(i)?'"'+i.replace(/"/g,"&quot;")+'"':i)}d+=g}return this.selfClosing&&!k?(d+="/>",this.str=d):(d+=">",k?this.str=d:(d+=j,d+="</"+this.tag+">",this.str=d))}}(Od,Xc),$d=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=/^\s+/,r=/\s+$/;return l=function(d,e,i){var j,l,m,n,o,s,t;if(e.pos+=1,s=function(a){return{name:a.name,value:a.value?new k(a.value):null}},this.tag=d.name,t=d.name.toLowerCase(),"rv-"===t.substr(0,3)&&(c('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this.tag=this.tag.substring(3)),i=i||"pre"===t||"style"===t||"script"===t,d.attrs&&(m=g(d.attrs),l=m.attrs,n=m.proxies,e.options.sanitize&&e.options.sanitize.eventAttributes&&(l=l.filter(p)),l.length&&(this.attributes=l.map(s)),n.length&&(this.proxies=n.map(h)),m.intro&&(this.intro=h(m.intro)),m.outro&&(this.outro=h(m.outro)),m.decorator&&(this.decorator=h(m.decorator))),d.doctype&&(this.doctype=!0),d.selfClosing&&(this.selfClosing=!0),-1!==b.indexOf(t)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=f[t],this.items=[],j=e.next();j&&j.mustacheType!==a.CLOSING;){if(j.type===a.TAG){if(j.closing){j.name.toLowerCase()===t&&(e.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(j.name.toLowerCase()))break}this.items.push(e.getStub(i)),j=e.next()}i||(o=this.items[0],o&&o.type===a.TEXT&&(o.text=o.text.replace(q,""),o.text||this.items.shift()),o=this.items[this.items.length-1],o&&o.type===a.TEXT&&(o.text=o.text.replace(r,""),o.text||this.items.pop()))}},l.prototype={toJSON:i,toString:j},m="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),n="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),o=/^on[a-zA-Z]/,p=function(a){var b=!o.test(a.name);return b},l}(o,Xc,v,Lc,Od,Sd,Td,Ud,Yd,Zd,Wd),_d=function(a,b){return function(a){return this.options.sanitize&&this.options.sanitize.elements&&-1!==this.options.sanitize.elements.indexOf(a.name.toLowerCase())?null:new b(a,this,this.preserveWhitespace)}}(o,$d),ae=function(a,b,c,d,e){var f;return f=function(a,b){var c,d;for(this.tokens=a||[],this.pos=0,this.options=b,this.preserveWhitespace=b.preserveWhitespace,d=[];c=this.getStub();)d.push(c);this.result=e(d,b.noStringify)},f.prototype={getStub:function(a){var b=this.next();return b?this.getText(b,this.preserveWhitespace||a)||this.getComment(b)||this.getMustache(b)||this.getElement(b):null},getText:a,getComment:b,getMustache:c,getElement:d,next:function(){return this.tokens[this.pos]}},f}(Jd,Ld,Rd,_d,Pd),be=function(a,b,c){var d,e,f,g,h;return e=/^\s*$/,f=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,g=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,d=function(d,g){var i,j,k;return g=g||{},f.test(d)?h(d,g):(g.sanitize===!0&&(g.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),i=a(d,g),g.preserveWhitespace||(k=i[0],k&&k.type===b.TEXT&&e.test(k.value)&&i.shift(),k=i[i.length-1],k&&k.type===b.TEXT&&e.test(k.value)&&i.pop()),j=new c(i,g).result,"string"==typeof j?[j]:j)},h=function(a,b){var c,e,h,i,j,k;for(h={},c="",e=a;j=f.exec(e);){if(i=j[1],c+=e.substr(0,j.index),e=e.substring(j.index+j[0].length),k=g.exec(e),!k||k[1]!==i)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");h[i]=d(e.substr(0,k.index),b),e=e.substring(k.index+k[0].length)}return{main:d(c,b),partials:h}},d}(Hd,o,ae),ce=function(){function a(a,b){var d=c.exec(b)[0];return null===a||d.length<a.length?d:a}var b=/^\s*$/,c=/^\s*/;return function(c){var d,e,f,g;return d=c.split("\n"),e=d[0],void 0!==e&&b.test(e)&&d.shift(),f=d[d.length-1],void 0!==f&&b.test(f)&&d.pop(),g=d.reduce(a,null),g&&(c=d.map(function(a){return a.replace(g,"")}).join("\n")),c}}(),de=function(a,b,c,d,e,f,g){var h,i,j,k;return h=function(d,h){var l,m,n;if(m=j(d,h))return m;if(b&&(l=document.getElementById(h),l&&"SCRIPT"===l.tagName)){if(!f)throw new Error(a.missingParser);i(f(g(l.text),d.parseOptions),h,e)}if(m=e[h],!m){if(n='Could not find descriptor for partial "'+h+'"',d.debug)throw new Error(n);return c(n),[]}return k(m)},j=function(b,c){var d;if(b.partials[c]){if("string"==typeof b.partials[c]){if(!f)throw new Error(a.missingParser);d=f(b.partials[c],b.parseOptions),i(d,c,b.partials)}return k(b.partials[c])}},i=function(a,b,c){var e;if(d(a)){c[b]=a.main;for(e in a.partials)a.partials.hasOwnProperty(e)&&(c[e]=a.partials[e])}else c[b]=a},k=function(a){return 1===a.length&&"string"==typeof a[0]?a[0]:a},h}(dd,g,v,n,ed,be,ce),ee=function(){return function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a}}(),fe=function(a,b,c,d){var e,f;return d.push(function(){f=d.DomFragment}),e=function(c,d){var e,g=this.parentFragment=c.parentFragment;if(this.type=a.PARTIAL,this.name=c.descriptor.r,this.index=c.index,!c.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");e=b(g.root,c.descriptor.r),this.fragment=new f({descriptor:e,root:g.root,pNode:g.pNode,contextStack:g.contextStack,owner:this}),d&&d.appendChild(this.fragment.docFrag)},e.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},teardown:function(a){this.fragment.teardown(a)},toString:function(){var b,d,e,f;return b=this.fragment.toString(),d=this.parentFragment.items[this.index-1],d&&d.type===a.TEXT?(e=d.descriptor.split("\n").pop(),(f=/^\s+$/.exec(e))?c(b,f[0]):b):b},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)}},e}(o,de,ee,_),ge=function(a){var b=function(b,c,d){this.parentFragment=b.parentFragment,this.component=b,this.key=c,this.fragment=new a({descriptor:d,root:b.root,owner:this,contextStack:b.parentFragment.contextStack}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return b.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},update:function(){var a=this.fragment.getValue();this.component.instance.set(this.key,a),this.value=a},teardown:function(){this.fragment.teardown()}},b}(vc),he=function(a,b,c,d){function e(e,f,g,h){var i,j,k,l,m;return k=e.root,l=e.parentFragment,"string"==typeof g?(j=b(g),j?j.value:g):null===g?!0:1===g.length&&g[0].t===a.INTERPOLATOR&&g[0].r?l.indexRefs&&void 0!==l.indexRefs[g[0].r]?l.indexRefs[g[0].r]:(m=c(k,g[0].r,l.contextStack)||g[0].r,h.push({childKeypath:f,parentKeypath:m}),k.get(m)):(i=new d(e,f,g),e.complexParameters.push(i),i.value)}return function(a,b,c,d){var f,g,h;f={},a.complexParameters=[];for(g in c)c.hasOwnProperty(g)&&(h=e(a,g,c[g],d),(void 0!==h||void 0===b[g])&&(f[g]=h));return f}}(o,qc,Q,ge),ie=function(){return function(a,b,c,d,e){var f,g,h,i;return g=a.parentFragment,i=a.root,h={content:e||[]},f=new b({el:g.pNode,append:!0,data:c,partials:h,_parent:i,_component:a,adapt:i.adapt}),f.insert(d),f.fragment.pNode=f.el=g.pNode,f}}(),je=function(a){return function(b,c){c.forEach(function(c){var d;a(b,b.root,c.parentKeypath,c.childKeypath),d=b.instance.get(c.childKeypath),void 0!==d&&b.root.set(c.parentKeypath,d)})}}(K),ke=function(a){function b(b,d,e,f){if("string"!=typeof f){if(d.debug)throw new Error(c);return a(c),void 0}b.on(e,function(){var a=Array.prototype.slice.call(arguments);a.unshift(f),d.fire.apply(d,a)})}var c="Components currently only support simple events - you cannot include arguments. Sorry!";return function(a,c){var d;for(d in c)c.hasOwnProperty(d)&&b(a.instance,a.root,d,c[d])}}(v),le=function(){return function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries[a.name])&&c.push(a.instance),b=b._parent}}(),me=function(a,b,c,d,e,f,g){return function(h,i,j){var k,l,m,n,o;if(k=h.parentFragment=i.parentFragment,l=k.root,h.root=l,h.type=a.COMPONENT,h.name=i.descriptor.e,h.index=i.index,h.bindings=[],m=l.components[i.descriptor.e],!m)throw new Error('Component "'+i.descriptor.e+'" not found');o=[],n=c(h,m.data||{},i.descriptor.a,o),d(h,m,n,j,i.descriptor.f),e(h,o),f(h,i.descriptor.v),(i.descriptor.t1||i.descriptor.t2||i.descriptor.o)&&b('The "intro", "outro" and "decorator" directives have no effect on components'),g(h)}}(o,v,he,ie,je,ke,le),ne=function(a){var b=function(b,c){a(this,b,c)};return b.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(){for(var a;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();(a=this.root._liveComponentQueries[this.name])&&a._remove(this),this.instance.teardown()},toString:function(){return this.instance.fragment.toString()},find:function(a){return this.instance.fragment.find(a)},findAll:function(a,b){return this.instance.fragment.findAll(a,b)},findComponent:function(a){return a&&a!==this.name?null:this.instance},findAllComponents:function(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}},b}(me),oe=function(a,b){var c=function(b,c){this.type=a.COMMENT,this.descriptor=b.descriptor,c&&(this.node=document.createComment(b.descriptor.f),c.appendChild(this.node))};return c.prototype={detach:b,teardown:function(a){a&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},c}(o,Eb),pe=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=function(a){a.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof a.descriptor?(this.html=a.descriptor,this.docFrag&&(this.nodes=d(this.html,a.pNode.tagName,this.docFrag))):c(this,a)};return n.prototype={detach:function(){var a,b;if(this.docFrag){if(this.nodes)for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);else if(this.items)for(a=this.items.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.items[b].detach());return this.docFrag}},createItem:function(b){if("string"==typeof b.descriptor)return new e(b,this.docFrag);switch(b.descriptor.t){case a.INTERPOLATOR:return new f(b,this.docFrag);case a.SECTION:return new g(b,this.docFrag);case a.TRIPLE:return new h(b,this.docFrag);case a.ELEMENT:return this.root.components[b.descriptor.e]?new k(b,this.docFrag):new i(b,this.docFrag);case a.PARTIAL:return new j(b,this.docFrag);case a.COMMENT:return new l(b,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(a){var b;if(this.nodes&&a)for(;b=this.nodes.pop();)b.parentNode.removeChild(b);else if(this.items)for(;this.items.length;)this.items.pop().teardown(a);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(a){var b=a.index;return this.items[b+1]?this.items[b+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var a,b,c,d;if(this.html)return this.html;if(a="",!this.items)return a;for(c=this.items.length,b=0;c>b;b+=1)d=this.items[b],a+=d.toString();return a},find:function(a){var c,d,e,f,g;if(this.nodes){for(d=this.nodes.length,c=0;d>c;c+=1)if(f=this.nodes[c],1===f.nodeType){if(b(f,a))return f;if(g=f.querySelector(a))return g}return null}if(this.items){for(d=this.items.length,c=0;d>c;c+=1)if(e=this.items[c],e.find&&(g=e.find(a)))return g;return null}},findAll:function(a,c){var d,e,f,g,h,i,j;if(this.nodes){for(e=this.nodes.length,d=0;e>d;d+=1)if(g=this.nodes[d],1===g.nodeType&&(b(g,a)&&c.push(g),h=g.querySelectorAll(a)))for(i=h.length,j=0;i>j;j+=1)c.push(h[j])}else if(this.items)for(e=this.items.length,d=0;e>d;d+=1)f=this.items[d],f.findAll&&f.findAll(a,c);return c},findComponent:function(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}},findAllComponents:function(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}},m.DomFragment=n,n}(o,ob,Cb,Db,Fb,Tb,Zb,$b,cd,fe,ne,oe,_),qe=function(a,b,c,d,e,f){return function(a,g){var h;if(!this._initing)throw new Error("You cannot call ractive.render() directly!");this._updateScheduled=!0,this._transitionManager=h=b(this,g),this.constructor.css&&e.add(this.constructor),this.fragment=new f({descriptor:this.template,root:this,owner:this,pNode:a}),c(this),a&&a.appendChild(this.fragment.docFrag),this._parent?this._parent._deferred.components.push(this):d(this),this._transitionManager=null,h.ready(),this.rendered=!0}}(Ab,w,s,u,Bb,pe),re=function(a){return function(){return a("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(v),se=function(){return function(){return this.fragment.toString()}}(),te=function(a,b,c){return function(d){var e,f,g,h;for(this.fire("teardown"),h=this.constructor.css?function(){d&&d.call(this),c.remove(this.constructor)}:d,g=this._transitionManager,this._transitionManager=f=a(this,h),this.fragment.teardown(!0);this._animations[0];)this._animations[0].stop();for(e in this._cache)b(this,e);this._transitionManager=g,f.ready()}}(w,p,Bb),ue=function(a){return function(b,c,d){var e;if("string"==typeof c&&a(d)){if(e=b.get(c),void 0===e&&(e=0),a(e))b.set(c,e+d);else if(b.debug)throw new Error("Cannot add to a non-numeric value")}else if(b.debug)throw new Error("Bad arguments")}}(ab),ve=function(a){return function(b,c){a(this,b,void 0===c?1:c)}}(ue),we=function(a){return function(b,c){a(this,b,void 0===c?-1:-c)}}(ue),xe=function(){return function(a){var b;if("string"==typeof a)b=this.get(a),this.set(a,!b);else if(this.debug)throw new Error("Bad arguments")}}(),ye=function(){return function(a,b){var c,d,e,f,g;return c={},e=0,d=function(a,d){var f,h,i;h=e,i=b.length;do{if(f=b.indexOf(a,h),-1===f)return g=!0,-1;h=f+1}while(c[f]&&i>h);return f===e&&(e+=1),f!==d&&(g=!0),c[f]=!0,f},f=a.map(d),f.unchanged=!g,f}}(),ze=function(a){return function(b,c,d,e){var f,g;for(f=c.length;f--;)g=c[f],g.type===a.REFERENCE?g.update():g.keypath===b&&g.type===a.SECTION&&!g.inverted&&g.docFrag?d.push(g):e.push(g)}}(o),Ae=function(a,b,c,d,e,f,g,h,i,j){function k(a){return JSON.stringify(a)}function l(a){return m[a]||(m[a]=function(b){return b[a]}),m[a]}var m={};return function(c,m,n){var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(o=this.get(c),!b(o)||!b(m))return this.set(c,m,n&&n.complete);if(s=o.length===m.length,n&&n.compare){if(n.compare===!0)r=k;else if("string"==typeof n.compare)r=l(n.compare);else{if("function"!=typeof n.compare)throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");r=n.compare}try{p=o.map(r),q=m.map(r)}catch(E){if(this.debug)throw E;a("Merge operation: comparison failed. Falling back to identity checking"),p=o,q=m}}else p=o,q=m;if(u=i(p,q),h(this,c,m),!u.unchanged||!s){for(this._updateScheduled||(z=this._updateScheduled=!0),B=this._transitionManager,this._transitionManager=A=f(this,n&&n.complete),v=[],w=[],t=0;t<this._deps.length;t+=1)if(x=this._deps[t],x&&(y=x[c])){for(j(c,y,v,w),d(this);v.length;)v.pop().merge(u);for(;w.length;)w.pop().update()}for(d(this),z&&e(this),C=[],D=c.split(".");D.length;)D.pop(),C.push(D.join("."));g.multiple(this,C,!0),p.length!==q.length&&g(this,c+".length",!0),this._transitionManager=B,A.ready()}}}(v,l,p,s,u,w,z,S,ye,ze),Be=function(){return function(){return this.fragment.detach()}}(),Ce=function(a){return function(b,c){if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.fragment.pNode=this.el=b}}(Ab),De=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){return{get:a,set:b,update:c,updateModel:d,animate:e,on:f,off:g,observe:h,fire:i,find:j,findAll:k,findComponent:l,findAllComponents:m,renderHTML:o,toHTML:p,render:n,teardown:q,add:r,subtract:s,toggle:t,merge:u,detach:v,insert:w}}(O,T,U,W,eb,fb,gb,lb,mb,nb,xb,yb,zb,qe,re,se,te,ve,we,xe,Ae,Be,Ce),Ee={},Fe=function(){return{linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}}}(),Ge=function(){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b,c;return b=16*Math.random()|0,c="x"==a?b:3&b|8,c.toString(16)})}}(),He=function(){return["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"]}(),Ie=function(a,b,c){return function(d,e){a.forEach(function(a){e[a]&&(d[a]=b(e[a]))}),c(d,"defaults",{value:b(e.defaults)}),e.css&&c(d,"css",{value:e.css})}}(He,d,h),Je=function(){return function(a,b){return/_super/.test(a)?function(){var c,d=this._super;return this._super=b,c=a.apply(this,arguments),this._super=d,c}:a}}(),Ke=function(){return function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}}(),Le=function(a,b,c,d,e){var f={};return b.concat(a.keys).forEach(function(a){f[a]=!0}),function(g,h){var i,j;b.forEach(function(a){var b=h[a];b&&(g[a]?e(g[a],b):g[a]=b)}),a.keys.forEach(function(a){var b=h[a];void 0!==b&&(g.defaults[a]="function"==typeof b&&"function"==typeof g[a]?d(b,g[a]):h[a])});for(i in h)!f[i]&&h.hasOwnProperty(i)&&(j=h[i],g.prototype[i]="function"==typeof j&&"function"==typeof g.prototype[i]?d(j,g.prototype[i]):j);h.css&&c(g,"css",{value:h.css})}}(b,He,h,Je,Ke),Me=function(a,b){return function(c,d){a(c.template)&&(c.partials||(c.partials={}),b(c.partials,c.template.partials),d.partials&&b(c.partials,d.partials),c.template=c.template.main)}}(n,Ke),Ne=function(a,b,c){return function(d){var e;if("string"==typeof d.template){if(!c)throw new Error(a.missingParser);if("#"===d.template.charAt(0)&&b){if(e=document.getElementById(d.template.substring(1)),!e||"SCRIPT"!==e.tagName)throw new Error("Could not find template element ("+d.template+")");d.template=c(e.innerHTML,d)}else d.template=c(d.template,d)}}}(dd,g,be),Oe=function(a,b){return function(c){var d;if(c.partials)for(d in c.partials)if(c.partials.hasOwnProperty(d)&&"string"==typeof c.partials[d]){if(!b)throw new Error(a.missingParser);c.partials[d]=b(c.partials[d],c)}}}(dd,be),Pe=function(){return function(a){for(var b,c,d=Array.prototype.slice.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);
return a}}(),Qe=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return function(i,q){var r,s,t;if(m(q.adaptors)&&(e("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information"),q.adapt=q.adaptors,delete q.adaptors),c.keys.forEach(function(a){void 0===q[a]&&(q[a]=i.constructor.defaults[a])}),j(i,{_initing:{value:!0,writable:!0},_guid:{value:n()},_subs:{value:f(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:f(null)},_deps:{value:[]},_depsMap:{value:f(null)},_patternObservers:{value:[]},_deferred:{value:{}},_evaluators:{value:f(null)},_twowayBindings:{value:{}},_transitionManager:{value:null,writable:!0},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:f(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_updateScheduled:{value:!1,writable:!0}}),j(i._deferred,{attrs:{value:[]},evals:{value:[]},selectValues:{value:[]},checkboxes:{value:[]},radios:{value:[]},observers:{value:[]},transitions:{value:[]},liveQueries:{value:[]},decorators:{value:[]},focusable:{value:null,writable:!0},components:{value:[]}}),i.adapt="string"==typeof q.adapt?[q.adapt]:q.adapt,i.modifyArrays=q.modifyArrays,i.magic=q.magic,i.twoway=q.twoway,i.lazy=q.lazy,i.debug=q.debug,i.magic&&!o)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(q._parent&&q._component&&(j(i,{_parent:{value:q._parent},component:{value:q._component}}),q._component.instance=i),q.el&&(i.el=k(q.el),!i.el&&i.debug))throw new Error("Could not find container element");if(q.eventDefinitions&&(e("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),q.events=q.eventDefinitions),d.forEach(function(a){i.constructor[a]?i[a]=g(f(i.constructor[a]),q[a]):q[a]&&(i[a]=q[a])}),i.data||(i.data={}),r=q.template,"string"==typeof r){if(!p)throw new Error(b.missingParser);if("#"===r.charAt(0)&&a){if(s=document.getElementById(r.substring(1)),!s)throw new Error("Could not find template element ("+r+")");t=p(s.innerHTML,q)}else t=p(r,q)}else t=r;l(t)&&(h(i.partials,t.partials),t=t.main),t&&1===t.length&&"string"==typeof t[0]&&(t=t[0]),i.template=t,g(i.partials,q.partials),i.parseOptions={preserveWhitespace:q.preserveWhitespace,sanitize:q.sanitize,stripComments:q.stripComments},i.transitionsEnabled=q.noIntro?!1:q.transitionsEnabled,a&&!i.el&&(i.el=document.createDocumentFragment()),i.el&&!q.append&&(i.el.innerHTML=""),i.render(i.el,q.complete),i.transitionsEnabled=q.transitionsEnabled,i._initing=!1}}(g,dd,b,He,v,d,Pe,Qc,h,i,Ab,n,l,Ge,E,be),Re=function(a,b,c){return function(d,e,f){a.keys.forEach(function(a){var c=f[a],d=e.defaults[a];"function"==typeof c&&"function"==typeof d&&(f[a]=b(c,d))}),d.beforeInit&&d.beforeInit(f),c(d,f),d.init&&d.init(f)}}(b,Je,Qe),Se=function(a,b,c,d,e,f,g,h,i,j){var k;return j.push(function(){k=j.Ractive}),function(j){var k,l=this;return k=function(a){i(this,k,a||{})},k.prototype=a(l.prototype),k.prototype.constructor=k,d(k,l),e(k,j),g(k),f(k,j),h(k),b(k,{extend:{value:l.extend},_guid:{value:c()}}),k}}(d,i,Ge,Ie,Le,Me,Ne,Oe,Re,_),Te=function(a){return function(b){return new a(function(a,c){var d=new XMLHttpRequest;d.open("GET",b),d.onload=function(){a(d.responseText)},d.onerror=c,d.send()})}}(Jc),Ue=function(){return function(a,b,c){var d,e,f;if(c)b&&"/"!==b.charAt(b.length-1)&&(b+="/");else if("."!==a.charAt(0))return a;for(d=(b||"").split("/"),e=a.split("/"),d.pop();f=e.shift();)".."===f?d.pop():"."!==f&&d.push(f);return d.join("/")}}(),Ve=function(){return function(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c}}(),We=function(a,b,c,d,e,f){function g(a){return a.f}var h;a.push(function(){h=a.Ractive});var i=function(a,j){var k,l,m,n,o,p,q,r,s,t,u,v,w;for(a=e(a,{noStringify:!0,interpolateScripts:!1,interpolateStyles:!1}),k=[],l=[],n=[],o=a.length;o--;)p=a[o],p&&7===p.t&&("link"===p.e&&p.a&&"ractive"===p.a.rel[0]&&k.push(a.splice(o,1)[0]),"script"!==p.e||p.a&&p.a.type&&"text/javascript"!==p.a.type[0]||l.push(a.splice(o,1)[0]),"style"!==p.e||p.a&&p.a.type&&"text/css"!==p.a.type[0]||n.push(a.splice(o,1)[0]));return u=k.length,v={},w=new c(function(a,c){k.forEach(function(e){var g,h,k;return g=e.a.href&&e.a.href[0],h=e.a.name&&e.a.name[0]||f(g),"string"!=typeof h?(c("Error parsing link tag"),void 0):(k=d(g,j),b(k).then(function(a){return i(a,k)}).then(function(b){v[h]=b,--u||a(v)},c),void 0)}),u||a(v)}),m=l.map(g).join(";"),w.then(function(b){var c,d;return c=document.getElementsByTagName("head")[0],d={template:a,components:b},n.length&&(d.css=n.map(g).join(" ")),t=h.extend(d),m&&(q=document.createElement("script"),q.innerHTML="(function () {"+m+"}());",r=window.component,window.component={},c.appendChild(q),s=window.component.exports,"function"==typeof s?t=s(t):"object"==typeof s&&(t=t.extend(s)),c.removeChild(q),window.component=r),t})};return i}(_,Te,Jc,Ue,be,Ve),Xe=function(a,b,c,d,e){function f(a){throw a}var g;return a.push(function(){g=a.Ractive}),function(a,c,h){var i,j;return j=d(a,g.baseUrl,!0),i=b(j).then(function(a){return e(a,j)},f),c&&i.then(c,h),i}}(_,Te,Jc,Ue,We),Ye=function(a,b,c,d){function e(a){return a.getAttribute("name")||d(a.getAttribute("href"))}return function(d,f){var g=new a(function(a,d){var f,g;f=Array.prototype.slice.call(document.querySelectorAll('link[rel="ractive"]')),g=f.length,f.forEach(function(f){var h=e(f);c(f.getAttribute("href")).then(function(c){b[h]=c,--g||a()},d)})});return d&&g.then(d,f),g}}(Jc,Ee,Xe,Ve),Ze=function(a,b){return function(c,d,e){var f=new a(function(a,d){var e,f,g=0,h={};f=function(e){var f=c[e];b(f).then(function(b){h[e]=b,--g||a(h)},d)};for(e in c)c.hasOwnProperty(e)&&(g+=1,f(e))});return d&&f.then(d,e),f}}(Jc,Xe),$e=function(a,b,c,d){return function(e,f,g){return e&&"function"!=typeof e?a(e)?c(e,f,g):d(e,f,g):(f=e,b(f,g))}}(n,Ye,Ze,Xe),_e=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=function(a){o(this,a)};return d(q,{prototype:{value:e},partials:{value:f},adaptors:{value:g},easing:{value:i},transitions:{value:{}},events:{value:{}},components:{value:h},decorators:{value:{}},interpolators:{value:j},defaults:{value:a.defaults},svg:{value:b},VERSION:{value:"0.4.0-pre"}}),q.eventDefinitions=q.events,q.prototype.constructor=q,q.Promise=k,q.extend=l,q.parse=m,q.load=n,p.Ractive=q,q}(b,c,d,i,De,ed,k,Ee,Fe,bb,Jc,Se,be,$e,Qe,_),af=function(a,b){for(var c="function";b.length;)b.pop()();if(typeof Date.now!==c||typeof String.prototype.trim!==c||typeof Object.keys!==c||typeof Array.prototype.indexOf!==c||typeof Array.prototype.forEach!==c||typeof Array.prototype.map!==c||typeof Array.prototype.filter!==c||"undefined"!=typeof window&&typeof window.addEventListener!==c)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return"undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains),a}(_e,_,Fc);"undefined"!=typeof module&&module.exports?module.exports=af:"function"==typeof define&&define.amd?define(function(){return af}):a.Ractive=af}("undefined"!=typeof window?window:this);